/*! For license information please see main.c16116c6.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,B=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function Q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case A:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ae(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Re=!1;function _e(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==xe||null!==Ie)&&(Ne(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Be=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,Be=e}};function Qe(e,t,n,r,i,a,o,u,s){Me=!1,Be=null,Le.apply(Ve,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(je(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,At,xt,It,Et,St=!1,Ct=[],Tt=null,Nt=null,Rt=null,_t=new Map,Dt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=yi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Rt&&Ft(Rt)&&(Rt=null),_t.forEach(Ut),Dt.forEach(Ut)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return Qt(t,e)}if(0<Ct.length){Qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Qt(Tt,e),null!==Nt&&Qt(Nt,e),null!==Rt&&Qt(Rt,e),_t.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Wt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return _t.set(a,Mt(_t.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=B({},cn,{view:0,detail:0}),hn=an(fn),dn=B({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(B({},dn,{dataTransfer:0})),mn=an(B({},fn,{relatedTarget:0})),gn=an(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(B({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Sn=B({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Sn),Tn=an(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(B({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=B({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(_n),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Bn=l&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Gn(e){Fr(e,0)}function Xn(e){if(W(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Wn)){var t=[];Kn(t,Wn,e,we(e)),_e(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Wn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Sr=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),Nr=Er("transitionend"),Rr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Rr.set(e,t),s(t,[e])}for(var Pr=0;Pr<_r.length;Pr++){var Or=_r[Pr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Qe.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Be;Me=!1,Be=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Br(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Br(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Qr]){e[Qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}_e((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Cr:case Tr:s=gn;break;case Nr:s=Rn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(qn(u))if(Yn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?bi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Bn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==k?"onCompositionEnd"===k&&jn&&(y=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,jn=!0)),0<(g=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Qn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ai=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=Ai[xi],Ai[xi]=null,xi--)}function Si(e,t){xi++,Ai[xi]=e.current,e.current=t}var Ci={},Ti=Ii(Ci),Ni=Ii(!1),Ri=Ci;function _i(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ni),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Si(Ti,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return B({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=Ti.current,Si(Ti,e),Si(Ni,Ni.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ti),Si(Ti,e)):Ei(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Qi(e){null===Fi?Fi=[e]:Fi.push(e)}function ji(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We($e,ji),i}finally{kt=t,Vi=!1}}return null}var zi=[],qi=0,Ki=null,Hi=0,Wi=[],Gi=0,Xi=null,Ji=1,Yi="";function Zi(e,t){zi[qi++]=Hi,zi[qi++]=Ki,Ki=e,Hi=t}function $i(e,t,n){Wi[Gi++]=Ji,Wi[Gi++]=Yi,Wi[Gi++]=Xi,Xi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Ji=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--qi],zi[qi]=null,Hi=zi[--qi],zi[qi]=null;for(;e===Xi;)Xi=Wi[--Gi],Wi[Gi]=null,Yi=Wi[--Gi],Wi[Gi]=null,Ji=Wi[--Gi],Wi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function Aa(e){var t=ga.current;Ei(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ca(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function _a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=B({},f,h);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Bs|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Qa={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function ja(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ri:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qa.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,_a(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ri:Ti.current,i.context=_i(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Qa.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case A:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=h(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return ia&&Zi(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case A:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Xa(!0),Ya=Xa(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Si($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function Ao(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Bs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Bs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function Do(e,t){var n=vo,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Rs)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Bo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Bo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Bo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function Qo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Qo(8390656,8,e,t)}function qo(e,t){return jo(2048,8,e,t)}function Ko(e,t){return jo(4,2,e,t)}function Ho(e,t){return jo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Wo.bind(null,t,e),n)}function Xo(){}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Bs|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:Ea,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Xo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Rs)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Rs.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(To)},useDebugValue:Xo,useDeferredValue:function(e){return Zo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:_o,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(To)},useDebugValue:Xo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(To)[0],Co().memoizedState]},useMutableSource:_o,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ja(t,e.child,n,r)}function Au(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Di(n)?Ri:Ti.current;return a=_i(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Tu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=_i(t,c=Di(n)?Ri:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Ba(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Ra?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Ra||ja(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=_i(t,s=Di(n)?Ri:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Ra=!1,h=t.memoizedState,o.state=h,Ba(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||ja(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Bi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function _u(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Pu,Ou,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Bc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Bu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Bu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Rs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Gi++]=Ji,Wi[Gi++]=Yi,Wi[Gi++]=Xi,Ji=e.id,Yi=e.overflow,Xi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Bu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function ju(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qu(e,n,t);else if(19===e.tag)Qu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ju(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ju(t,!0,n,null,a);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Di(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),$(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Pu(e,t),null===e&&jr(t.stateNode.containerInfo),Wu(t),null;case 10:return Aa(t.type._context),Wu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Yu=!1,Zu="function"===typeof WeakSet?WeakSet:Set,$u=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),jt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),ys(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),ys(e);break;case 13:ms(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(js=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){As(h);continue}}null!==p?(p.return=d,$u=p):As(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),ys(e),4&r&&vs(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){$u=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Ju;var c=Yu;if(Ju=o,(Yu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,$u=s):xs(i);for(;null!==a;)$u=a,bs(a,t,n),a=a.sibling;$u=i,Ju=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ws(e)}}function ws(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function As(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function xs(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var Is,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,Cs=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Ns=0,Rs=null,_s=null,Ds=0,Ps=0,Os=Ii(0),Ls=0,Ms=null,Bs=0,Fs=0,Us=0,Vs=null,Qs=null,js=0,zs=1/0,qs=null,Ks=!1,Hs=null,Ws=null,Gs=!1,Xs=null,Js=0,Ys=0,Zs=null,$s=-1,ec=0;function tc(){return 0!==(6&Ns)?Ye():-1!==$s?$s:$s=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Zs=null,Error(a(185));gt(e,n,r),0!==(2&Ns)&&e===Rs||(e===Rs&&(0===(2&Ns)&&(Fs|=n),4===Ls&&sc(e,Ds)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(zs=Ye()+500,Ui&&ji()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Rs?Ds:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Qi(e)}(cc.bind(null,e)):Qi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&ji()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($s=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Rs?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(Rs===e&&Ds===t||(qs=null,zs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,Ns=i,null!==_s?t=0:(Rs=null,Ds=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ac(e,Qs,qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=js+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Qs,qs),t);break}Ac(e,Qs,qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Qs,qs),r);break}Ac(e,Qs,qs);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Qs,Qs=n,null!==t&&uc(t)),e}function uc(e){null===Qs?Qs=e:Qs.push.apply(Qs,e)}function sc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Qs,qs),ic(e,Ye()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(zs=Ye()+500,Ui&&ji())}}function fc(e){null!==Xs&&0===Xs.tag&&0===(6&Ns)&&xc();var t=Ns;Ns|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Ns=t))&&ji()}}function hc(){Ps=Os.current,Ei(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==_s)for(n=_s.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Ni),Ei(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:Aa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Rs=e,_s=e=Oc(e.current,null),Ds=Ps=t,Ls=0,Ms=null,Us=Fs=Bs=0,Qs=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=_s;try{if(wa(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Cs.current=null,null===n||null===n.return){Ls=1,Ms=t,_s=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,_s===n&&null!==n&&(_s=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Rs||0===(268435455&Bs)&&0===(268435455&Fs)||sc(Rs,Ds)}function gc(e,t){var n=Ns;Ns|=2;var r=vc();for(Rs===e&&Ds===t||(qs=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Ns=n,Ss.current=r,null!==_s)throw Error(a(261));return Rs=null,Ds=0,Ls}function yc(){for(;null!==_s;)bc(_s)}function kc(){for(;null!==_s&&!Xe();)bc(_s)}function bc(e){var t=Is(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):_s=t,Cs.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(_s=n)}else{if(null!==(n=Xu(n,t)))return n.flags&=32767,void(_s=n);if(null===e)return Ls=6,void(_s=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_s=t);_s=t=e}while(null!==t);0===Ls&&(Ls=5)}function Ac(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Xs);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Rs&&(_s=Rs=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Rc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Cs.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ns,ns=!1}(e,n),gs(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Je(),Ns=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Xs=e,Js=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&Js)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Zs?Ys++:(Ys=0,Zs=e):Ys=0,ji()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Xs){var e=bt(Js),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Xs)var r=!1;else{if(e=Xs,Xs=null,Js=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(os(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$u=y;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(A){Ec(s,s.return,A)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Ns=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ic(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(130023424&Ds)===Ds&&500>Ye()-js?dc(e,0):Us|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(gt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Rc(e,t){return We(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Dc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Dc(19,n,t,i)).elementType=R,e.lanes=o,e;case P:return Bc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case T:u=11;break e;case _:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(a),e}function jc(e){if(!e)return Ci;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Qc(n,r,!0,e,0,a,0,u,s)).context=jc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=_i(t,Ti.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_a(t),i.updater=Qa,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===_)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ba(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=_u(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=_u(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ga,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),za(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,jr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Qc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,jr(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Jc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Bt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Ns)&&(zs=Ye()+500,ji()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},At=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Ce,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,A=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)A.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(A);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function A(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,S=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function R(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,D=_.port2;_.port1.onmessage=R,x=function(){D.postMessage(null)}}else x=function(){g(R,0)};function P(e){E=e,I||(I=!0,x())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(S),S=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(A))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".364e5aca.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="neuropets:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/NeuroPets/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkneuropets=self.webpackChunkneuropets||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return it},SDK_VERSION:function(){return vn},_DEFAULT_ENTRY_NAME:function(){return tn},_addComponent:function(){return on},_addOrOverwriteComponent:function(){return un},_apps:function(){return rn},_clearComponents:function(){return fn},_components:function(){return an},_getProvider:function(){return cn},_registerComponent:function(){return sn},_removeServiceInstance:function(){return ln},deleteApp:function(){return kn},getApp:function(){return gn},getApps:function(){return yn},initializeApp:function(){return mn},onLog:function(){return An},registerVersion:function(){return wn},setLogLevel:function(){return xn}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function x(e,t,n){return x=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},x.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},I(e)}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,T="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(S({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(T,v),h=e,function(){u.removeEventListener(T,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(g.location,e,n);r&&r(i,e);var a=_(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(g.location,e,n);r&&r(i,e);var a=_(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=W(i[o],X(r));return a}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ee([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),B(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:H(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=E(F(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function F(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||l(n)||u(n)||s(),i=r[0],o=r.slice(1),c=i.endsWith("?"),h=i.replace(/\?$/,"");if(0===o.length)return c?[h,""]:[h];var d=F(o.join("/")),p=[];return p.push.apply(p,f(d.map((function(e){return""===e?h:[h,e].join("/")})))),c&&p.push.apply(p,f(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var U=/^:\w+$/,V=3,Q=2,j=1,z=10,q=-2,K=function(e){return"*"===e};function H(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=q),t&&(r+=Q),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(U.test(t)?V:""===t?j:z)}),r)}function W(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=G({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Y(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function $(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(N(!(i=S({},e)).pathname||!i.pathname.includes("?"),Y("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),Y("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),Y("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ne(a),hash:re(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(I(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],ue=(new Set(oe),["get"].concat(oe));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ce=r.createContext(null);var le=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext({outlet:null,matches:[]});var ve=r.createContext(null);function me(){return null!=r.useContext(de)}function ge(){return me()||N(!1),r.useContext(de).location}function ye(e){r.useContext(he).static||r.useLayoutEffect(e)}function ke(){return null!=r.useContext(ce)?function(){var e=Te(Ae.UseNavigateStable).router,t=Re(xe.UseNavigateStable),n=r.useRef(!1);ye((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,se({fromRouteId:t},i)))}),[e,t]);return i}():function(){me()||N(!1);var e=r.useContext(he),t=e.basename,n=e.navigator,i=r.useContext(pe).matches,a=ge().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);ye((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=$(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:ee([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}()}function be(e,n,i){me()||N(!1);var a,o=r.useContext(he).navigator,u=r.useContext(pe).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,ge());if(n){var h,d="string"===typeof n?O(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),a=d}else a=f;var p=a.pathname||"/",v=M(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ce(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&m?r.createElement(de.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function we(){var e=function(){var e,t=r.useContext(ve),n=Ne(xe.UseRouteError),i=Re(xe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ae,xe,Ie=r.createElement(we,null),Ee=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(pe.Provider,{value:this.props.routeContext},r.createElement(ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Se(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ce);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(pe.Provider,{value:t},i)}function Ce(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||N(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.element?i.route.element:e,r.createElement(Se,{match:i,routeContext:{outlet:e,matches:l},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ee,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Te(e){var t=r.useContext(ce);return t||N(!1),t}function Ne(e){var t=r.useContext(le);return t||N(!1),t}function Re(e){var t=function(e){var t=r.useContext(pe);return t||N(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||N(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ae||(Ae={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(xe||(xe={}));var _e;function De(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;me()||N(!1);var o=r.useContext(le),u=ke();return r.useEffect((function(){o&&"idle"!==o.navigation.state||u(t,{replace:n,state:i,relative:a})})),null}function Pe(e){N(!1)}function Oe(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;me()&&N(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=O(u));var v=u,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,b=v.hash,w=void 0===b?"":b,A=v.state,x=void 0===A?null:A,I=v.key,E=void 0===I?"default":I,S=r.useMemo((function(){var e=J(g,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:x,key:E},navigationType:c}}),[d,g,k,w,x,E,c]);return null==S?null:r.createElement(he.Provider,{value:p},r.createElement(de.Provider,{children:o,value:S}))}function Le(e){var t=e.children,n=e.location;return be(Be(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(_e||(_e={}));var Me=new Promise((function(){}));r.Component;function Be(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(f(t),[i]);if(e.type!==r.Fragment){e.type!==Pe&&N(!1),e.props.index&&e.props.children&&N(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}else n.push.apply(n,Be(e.props.children,a))}})),n}function Fe(){return Fe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Fe.apply(this,arguments)}function Ue(){Ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:A(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,a)&&(m=y);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function A(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ve(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ve(a,r,i,o,u,"next",e)}function u(e){Ve(a,r,i,o,u,"throw",e)}o(void 0)}))}}function je(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ze(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Ke;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ke=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(I(Error)),He=function(e){return function(e){var t=ze(e);return qe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},We=function(e){try{return qe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ge(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ge(e[n],t[n]));return e}var Xe=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Je=function(){try{return Xe()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/NeuroPets",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&We(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ye=function(e){var t,n;return null===(n=null===(t=Je())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ze=function(){var e;return null===(e=Je())||void 0===e?void 0:e.config},$e=function(e){var t;return null===(t=Je())||void 0===t?void 0:t["_".concat(e)]},et=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function tt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function nt(){return!function(){var e,t=null===(e=Je())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var it=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),at.prototype.create),a}return m(n)}(I(Error)),at=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ot,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new it(n,a,t)}}]),e}();var ot=/\{\$([^}]+)}/g;function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function st(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ct(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(lt(u)&&lt(s)){if(!ct(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function lt(e){return null!==e&&"object"===typeof e}function ft(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ht(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function dt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function pt(e,t){var n=new vt(e,t);return n.subscribe.bind(n)}var vt=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=mt),void 0===r.error&&(r.error=mt),void 0===r.complete&&(r.complete=mt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function mt(){}function gt(e){return e&&e._delegate?e._delegate:e}var yt=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),kt="[DEFAULT]",bt=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new et;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kt})}catch(s){}var t,n=E(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=E(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Fw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===kt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Fw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.component?this.component.multipleInstances?e:kt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var wt,At,xt=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new bt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),It=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(At||(At={}));var Et={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},St=At.INFO,Ct=(je(wt={},At.DEBUG,"log"),je(wt,At.VERBOSE,"log"),je(wt,At.INFO,"info"),je(wt,At.WARN,"warn"),je(wt,At.ERROR,"error"),wt),Tt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ct[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nt=function(){function e(t){h(this,e),this.name=t,this._logLevel=St,this._logHandler=Tt,this._userLogHandler=null,It.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in At))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Et[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.DEBUG].concat(t)),this._logHandler.apply(this,[this,At.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.VERBOSE].concat(t)),this._logHandler.apply(this,[this,At.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.INFO].concat(t)),this._logHandler.apply(this,[this,At.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.WARN].concat(t)),this._logHandler.apply(this,[this,At.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.ERROR].concat(t)),this._logHandler.apply(this,[this,At.ERROR].concat(t))}}]),e}();function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt,Pt,Ot=function(e,t){return t.some((function(t){return e instanceof t}))};var Lt=new WeakMap,Mt=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap;var Vt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Qt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pt||(Pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qt(this),n),zt(Lt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zt(e.apply(qt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qt(this),t].concat(r));return Bt.set(a,t.sort?t.sort():[t]),zt(a)}}function jt(e){return"function"===typeof e?Qt(e):(e instanceof IDBTransaction&&function(e){if(!Mt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Mt.set(e,t)}}(e),Ot(e,Dt||(Dt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Vt):e)}function zt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(zt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Lt.set(t,e)})).catch((function(){})),Ut.set(t,e),t}(e);if(Ft.has(e))return Ft.get(e);var t=jt(e);return t!==e&&(Ft.set(e,t),Ut.set(t,e)),t}var qt=function(e){return Ut.get(e)};var Kt,Ht,Wt=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Xt=new Map;function Jt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Xt.get(t))return Xt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Wt.includes(n))){var a=function(){var e=Qe(Ue().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Xt.set(t,a),a}}}Vt=function(e){return _t(_t({},e),{},{get:function(t,n,r){return Jt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Jt(t,n)||e.has(t,n)}})}(Vt);var Yt=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Zt="@firebase/app",$t="0.9.9",en=new Nt("@firebase/app"),tn="[DEFAULT]",nn=(je(Kt={},Zt,"fire-core"),je(Kt,"@firebase/app-compat","fire-core-compat"),je(Kt,"@firebase/analytics","fire-analytics"),je(Kt,"@firebase/analytics-compat","fire-analytics-compat"),je(Kt,"@firebase/app-check","fire-app-check"),je(Kt,"@firebase/app-check-compat","fire-app-check-compat"),je(Kt,"@firebase/auth","fire-auth"),je(Kt,"@firebase/auth-compat","fire-auth-compat"),je(Kt,"@firebase/database","fire-rtdb"),je(Kt,"@firebase/database-compat","fire-rtdb-compat"),je(Kt,"@firebase/functions","fire-fn"),je(Kt,"@firebase/functions-compat","fire-fn-compat"),je(Kt,"@firebase/installations","fire-iid"),je(Kt,"@firebase/installations-compat","fire-iid-compat"),je(Kt,"@firebase/messaging","fire-fcm"),je(Kt,"@firebase/messaging-compat","fire-fcm-compat"),je(Kt,"@firebase/performance","fire-perf"),je(Kt,"@firebase/performance-compat","fire-perf-compat"),je(Kt,"@firebase/remote-config","fire-rc"),je(Kt,"@firebase/remote-config-compat","fire-rc-compat"),je(Kt,"@firebase/storage","fire-gcs"),je(Kt,"@firebase/storage-compat","fire-gcs-compat"),je(Kt,"@firebase/firestore","fire-fst"),je(Kt,"@firebase/firestore-compat","fire-fst-compat"),je(Kt,"fire-js","fire-js"),je(Kt,"firebase","fire-js-all"),Kt),rn=new Map,an=new Map;function on(e,t){try{e.container.addComponent(t)}catch(n){en.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function un(e,t){e.container.addOrOverwriteComponent(t)}function sn(e){var t=e.name;if(an.has(t))return en.debug("There were multiple attempts to register component ".concat(t,".")),!1;an.set(t,e);var n,r=E(rn.values());try{for(r.s();!(n=r.n()).done;){on(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function cn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tn;cn(e,t).clearInstance(n)}function fn(){an.clear()}var hn=(je(Ht={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),je(Ht,"bad-app-name","Illegal App name: '{$appName}"),je(Ht,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),je(Ht,"app-deleted","Firebase App named '{$appName}' already deleted"),je(Ht,"no-options","Need to provide options, when not being deployed to hosting via source."),je(Ht,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),je(Ht,"invalid-log-argument","First argument to `onLog` must be null or a function."),je(Ht,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),je(Ht,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),je(Ht,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),je(Ht,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ht),dn=new at("app","Firebase",hn),pn=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}]),e}(),vn="9.21.0";function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:tn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dn.create("bad-app-name",{appName:String(i)});if(n||(n=Ze()),!n)throw dn.create("no-options");var a=rn.get(i);if(a){if(ct(n,a.options)&&ct(r,a.config))return a;throw dn.create("duplicate-app",{appName:i})}var o,u=new xt(i),s=E(an.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new pn(n,r,u);return rn.set(i,l),l}function gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=rn.get(e);if(!t&&e===tn)return mn();if(!t)throw dn.create("no-app",{appName:e});return t}function yn(){return Array.from(rn.values())}function kn(e){return bn.apply(this,arguments)}function bn(){return bn=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!rn.has(n)){e.next=6;break}return rn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function wn(e,t,n){var r,i=null!==(r=nn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void en.warn(u.join(" "))}sn(new yt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function An(e,t){if(null!==e&&"function"!==typeof e)throw dn.create("invalid-log-argument");!function(e,t){var n,r=E(It);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Et[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:At[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function xn(e){var t;t=e,It.forEach((function(e){e.setLogLevel(t)}))}var In="firebase-heartbeat-database",En=1,Sn="firebase-heartbeat-store",Cn=null;function Tn(){return Cn||(Cn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=zt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(zt(u.result),e.oldVersion,e.newVersion,zt(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(In,En,{upgrade:function(e,t){if(0===t)e.createObjectStore(Sn)}}).catch((function(e){throw dn.create("idb-open",{originalErrorMessage:e.message})}))),Cn}function Nn(e){return Rn.apply(this,arguments)}function Rn(){return Rn=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tn();case 3:return n=e.sent,e.abrupt("return",n.transaction(Sn).objectStore(Sn).get(Pn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof it?en.warn(e.t0.message):(r=dn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),en.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Rn.apply(this,arguments)}function _n(e,t){return Dn.apply(this,arguments)}function Dn(){return Dn=Qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tn();case 3:return r=e.sent,i=r.transaction(Sn,"readwrite"),a=i.objectStore(Sn),e.next=8,a.put(n,Pn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof it?en.warn(e.t0.message):(o=dn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),en.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Dn.apply(this,arguments)}function Pn(e){return"".concat(e.name,"!").concat(e.options.appId)}var On=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Fn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ln(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ln(),n=Mn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=He(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ln(){return(new Date).toISOString().substring(0,10)}function Mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=E(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Un(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Un(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bn,Fn=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Nn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",_n(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",_n(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Un(e){return He(JSON.stringify({version:2,heartbeats:e})).length}Bn="",sn(new yt("platform-logger",(function(e){return new Yt(e)}),"PRIVATE")),sn(new yt("heartbeat",(function(e){return new On(e)}),"PRIVATE")),wn(Zt,$t,Bn),wn(Zt,$t,"esm2017"),wn("fire-js","");function Vn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Qn;Object.create;function jn(){return je({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var zn=jn,qn=new at("auth","Firebase",jn()),Kn=new Nt("@firebase/auth");function Hn(e){if(Kn.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kn.warn.apply(Kn,["Auth (".concat(vn,"): ").concat(e)].concat(n))}}function Wn(e){if(Kn.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kn.error.apply(Kn,["Auth (".concat(vn,"): ").concat(e)].concat(n))}}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yn.apply(void 0,[e].concat(n))}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yn.apply(void 0,[e].concat(n))}function Jn(e,t,n){var r=Object.assign(Object.assign({},zn()),je({},t,n));return new at("auth","Firebase",r).create(t,{appName:e.name})}function Yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return qn.create.apply(qn,[e].concat(n))}function Zn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yn.apply(void 0,[t].concat(r))}}function $n(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Wn(t),new Error(t)}function er(e,t){e||$n(t)}function tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nr(){return"http:"===rr()||"https:"===rr()}function rr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ir(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nr()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var ar=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return m(e,[{key:"get",value:function(){return ir()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function or(e,t){er(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ur=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void $n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void $n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void $n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),sr=(je(Qn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),je(Qn,"MISSING_CUSTOM_TOKEN","internal-error"),je(Qn,"INVALID_IDENTIFIER","invalid-email"),je(Qn,"MISSING_CONTINUE_URI","internal-error"),je(Qn,"INVALID_PASSWORD","wrong-password"),je(Qn,"MISSING_PASSWORD","missing-password"),je(Qn,"EMAIL_EXISTS","email-already-in-use"),je(Qn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),je(Qn,"INVALID_IDP_RESPONSE","invalid-credential"),je(Qn,"INVALID_PENDING_TOKEN","invalid-credential"),je(Qn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),je(Qn,"MISSING_REQ_TYPE","internal-error"),je(Qn,"EMAIL_NOT_FOUND","user-not-found"),je(Qn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),je(Qn,"EXPIRED_OOB_CODE","expired-action-code"),je(Qn,"INVALID_OOB_CODE","invalid-action-code"),je(Qn,"MISSING_OOB_CODE","internal-error"),je(Qn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),je(Qn,"INVALID_ID_TOKEN","invalid-user-token"),je(Qn,"TOKEN_EXPIRED","user-token-expired"),je(Qn,"USER_NOT_FOUND","user-token-expired"),je(Qn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),je(Qn,"INVALID_CODE","invalid-verification-code"),je(Qn,"INVALID_SESSION_INFO","invalid-verification-id"),je(Qn,"INVALID_TEMPORARY_PROOF","invalid-credential"),je(Qn,"MISSING_SESSION_INFO","missing-verification-id"),je(Qn,"SESSION_EXPIRED","code-expired"),je(Qn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),je(Qn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),je(Qn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),je(Qn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),je(Qn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),je(Qn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),je(Qn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),je(Qn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),je(Qn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),je(Qn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),je(Qn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),je(Qn,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),je(Qn,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),je(Qn,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),je(Qn,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),je(Qn,"MISSING_CLIENT_TYPE","missing-client-type"),je(Qn,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),je(Qn,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),je(Qn,"INVALID_REQ_TYPE","invalid-req-type"),Qn),cr=new ar(3e4,6e4);function lr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function fr(e,t,n,r){return hr.apply(this,arguments)}function hr(){return hr=Qe(Ue().mark((function e(t,n,r,i){var a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",dr(t,a,Qe(Ue().mark((function e(){var a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ft(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ur.fetch()(gr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function dr(e,t,n){return pr.apply(this,arguments)}function pr(){return pr=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},sr),n),e.prev=2,a=new yr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw kr(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw kr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw kr(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw kr(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Jn(t,p,d);case 34:Gn(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof it)){e.next=41;break}throw e.t0;case 41:Gn(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),pr.apply(this,arguments)}function vr(e,t,n,r){return mr.apply(this,arguments)}function mr(){return mr=Qe(Ue().mark((function e(t,n,r,i){var a,o,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,fr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Gn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}function gr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?or(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yr=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xn(n.auth,"network-request-failed"))}),cr.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function kr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xn(e,t,r);return i.customData._tokenResponse=n,i}function br(e,t){return wr.apply(this,arguments)}function wr(){return wr=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function Ar(e,t){return xr.apply(this,arguments)}function xr(){return xr=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function Ir(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Er(){return Er=Qe(Ue().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=gt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zn((a=Cr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ir(Sr(a.auth_time)),issuedAtTime:Ir(Sr(a.iat)),expirationTime:Ir(Sr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}function Sr(e){return 1e3*Number(e)}function Cr(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Wn("JWT malformed, contained fewer than 3 sections"),null;try{var a=We(r);return a?JSON.parse(a):(Wn("Failed to decode base64 JWT payload"),null)}catch(o){return Wn("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Tr(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=Qe(Ue().mark((function e(t,n){var r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof it&&Rr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nr.apply(this,arguments)}function Rr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _r=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Dr=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Pr(e){return Or.apply(this,arguments)}function Or(){return Or=Qe(Ue().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Tr(t,Ar(r,{idToken:i}));case 6:Zn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Vn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Mr(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Dr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}function Lr(){return(Lr=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt(t),e.next=3,Pr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function Br(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t,{},Qe(Ue().mark((function e(){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ft({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=gr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ur.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}var Ur=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zn(e.idToken,"internal-error"),Zn("undefined"!==typeof e.idToken,"internal-error"),Zn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Cr(e);return Zn(t,"internal-error"),Zn("undefined"!==typeof t.exp,"internal-error"),Zn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Qe(Ue().mark((function e(t){var n,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return $n("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Vr(e,t){Zn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qr=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new Dr(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Er.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Lr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Qe(Ue().mark((function e(t){var n,r,i=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Pr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Tr(this,br(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,A=n.providerData,x=n.stsTokenManager;Zn(k&&x,t,"internal-error");var I=Ur.fromJSON(this.name,x);Zn("string"===typeof k,t,"internal-error"),Vr(f,t.name),Vr(h,t.name),Zn("boolean"===typeof b,t,"internal-error"),Zn("boolean"===typeof w,t,"internal-error"),Vr(d,t.name),Vr(p,t.name),Vr(v,t.name),Vr(m,t.name),Vr(g,t.name),Vr(y,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return A&&Array.isArray(A)&&(E.providerData=A.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Qe(Ue().mark((function t(n,r){var i,a,o,u=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ur).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Pr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),jr=new Map;function zr(e){er(e instanceof Function,"Expected a class definition");var t=jr.get(e);return t?(er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jr.set(e,t),t)}var qr=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qr.type="NONE";var Kr=qr;function Hr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Wr=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Qr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Qe(Ue().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(zr(Kr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||zr(Kr),u=Hr(i,n.config.apiKey,n.name),s=null,c=E(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Qr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ei(t))return"Blackberry";if(ti(t))return"Webos";if(Jr(t))return"Safari";if((t.includes("chrome/")||Yr(t))&&!t.includes("edge/"))return"Chrome";if($r(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/firefox\//i.test(e)}function Jr(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/crios\//i.test(e)}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/iemobile/i.test(e)}function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/android/i.test(e)}function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/blackberry/i.test(e)}function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/webos/i.test(e)}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ri(){return function(){var e=tt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt();return ni(e)||$r(e)||ti(e)||ei(e)||/windows phone/i.test(e)||Zr(e)}function ai(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gr(tt());break;case"Worker":t="".concat(Gr(tt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vn,"/").concat(r)}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fr(t,"GET","/v2/recaptchaConfig",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function si(e){return void 0!==e&&void 0!==e.enterprise}var ci=m((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function li(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function fi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var hi=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=gi(t)}return m(e,[{key:"verify",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;si(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Qe(Ue().mark((function e(n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ci(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&si(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));li("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function di(e,t,n){return pi.apply(this,arguments)}function pi(){return pi=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new hi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),pi.apply(this,arguments)}var vi=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Qe(Ue().mark((function e(t){var n,r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=E(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=E(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),mi=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(Qe(Ue().mark((function r(){var i,a;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Wr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Qe(Ue().mark((function e(t){var n,r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Zn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gt(t):null)&&Zn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Qe(Ue().mark((function e(t){var n,r=this,i=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Zn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(zr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new ci(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new hi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new at("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zn(n=t&&zr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Wr.create(this,[zr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Qe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ai(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Hn("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gi(e){return gt(e)}var yi=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=pt((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return Zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ki(e,t,n){var r=gi(e);Zn(r._canInitEmulator,r,"emulator-config-failed"),Zn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=bi(t),o=function(e){var t=bi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:wi(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:wi(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ai=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return $n("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return $n("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return $n("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return $n("not implemented")}}]),e}();function xi(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ei(e,t){return Si.apply(this,arguments)}function Si(){return Si=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vr(t,"POST","/v1/accounts:signInWithPassword",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ci(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vr(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ni(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vr(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}var _i=function(e){y(n,e);var t=A(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,di(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Ei(t,i));case 11:return e.abrupt("return",Ei(t,r).catch(function(){var e=Qe(Ue().mark((function e(n){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,di(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Ei(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ci(t,{email:this._email,oobCode:this._password}));case 13:Gn(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ni(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Gn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ai);function Di(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vr(t,"POST","/v1/accounts:signInWithIdp",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}var Oi=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Di(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Di(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Di(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ft(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ai);function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fr(t,"POST","/v1/accounts:sendVerificationCode",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Bi(){return Bi=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vr(t,"POST","/v1/accounts:signInWithPhoneNumber",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Fi(){return Fi=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vr(t,"POST","/v1/accounts:signInWithPhoneNumber",lr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw kr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}var Ui=je({},"USER_NOT_FOUND","user-not-found");function Vi(){return Vi=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vr(t,"POST","/v1/accounts:signInWithPhoneNumber",lr(t,r),Ui));case 2:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}var Qi=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Bi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Fi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Vi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ai);var ji=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=ht(dt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Zn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ht(dt(e)).link,n=t?ht(dt(t)).deep_link_id:null,r=ht(dt(e)).deep_link_id;return(r?ht(dt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Fw){return null}}}]),e}();var zi=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return _i._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ji.parseLink(t);return Zn(n,"argument-error"),_i._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();zi.PROVIDER_ID="password",zi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var qi=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ki=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(qi),Hi=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Fw){return null}}}]),n}(Ki);Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hi.PROVIDER_ID="facebook.com";var Wi=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Fw){return null}}}]),n}(Ki);Wi.GOOGLE_SIGN_IN_METHOD="google.com",Wi.PROVIDER_ID="google.com";var Gi=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Fw){return null}}}]),n}(Ki);Gi.GITHUB_SIGN_IN_METHOD="github.com",Gi.PROVIDER_ID="github.com";var Xi=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return Oi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Fw){return null}}}]),n}(Ki);function Ji(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vr(t,"POST","/v1/accounts:signUp",lr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}Xi.TWITTER_SIGN_IN_METHOD="twitter.com",Xi.PROVIDER_ID="twitter.com";var Zi=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Qe(Ue().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Qr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=$i(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Qe(Ue().mark((function t(n,r,i){var a;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=$i(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function $i(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ea=function(e){y(n,e);var t=A(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(it);function ta(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ea._fromErrorAndOperation(e,n,t,r);throw n}))}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=Qe(Ue().mark((function e(t,n){var r,i,a=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Tr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Zi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=Qe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Tr(t,ta(i,a,n,t),r);case 6:return Zn((o=e.sent).idToken,i,"internal-error"),Zn(u=Cr(o.idToken),i,"internal-error"),s=u.sub,Zn(t.uid===s,i,"user-mismatch"),e.abrupt("return",Zi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Gn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),aa.apply(this,arguments)}function oa(e,t){return ua.apply(this,arguments)}function ua(){return ua=Qe(Ue().mark((function e(t,n){var r,i,a,o,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ta(t,i,n);case 4:return a=e.sent,e.next=7,Zi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(gi(t),n));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return la=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=gi(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,di(a,o,"signUpPassword");case 5:s=e.sent,u=Ji(a,s),e.next=10;break;case 9:u=Ji(a,o).catch(function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,di(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Ji(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Zi._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return fr(e,"POST","/v2/accounts/mfaEnrollment:start",lr(e,t))}function ha(e,t){return fr(e,"POST","/v2/accounts/mfaEnrollment:start",lr(e,t))}function da(e,t){return fr(e,"POST","/v2/accounts/mfaEnrollment:finalize",lr(e,t))}new WeakMap;var pa="__sak",va=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pa,"1"),this.storage.removeItem(pa),Promise.resolve(!0)):Promise.resolve(!1)}catch(Fw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ma=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=tt();return Jr(e)||ni(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ii(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ri()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Qe(Ue().mark((function e(t,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qe(Ue().mark((function e(t){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(va);ma.type="LOCAL";var ga=ma,ya=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(va);ya.type="SESSION";var ka=ya;function ba(e){return Promise.all(e.map(function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var wa=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Qe(Ue().mark((function e(t){var n,r,i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ba(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Aa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wa.receivers=[];var xa=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Qe(Ue().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Aa("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ia(){return window}function Ea(e){Ia().location.href=e}function Sa(){return"undefined"!==typeof Ia().WorkerGlobalScope&&"function"===typeof Ia().importScripts}function Ca(){return Ta.apply(this,arguments)}function Ta(){return(Ta=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Na(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ra="firebaseLocalStorageDb",_a="firebaseLocalStorage",Da="fbase_key",Pa=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Oa(e,t){return e.transaction([_a],t?"readwrite":"readonly").objectStore(_a)}function La(){var e=indexedDB.deleteDatabase(Ra);return new Pa(e).toPromise()}function Ma(){var e=indexedDB.open(Ra,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_a,{keyPath:Da})}catch(r){n(r)}})),e.addEventListener("success",Qe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_a)){n.next=12;break}return r.close(),n.next=5,La();case 5:return n.t0=t,n.next=8,Ma();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ba(e,t,n){return Fa.apply(this,arguments)}function Fa(){return(Fa=Qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Oa(t,!0).put((je(i={},Da,n),je(i,"value",r),i)),e.abrupt("return",new Pa(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return(Va=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t,!1).get(n),e.next=3,new Pa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t){var n=Oa(e,!0).delete(t);return new Pa(n).toPromise()}var ja=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ma();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Qe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=wa._getInstance(Sa()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Qe(Ue().mark((function e(n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new xa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Na()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ma();case 5:return t=e.sent,e.next=8,Ba(t,pa,"1");case 8:return e.next=10,Qa(t,pa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Qe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ba(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ua(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Qa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Oa(e,!1).getAll();return new Pa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=E(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ja.type="LOCAL";var za=ja;function qa(e,t){return fr(e,"POST","/v2/accounts/mfaSignIn:start",lr(e,t))}function Ka(e,t){return fr(e,"POST","/v2/accounts/mfaSignIn:finalize",lr(e,t))}fi("rcb"),new ar(3e4,6e4);var Ha="recaptcha";function Wa(e,t,n){return Ga.apply(this,arguments)}function Ga(){return Ga=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zn("string"===typeof a,t,"argument-error"),Zn(r.type===Ha,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Zn("enroll"===u.type,t,"internal-error"),e.next=13,fa(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Zn("signin"===u.type,t,"internal-error"),Zn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,qa(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Li(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ga.apply(this,arguments)}var Xa=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=gi(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return Wa(this.auth,e,gt(t))}}],[{key:"credential",value:function(e,t){return Qi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Qi._fromTokenResponse(n,r):null}}]),e}();function Ja(e,t){return t?zr(t):(Zn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xa.PROVIDER_ID="phone",Xa.PHONE_SIGN_IN_METHOD="phone";var Ya=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Di(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Di(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Di(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ai);function Za(e){return oa(e.auth,new Ya(e),e.bypassAuthState)}function $a(e){var t=e.auth,n=e.user;return Zn(n,t,"internal-error"),ia(n,new Ya(e),e.bypassAuthState)}function eo(e){return to.apply(this,arguments)}function to(){return to=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zn(r=t.user,n,"internal-error"),e.abrupt("return",na(r,new Ya(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Qe(Ue().mark((function t(n,r){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Qe(Ue().mark((function e(t){var n,r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Za;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return $a;default:Gn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ro=new ar(2e3,1e4);var io=function(e){y(n,e);var t=A(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return m(n,[{key:"executeNotNull",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Qe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return er(1===this.filter.length,"Popup operations only handle one event"),t=Aa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xn(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ro.get())}()}}]),n}(no);io.currentPopupAction=null;var ao="pendingRedirect",oo=new Map,uo=function(e){y(n,e);var t=A(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=Qe(Ue().mark((function e(){var t,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,so(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Fe(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:oo.set(this.auth._key(),t);case 21:return this.bypassAuthState||oo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Qe(Ue().mark((function e(t){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Fe(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Fe(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(no);function so(e,t){return co.apply(this,arguments)}function co(){return co=Qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ho(n),i=fo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e,t){oo.set(e._key(),t)}function fo(e){return zr(e._redirectPersistence)}function ho(e){return Hr(ao,e.config.apiKey,e.name)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=Qe(Ue().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=gi(t),a=Ja(i,n),o=new uo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}var mo=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!yo(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(go(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(go(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function go(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function yo(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ko(e){return bo.apply(this,arguments)}function bo(){return bo=Qe(Ue().mark((function e(t){var n,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}var wo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ao=/^https?/;function xo(){return xo=Qe(Ue().mark((function e(t){var n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ko(t);case 4:n=e.sent,r=n.authorizedDomains,i=E(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Io(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Gn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),xo.apply(this,arguments)}function Io(e){var t=tr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ao.test(r))return!1;if(wo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Eo=new ar(3e4,6e4);function So(){var e=Ia().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Co=null;function To(e){return Co=Co||function(e){return new Promise((function(t,n){var r,i,a;function o(){So(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){So(),n(Xn(e,"network-request-failed"))},timeout:Eo.get()})}if(null===(i=null===(r=Ia().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ia().gapi)||void 0===a?void 0:a.load)){var u=fi("iframefcb");return Ia()[u]=function(){gapi.load?o():n(Xn(e,"network-request-failed"))},li("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Co=null,e}))}(e),Co}var No=new ar(5e3,15e3),Ro="__/auth/iframe",_o="emulator/auth/iframe",Do={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Po=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oo(e){var t=e.config;Zn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?or(t,_o):"https://".concat(e.config.authDomain,"/").concat(Ro),r={apiKey:t.apiKey,appName:e.name,v:vn},i=Po.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ft(r).slice(1))}function Lo(e){return Mo.apply(this,arguments)}function Mo(){return Mo=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(t);case 2:return n=e.sent,Zn(r=Ia().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Oo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Do,dontclear:!0},(function(e){return new Promise(function(){var n=Qe(Ue().mark((function n(r,i){var a,o,u;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ia().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xn(t,"network-request-failed"),o=Ia().setTimeout((function(){i(a)}),No.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var Bo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fo=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Uo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Bo),{width:r.toString(),height:i.toString(),top:a,left:o}),l=tt().toLowerCase();n&&(u=Yr(l)?"_blank":n),Xr(l)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ni(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Fo(null);var h=window.open(t||"",u,f);Zn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Fo(h)}var Vo="__/auth/handler",Qo="emulator/auth/handler",jo=encodeURIComponent("fac");function zo(e,t,n,r,i,a){return qo.apply(this,arguments)}function qo(){return qo=Qe(Ue().mark((function e(t,n,r,i,a,o){var u,s,l,f,h,d,p,v,m,g,y,k,b;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zn(t.config.authDomain,t,"auth-domain-config-required"),Zn(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:vn,eventId:a},n instanceof qi)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",st(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)f=c(l[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof Ki&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(jo,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Ko(t),"?").concat(ft(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Ko(e){var t=e.config;return t.emulator?or(t,Qo):"https://".concat(t.authDomain,"/").concat(Vo)}var Ho="webStorageSupport",Wo=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=po,this._overrideRedirectResult=lo}return m(e,[{key:"_openPopup",value:function(){var e=Qe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return er(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,zo(t,n,r,tr(),i);case 3:return o=e.sent,e.abrupt("return",Uo(t,o,Aa()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Qe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,zo(t,n,r,tr(),i);case 4:return Ea(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(er(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(t);case 2:return n=e.sent,r=new mo(t),n.register("authEvent",(function(e){return Zn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ho,{type:Ho},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ho];void 0!==i&&t(!!i),Gn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ii()||Jr()||ni()}}]),e}(),Go=Wo,Xo=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return $n("unexpected MultiFactorSessionType")}}}]),e}(),Jo=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return fr(e,"POST","/v2/accounts/mfaEnrollment:finalize",lr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return fr(e,"POST","/v2/accounts/mfaSignIn:finalize",lr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Xo);(function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return Jo._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Yo=function(){function e(){h(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Zo._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Zo._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zn("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,ha(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",$o._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Yo.FACTOR_ID="totp";var Zo=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=Qe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zn("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",da(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zn(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ka(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Xo),$o=function(){function e(t,n,r,i,a,o,u){h(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(eu(e)||eu(t))&&(r=!0),r&&(eu(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),eu(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function eu(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var tu="@firebase/auth",nu="0.23.1",ru=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var iu,au=$e("authIdTokenMaxAge")||300,ou=null;iu="Browser",sn(new yt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Zn(u&&!u.includes(":"),"invalid-api-key",{appName:r.name}),Zn(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:iu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ai(iu)},l=new mi(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),sn(new yt("auth-internal",(function(e){return function(e){return new ru(e)}(gi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),wn(tu,nu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(iu)),wn(tu,nu,"esm2017");wn("firebase","9.21.0","app");var uu,su="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cu={},lu=lu||{},fu=su||self;function hu(){}function du(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vu="closure_uid_"+(1e9*Math.random()>>>0),mu=0;function gu(e,t,n){return e.call.apply(e.bind,arguments)}function yu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ku(e,t,n){return(ku=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gu:yu).apply(null,arguments)}function bu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Au(){this.s=this.s,this.o=this.o}Au.prototype.s=!1,Au.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,vu)&&e[vu]||(e[vu]=++mu))},Au.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Iu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Eu(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(du(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Su(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Su.prototype.h=function(){this.defaultPrevented=!0};var Cu=function(){if(!fu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fu.addEventListener("test",hu,t),fu.removeEventListener("test",hu,t)}catch(n){}return e}();function Tu(e){return/^[\s\xa0]*$/.test(e)}var Nu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ru(e,t){return e<t?-1:e>t?1:0}function _u(){var e=fu.navigator;return e&&(e=e.userAgent)?e:""}function Du(e){return-1!=_u().indexOf(e)}function Pu(e){return Pu[" "](e),e}function Ou(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}Pu[" "]=hu;var Lu,Mu=Du("Opera"),Bu=Du("Trident")||Du("MSIE"),Fu=Du("Edge"),Uu=Fu||Bu,Vu=Du("Gecko")&&!(-1!=_u().toLowerCase().indexOf("webkit")&&!Du("Edge"))&&!(Du("Trident")||Du("MSIE"))&&!Du("Edge"),Qu=-1!=_u().toLowerCase().indexOf("webkit")&&!Du("Edge");function ju(){var e=fu.document;return e?e.documentMode:void 0}e:{var zu="",qu=function(){var e=_u();return Vu?/rv:([^\);]+)(\)|;)/.exec(e):Fu?/Edge\/([\d\.]+)/.exec(e):Bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qu?/WebKit\/(\S+)/.exec(e):Mu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qu&&(zu=qu?qu[1]:""),Bu){var Ku=ju();if(null!=Ku&&Ku>parseFloat(zu)){Lu=String(Ku);break e}}Lu=zu}var Hu,Wu={};if(fu.document&&Bu){var Gu=ju();Hu=Gu||(parseInt(Lu,10)||void 0)}else Hu=void 0;var Xu=Hu;function Ju(e,t){if(Su.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vu){e:{try{Pu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ju.$.h.call(this)}}wu(Ju,Su);var Yu={2:"touch",3:"pen",4:"mouse"};Ju.prototype.h=function(){Ju.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zu="closure_listenable_"+(1e6*Math.random()|0),$u=0;function es(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++$u,this.fa=this.ia=!1}function ts(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ns(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rs(e){var t={};for(var n in e)t[n]=e[n];return t}var is="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function as(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<is.length;a++)n=is[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function os(e){this.src=e,this.g={},this.h=0}function us(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ts(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ss(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}os.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ss(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new es(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var cs="closure_lm_"+(1e6*Math.random()|0),ls={};function fs(e,t,n,r,i){if(r&&r.once)return ds(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fs(e,t[a],n,r,i);return null}return n=bs(n),e&&e[Zu]?e.O(t,n,pu(r)?!!r.capture:!!r,i):hs(e,t,n,!1,r,i)}function hs(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pu(i)?!!i.capture:!!i,u=ys(e);if(u||(e[cs]=u=new os(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=gs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Cu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ms(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ds(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ds(e,t[a],n,r,i);return null}return n=bs(n),e&&e[Zu]?e.P(t,n,pu(r)?!!r.capture:!!r,i):hs(e,t,n,!0,r,i)}function ps(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ps(e,t[a],n,r,i);else r=pu(r)?!!r.capture:!!r,n=bs(n),e&&e[Zu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ss(a=e.g[t],n,r,i))&&(ts(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ys(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ss(t,n,r,i)),(n=-1<e?t[e]:null)&&vs(n))}function vs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Zu])us(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ms(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ys(t))?(us(n,e),0==n.h&&(n.src=null,t[cs]=null)):ts(e)}}}function ms(e){return e in ls?ls[e]:ls[e]="on"+e}function gs(e,t){if(e.fa)e=!0;else{t=new Ju(t,this);var n=e.listener,r=e.la||e.src;e.ia&&vs(e),e=n.call(r,t)}return e}function ys(e){return(e=e[cs])instanceof os?e:null}var ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function bs(e){return"function"===typeof e?e:(e[ks]||(e[ks]=function(t){return e.handleEvent(t)}),e[ks])}function ws(){Au.call(this),this.i=new os(this),this.S=this,this.J=null}function As(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Su(t,e);else if(t instanceof Su)t.target=t.target||e;else{var i=t;as(t=new Su(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=xs(o,r,!0,t)&&i}if(i=xs(o=t.g=e,r,!0,t)&&i,i=xs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=xs(o=t.g=n[a],r,!1,t)&&i}function xs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&us(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wu(ws,Au),ws.prototype[Zu]=!0,ws.prototype.removeEventListener=function(e,t,n,r){ps(this,e,t,n,r)},ws.prototype.N=function(){if(ws.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ts(n[r]);delete t.g[e],t.h--}}this.J=null},ws.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ws.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Is=fu.JSON.stringify;function Es(){var e=Ps,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ss,Cs=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=Ts.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ts=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ns}),(function(e){return e.reset()})),Ns=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Rs(e){fu.setTimeout((function(){throw e}),0)}function _s(e,t){Ss||function(){var e=fu.Promise.resolve(void 0);Ss=function(){e.then(Os)}}(),Ds||(Ss(),Ds=!0),Ps.add(e,t)}var Ds=!1,Ps=new Cs;function Os(){for(var e;e=Es();){try{e.h.call(e.g)}catch(n){Rs(n)}var t=Ts;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ds=!1}function Ls(e,t){ws.call(this),this.h=e||1,this.g=t||fu,this.j=ku(this.qb,this),this.l=Date.now()}function Ms(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Bs(e,t,n){if("function"===typeof e)n&&(e=ku(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ku(e.handleEvent,e)}return 2147483647<Number(t)?-1:fu.setTimeout(e,t||0)}function Fs(e){e.g=Bs((function(){e.g=null,e.i&&(e.i=!1,Fs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wu(Ls,ws),(uu=Ls.prototype).ga=!1,uu.T=null,uu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),As(this,"tick"),this.ga&&(Ms(this),this.start()))}},uu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},uu.N=function(){Ls.$.N.call(this),Ms(this),delete this.g};var Us=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Fs(this)}},{key:"N",value:function(){Fe(k(n.prototype),"N",this).call(this),this.g&&(fu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Au);function Vs(e){Au.call(this),this.h=e,this.g={}}wu(Vs,Au);var Qs=[];function js(e,t,n,r){Array.isArray(n)||(n&&(Qs[0]=n.toString()),n=Qs);for(var i=0;i<n.length;i++){var a=fs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zs(e){ns(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vs(e)}),e),e.g={}}function qs(){this.g=!0}function Ks(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Is(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Vs.prototype.N=function(){Vs.$.N.call(this),zs(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qs.prototype.Ea=function(){this.g=!1},qs.prototype.info=function(){};var Hs={},Ws=null;function Gs(){return Ws=Ws||new ws}function Xs(e){Su.call(this,Hs.Ta,e)}function Js(e){var t=Gs();As(t,new Xs(t))}function Ys(e,t){Su.call(this,Hs.STAT_EVENT,e),this.stat=t}function Zs(e){var t=Gs();As(t,new Ys(t,e))}function $s(e,t){Su.call(this,Hs.Ua,e),this.size=t}function ec(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fu.setTimeout((function(){e()}),t)}Hs.Ta="serverreachability",wu(Xs,Su),Hs.STAT_EVENT="statevent",wu(Ys,Su),Hs.Ua="timingevent",wu($s,Su);var tc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rc(){}function ic(e){return e.h||(e.h=e.i())}function ac(){}rc.prototype.h=null;var oc,uc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sc(){Su.call(this,"d")}function cc(){Su.call(this,"c")}function lc(){}function fc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Vs(this),this.P=dc,e=Uu?125:void 0,this.V=new Ls(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new hc}function hc(){this.i=null,this.g="",this.h=!1}wu(sc,Su),wu(cc,Su),wu(lc,rc),lc.prototype.g=function(){return new XMLHttpRequest},lc.prototype.i=function(){return{}},oc=new lc;var dc=45e3,pc={},vc={};function mc(e,t,n){e.L=1,e.v=Lc(Rc(t)),e.s=n,e.S=!0,gc(e,null)}function gc(e,t){e.G=Date.now(),wc(e),e.A=Rc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Gc(n.i,"t",r),e.C=0,n=e.l.I,e.h=new hc,e.g=Xl(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Us(ku(e.Pa,e,e.g),e.O)),js(e.U,e.g,"readystatechange",e.nb),t=e.I?rs(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Js(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function yc(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function kc(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=bc(e,n))==vc){4==t&&(e.o=4,Zs(14),i=!1),Ks(e.j,e.m,null,"[Incomplete Response]");break}if(r==pc){e.o=4,Zs(15),Ks(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ks(e.j,e.m,r,null),Sc(e,r)}yc(e)&&r!=vc&&r!=pc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ql(t),t.L=!0,Zs(11))):(Ks(e.j,e.m,n,"[Invalid Chunked Response]"),Ec(e),Ic(e))}function bc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vc:(n=Number(t.substring(n,r)),isNaN(n)?pc:(r+=1)+n>t.length?vc:(t=t.substr(r,n),e.C=r+n,t))}function wc(e){e.Y=Date.now()+e.P,Ac(e,e.P)}function Ac(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ec(ku(e.lb,e),t)}function xc(e){e.B&&(fu.clearTimeout(e.B),e.B=null)}function Ic(e){0==e.l.H||e.J||ql(e.l,e)}function Ec(e){xc(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Ms(e.V),zs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Sc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||nl(n.h,e)))if(!e.K&&nl(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;zl(n),Pl(n)}Vl(n),Zs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=ec(ku(n.ib,n),6e3));if(1>=tl(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Hl(n,11)}else if((e.K||n.g==e)&&zl(n),!Tu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var u=a[4];null!=u&&(n.Ga=u,n.j.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(rl(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Oc(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Gl(r,r.I?r.oa:null,r.Y),d.K){il(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xc(p),wc(p)),r.g=d}else Ul(r);0<n.i.length&&Ll(n)}else"stop"!=a[0]&&"close"!=a[0]||Hl(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Hl(n,7):Dl(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Js()}catch(a){}}function Cc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(du(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(du(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(du(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(uu=fc.prototype).setTimeout=function(e){this.P=e},uu.nb=function(e){e=e.target;var t=this.M;t&&3==Sl(e)?t.l():this.Pa(e)},uu.Pa=function(e){try{if(e==this.g)e:{var t=Sl(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Uu||this.g&&(this.h.h||this.g.ja()||Cl(this.g)))){this.J||4!=t||7==n||Js(),xc(this);var r=this.g.da();this.aa=r;t:if(yc(this)){var i=Cl(this.g);e="";var a=i.length,o=4==Sl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ec(this),Ic(this);var u="";break t}this.h.i=new fu.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tu(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Zs(12),Ec(this),Ic(this);break e}Ks(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sc(this,r)}this.S?(kc(this,t,u),Uu&&this.i&&3==t&&(js(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,u,null),Sc(this,u)),4==t&&Ec(this),this.i&&!this.J&&(4==t?ql(this.l,this):(this.i=!1,wc(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Zs(12)):(this.o=0,Zs(13)),Ec(this),Ic(this)}}}catch(t){}},uu.mb=function(){if(this.g){var e=Sl(this.g),t=this.g.ja();this.C<t.length&&(xc(this),kc(this,e,t),this.i&&4!=e&&wc(this))}},uu.cancel=function(){this.J=!0,Ec(this)},uu.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Js(),Zs(17)),Ec(this),this.o=2,Ic(this)):Ac(this,this.Y-e)};var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nc){this.h=void 0!==t?t:e.h,_c(this,e.j),this.s=e.s,this.g=e.g,Dc(this,e.m),this.l=e.l,t=e.i;var n=new qc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pc(this,n),this.o=e.o}else e&&(n=String(e).match(Tc))?(this.h=!!t,_c(this,n[1]||"",!0),this.s=Mc(n[2]||""),this.g=Mc(n[3]||"",!0),Dc(this,n[4]),this.l=Mc(n[5]||"",!0),Pc(this,n[6]||"",!0),this.o=Mc(n[7]||"")):(this.h=!!t,this.i=new qc(null,this.h))}function Rc(e){return new Nc(e)}function _c(e,t,n){e.j=n?Mc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Dc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pc(e,t,n){t instanceof qc?(e.i=t,function(e,t){t&&!e.j&&(Kc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Hc(this,t),Gc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Bc(t,jc)),e.i=new qc(t,e.h))}function Oc(e,t,n){e.i.set(t,n)}function Lc(e){return Oc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bc(t,Uc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bc(t,Uc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bc(n,"/"==n.charAt(0)?Qc:Vc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bc(n,zc)),e.join("")};var Uc=/[#\/\?@]/g,Vc=/[#\?:]/g,Qc=/[#\?]/g,jc=/[#\?@]/g,zc=/#/g;function qc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hc(e,t){Kc(e),t=Xc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Wc(e,t){return Kc(e),t=Xc(e,t),e.g.has(t)}function Gc(e,t,n){Hc(e,t),0<n.length&&(e.i=null,e.g.set(Xc(e,t),Iu(n)),e.h+=n.length)}function Xc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(uu=qc.prototype).add=function(e,t){Kc(this),this.i=null,e=Xc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},uu.forEach=function(e,t){Kc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},uu.sa=function(){Kc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},uu.Z=function(e){Kc(this);var t=[];if("string"===typeof e)Wc(this,e)&&(t=t.concat(this.g.get(Xc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},uu.set=function(e,t){return Kc(this),this.i=null,Wc(this,e=Xc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},uu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},uu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Jc=m((function e(t,n){h(this,e),this.h=t,this.g=n}));function Yc(e){this.l=e||$c,fu.PerformanceNavigationTiming?e=0<(e=fu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fu.g&&fu.g.Ka&&fu.g.Ka()&&fu.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zc,$c=10;function el(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tl(e){return e.h?1:e.g?e.g.size:0}function nl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rl(e,t){e.g?e.g.add(t):e.h=t}function il(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function al(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=E(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Iu(e.i)}function ol(){}function ul(){this.g=new ol}function sl(e,t,n){var r=n||"";try{Cc(e,(function(e,n){var i=e;pu(e)&&(i=Is(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ll(e){this.l=e.fc||null,this.j=e.ob||!1}function fl(e,t){ws.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=hl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yc.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=E(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ol.prototype.stringify=function(e){return fu.JSON.stringify(e,void 0)},ol.prototype.parse=function(e){return fu.JSON.parse(e,void 0)},wu(ll,rc),ll.prototype.g=function(){return new fl(this.l,this.j)},ll.prototype.i=(Zc={},function(){return Zc}),wu(fl,ws);var hl=0;function dl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function pl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vl(e)}function vl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(uu=fl.prototype).open=function(e,t){if(this.readyState!=hl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vl(this)},uu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||fu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},uu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pl(this)),this.readyState=hl},uu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof fu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},uu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pl(this):vl(this),3==this.readyState&&dl(this)}},uu.Za=function(e){this.g&&(this.response=this.responseText=e,pl(this))},uu.Ya=function(e){this.g&&(this.response=e,pl(this))},uu.ka=function(){this.g&&pl(this)},uu.setRequestHeader=function(e,t){this.v.append(e,t)},uu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},uu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ml=fu.JSON.parse;function gl(e){ws.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yl,this.L=this.M=!1}wu(gl,ws);var yl="",kl=/^https?$/i,bl=["POST","PUT"];function wl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Al(e),Il(e)}function Al(e){e.F||(e.F=!0,As(e,"complete"),As(e,"error"))}function xl(e){if(e.h&&"undefined"!=typeof lu&&(!e.C[1]||4!=Sl(e)||2!=e.da()))if(e.v&&4==Sl(e))Bs(e.La,0,e);else if(As(e,"readystatechange"),4==Sl(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Tc)[1]||null;if(!a&&fu.self&&fu.self.location){var o=fu.self.location.protocol;a=o.substr(0,o.length-1)}i=!kl.test(a?a.toLowerCase():"")}t=i}if(t)As(e,"complete"),As(e,"success");else{e.m=6;try{var u=2<Sl(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.da()+"]",Al(e)}}finally{Il(e)}}}function Il(e,t){if(e.g){El(e);var n=e.g,r=e.C[0]?hu:null;e.g=null,e.C=null,t||As(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function El(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(fu.clearTimeout(e.A),e.A=null)}function Sl(e){return e.g?e.g.readyState:0}function Cl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case yl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Pf){return null}}function Tl(e){var t="";return ns(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Nl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Oc(e,t,n))}function Rl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _l(e){this.Ga=0,this.i=[],this.j=new qs,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rl("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rl("baseRetryDelayMs",5e3,e),this.hb=Rl("retryDelaySeedMs",1e4,e),this.eb=Rl("forwardChannelMaxRetries",2,e),this.xa=Rl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Yc(e&&e.concurrentRequestLimit),this.Ja=new ul,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Dl(e){if(Ol(e),3==e.H){var t=e.W++,n=Rc(e.G);Oc(n,"SID",e.J),Oc(n,"RID",t),Oc(n,"TYPE","terminate"),Bl(e,n),(t=new fc(e,e.j,t,void 0)).L=2,t.v=Lc(Rc(n)),n=!1,fu.navigator&&fu.navigator.sendBeacon&&(n=fu.navigator.sendBeacon(t.v.toString(),"")),!n&&fu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xl(t.l,null),t.g.ha(t.v)),t.G=Date.now(),wc(t)}Wl(e)}function Pl(e){e.g&&(Ql(e),e.g.cancel(),e.g=null)}function Ol(e){Pl(e),e.u&&(fu.clearTimeout(e.u),e.u=null),zl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&fu.clearTimeout(e.m),e.m=null)}function Ll(e){el(e.h)||e.m||(e.m=!0,_s(e.Na,e),e.C=0)}function Ml(e,t){var n;n=t?t.m:e.W++;var r=Rc(e.G);Oc(r,"SID",e.J),Oc(r,"RID",n),Oc(r,"AID",e.V),Bl(e,r),e.o&&e.s&&Nl(r,e.o,e.s),n=new fc(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Fl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),rl(e.h,n),mc(n,r,t)}function Bl(e,t){e.ma&&ns(e.ma,(function(e,n){Oc(t,n,e)})),e.l&&Cc({},(function(e,n){Oc(t,n,e)}))}function Fl(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ku(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{sl(l,o,"req"+c+"_")}catch(qf){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Ul(e){e.g||e.u||(e.ba=1,_s(e.Ma,e),e.A=0)}function Vl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ec(ku(e.Ma,e),Kl(e,e.A)),e.A++,!0)}function Ql(e){null!=e.B&&(fu.clearTimeout(e.B),e.B=null)}function jl(e){e.g=new fc(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Rc(e.wa);Oc(t,"RID","rpc"),Oc(t,"SID",e.J),Oc(t,"CI",e.M?"0":"1"),Oc(t,"AID",e.V),Oc(t,"TYPE","xmlhttp"),Bl(e,t),e.o&&e.s&&Nl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Lc(Rc(t)),n.s=null,n.S=!0,gc(n,e)}function zl(e){null!=e.v&&(fu.clearTimeout(e.v),e.v=null)}function ql(e,t){var n=null;if(e.g==t){zl(e),Ql(e),e.g=null;var r=2}else{if(!nl(e.h,t))return;n=t.F,il(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;As(r=Gs(),new $s(r,n)),Ll(e)}else Ul(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(tl(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ec(ku(e.Na,e,t),Kl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vl(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Hl(e,5);break;case 4:Hl(e,10);break;case 3:Hl(e,6);break;default:Hl(e,2)}}function Kl(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Hl(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ku(e.pb,e);n||(n=new Nc("//www.google.com/images/cleardot.gif"),fu.location&&"http"==fu.location.protocol||_c(n,"https"),Lc(n)),function(e,t){var n=new qs;if(fu.Image){var r=new Image;r.onload=bu(cl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bu(cl,n,r,"TestLoadImage: error",!1,t),r.onabort=bu(cl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bu(cl,n,r,"TestLoadImage: timeout",!1,t),fu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zs(2);e.H=0,e.l&&e.l.za(t),Wl(e),Ol(e)}function Wl(e){if(e.H=0,e.pa=[],e.l){var t=al(e.h);0==t.length&&0==e.i.length||(Eu(e.pa,t),Eu(e.pa,e.i),e.h.i.length=0,Iu(e.i),e.i.length=0),e.l.ya()}}function Gl(e,t,n){var r=n instanceof Nc?Rc(n):new Nc(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Dc(r,r.m);else{var i=fu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Nc(null,void 0);r&&_c(a,r),t&&(a.g=t),i&&Dc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Oc(r,n,t),Oc(r,"VER",e.qa),Bl(e,r),r}function Xl(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new gl(new ll({ob:!0})):new gl(e.va)).Oa(e.I),t}function Jl(){}function Yl(){if(Bu&&!(10<=Number(Xu)))throw Error("Environmental error: no available transport.")}function Zl(e,t){ws.call(this),this.g=new _l(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Tu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tf(this)}function $l(e){sc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ef(){cc.call(this),this.status=1}function tf(e){this.g=e}function nf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rf(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function af(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(uu=gl.prototype).Oa=function(e){this.M=e},uu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oc.g(),this.C=this.u?ic(this.u):ic(oc),this.g.onreadystatechange=ku(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void wl(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=E(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=fu.FormData&&e instanceof fu.FormData,!(0<=xu(bl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=E(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{El(this),0<this.B&&((this.L=function(e){return Bu&&Ou(Wu,9,(function(){for(var e=0,t=Nu(String(Lu)).split("."),n=Nu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ru(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ru(0==a[2].length,0==o[2].length)||Ru(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ku(this.ua,this)):this.A=Bs(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){wl(this,u)}},uu.ua=function(){"undefined"!=typeof lu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,As(this,"timeout"),this.abort(8))},uu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,As(this,"complete"),As(this,"abort"),Il(this))},uu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Il(this,!0)),gl.$.N.call(this)},uu.La=function(){this.s||(this.G||this.v||this.l?xl(this):this.kb())},uu.kb=function(){xl(this)},uu.da=function(){try{return 2<Sl(this)?this.g.status:-1}catch(Zc){return-1}},uu.ja=function(){try{return this.g?this.g.responseText:""}catch(Zc){return""}},uu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ml(t)}},uu.Ia=function(){return this.m},uu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(uu=_l.prototype).qa=8,uu.H=1,uu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new fc(this,this.j,e,void 0),n=this.s;if(this.U&&(n?as(n=rs(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fl(this,t,r),Oc(i=Rc(this.G),"RID",e),Oc(i,"CVER",22),this.F&&Oc(i,"X-HTTP-Session-Id",this.F),Bl(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Tl(n)))+"&"+r:this.o&&Nl(i,this.o,n)),rl(this.h,t),this.bb&&Oc(i,"TYPE","init"),this.P?(Oc(i,"$req",r),Oc(i,"SID","null"),t.ba=!0,mc(t,i,null)):mc(t,i,r),this.H=2}}else 3==this.H&&(e?Ml(this,e):0==this.i.length||el(this.h)||Ml(this))},uu.Ma=function(){if(this.u=null,jl(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=ec(ku(this.jb,this),e)}},uu.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Zs(10),Pl(this),jl(this))},uu.ib=function(){null!=this.v&&(this.v=null,Pl(this),Vl(this),Zs(19))},uu.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Zs(2)):(this.j.info("Failed to ping google.com"),Zs(1))},(uu=Jl.prototype).Ba=function(){},uu.Aa=function(){},uu.za=function(){},uu.ya=function(){},uu.Va=function(){},Yl.prototype.g=function(e,t){return new Zl(e,t)},wu(Zl,ws),Zl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Zs(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Gl(e,null,e.Y),Ll(e)},Zl.prototype.close=function(){Dl(this.g)},Zl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Is(e),e=n);t.i.push(new Jc(t.fb++,e)),3==t.H&&Ll(t)},Zl.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,Zl.$.N.call(this)},wu($l,sc),wu(ef,cc),wu(tf,Jl),tf.prototype.Ba=function(){As(this.g,"a")},tf.prototype.Aa=function(e){As(this.g,new $l(e))},tf.prototype.za=function(e){As(this.g,new ef)},tf.prototype.ya=function(){As(this.g,"b")},wu(nf,(function(){this.blockSize=-1})),nf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)rf(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){rf(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){rf(this,r),i=0;break}}this.h=i,this.i+=t},nf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var of={};function uf(e){return-128<=e&&128>e?Ou(of,e,(function(e){return new af([0|e],0>e?-1:0)})):new af([0|e],0>e?-1:0)}function sf(e){if(isNaN(e)||!isFinite(e))return lf;if(0>e)return vf(sf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=cf;return new af(t,0)}var cf=4294967296,lf=uf(0),ff=uf(1),hf=uf(16777216);function df(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function pf(e){return-1==e.h}function vf(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new af(n,~e.h).add(ff)}function mf(e,t){return e.add(vf(t))}function gf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function yf(e,t){this.g=e,this.h=t}function kf(e,t){if(df(t))throw Error("division by zero");if(df(e))return new yf(lf,lf);if(pf(e))return t=kf(vf(e),t),new yf(vf(t.g),vf(t.h));if(pf(t))return t=kf(e,vf(t)),new yf(vf(t.g),t.h);if(30<e.g.length){if(pf(e)||pf(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ff,r=t;0>=r.X(e);)n=bf(n),r=bf(r);var i=wf(n,1),a=wf(r,1);for(r=wf(r,2),n=wf(n,2);!df(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=wf(r,1),n=wf(n,1)}return t=mf(e,i.R(t)),new yf(i,t)}for(i=lf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=sf(n)).R(t);pf(o)||0<o.X(e);)o=(a=sf(n-=r)).R(t);df(a)&&(a=ff),i=i.add(a),e=mf(e,o)}return new yf(i,e)}function bf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new af(n,e.h)}function wf(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new af(i,e.h)}(uu=af.prototype).ea=function(){if(pf(this))return-vf(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:cf+r)*t,t*=cf}return e},uu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(df(this))return"0";if(pf(this))return"-"+vf(this).toString(e);for(var t=sf(Math.pow(e,6)),n=this,r="";;){var i=kf(n,t).g,a=((0<(n=mf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(df(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},uu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},uu.X=function(e){return pf(e=mf(this,e))?-1:df(e)?0:1},uu.abs=function(){return pf(this)?vf(this):this},uu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new af(n,-2147483648&n[n.length-1]?-1:0)},uu.R=function(e){if(df(this)||df(e))return lf;if(pf(this))return pf(e)?vf(this).R(vf(e)):vf(vf(this).R(e));if(pf(e))return vf(this.R(vf(e)));if(0>this.X(hf)&&0>e.X(hf))return sf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,gf(n,2*r+2*i),n[2*r+2*i+1]+=a*s,gf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,gf(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,gf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new af(n,0)},uu.gb=function(e){return kf(this,e).h},uu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new af(n,this.h&e.h)},uu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new af(n,this.h|e.h)},uu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new af(n,this.h^e.h)},Yl.prototype.createWebChannel=Yl.prototype.g,Zl.prototype.send=Zl.prototype.u,Zl.prototype.open=Zl.prototype.m,Zl.prototype.close=Zl.prototype.close,tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,nc.COMPLETE="complete",ac.EventType=uc,uc.OPEN="a",uc.CLOSE="b",uc.ERROR="c",uc.MESSAGE="d",ws.prototype.listen=ws.prototype.O,gl.prototype.listenOnce=gl.prototype.P,gl.prototype.getLastError=gl.prototype.Sa,gl.prototype.getLastErrorCode=gl.prototype.Ia,gl.prototype.getStatus=gl.prototype.da,gl.prototype.getResponseJson=gl.prototype.Wa,gl.prototype.getResponseText=gl.prototype.ja,gl.prototype.send=gl.prototype.ha,gl.prototype.setWithCredentials=gl.prototype.Oa,nf.prototype.digest=nf.prototype.l,nf.prototype.reset=nf.prototype.reset,nf.prototype.update=nf.prototype.j,af.prototype.add=af.prototype.add,af.prototype.multiply=af.prototype.R,af.prototype.modulo=af.prototype.gb,af.prototype.compare=af.prototype.X,af.prototype.toNumber=af.prototype.ea,af.prototype.toString=af.prototype.toString,af.prototype.getBits=af.prototype.D,af.fromNumber=sf,af.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return vf(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=sf(Math.pow(n,8)),i=lf,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=sf(Math.pow(n,o)),i=i.R(o).add(sf(u))):i=(i=i.R(r)).add(sf(u))}return i};var Af=cu.createWebChannelTransport=function(){return new Yl},xf=cu.getStatEventTarget=function(){return Gs()},If=cu.ErrorCode=tc,Ef=cu.EventType=nc,Sf=cu.Event=Hs,Cf=cu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tf=cu.FetchXmlHttpFactory=ll,Nf=cu.WebChannel=ac,Rf=cu.XhrIo=gl,_f=cu.Md5=nf,Df=cu.Integer=af,Pf="@firebase/firestore",Of=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Of.UNAUTHENTICATED=new Of(null),Of.GOOGLE_CREDENTIALS=new Of("google-credentials-uid"),Of.FIRST_PARTY=new Of("first-party-uid"),Of.MOCK_USER=new Of("mock-user");var Lf="9.21.0",Mf=new Nt("@firebase/firestore");function Bf(){return Mf.logLevel}function Ff(e){if(Mf.logLevel<=At.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qf);Mf.debug.apply(Mf,["Firestore (".concat(Lf,"): ").concat(e)].concat(f(i)))}}function Uf(e){if(Mf.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qf);Mf.error.apply(Mf,["Firestore (".concat(Lf,"): ").concat(e)].concat(f(i)))}}function Vf(e){if(Mf.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qf);Mf.warn.apply(Mf,["Firestore (".concat(Lf,"): ").concat(e)].concat(f(i)))}}function Qf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Lf,") INTERNAL ASSERTION FAILED: ")+e;throw Uf(t),new Error(t)}function zf(e,t){e||jf()}function qf(e,t){return e}var Kf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hf=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(it),Wf=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gf=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xf=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Of.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Jf=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Yf=function(){function e(t){h(this,e),this.t=t,this.currentUser=Of.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Wf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Wf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ff("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ff("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ff("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(zf("string"==typeof n.accessToken),new Gf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return zf(null===e||"string"==typeof e),new Of(e)}}]),e}(),Zf=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Of.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),$f=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new Zf(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Of.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),eh=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),th=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ff("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Ff("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ff("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Ff("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(zf("string"==typeof t.token),e.T=t.token,new eh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function nh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var rh=function(){function e(){h(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=nh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ih(e,t){return e<t?-1:e>t?1:0}function ah(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function oh(e){return e+"\0"}var uh=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Hf(Kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Hf(Kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Hf(Kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hf(Kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ih(this.nanoseconds,e.nanoseconds):ih(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sh=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new uh(0,0))}},{key:"max",value:function(){return new e(new uh(253402300799,999999999))}}]),e}(),ch=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&jf(),void 0===r?r=t.length-n:r>t.length-n&&jf(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lh=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,f(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ch),fh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hh=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Hf(Kf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hf(Kf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Hf(Kf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ch),dh=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lh.fromString(t))}},{key:"fromName",value:function(t){return new e(lh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(lh.emptyPath())}},{key:"comparator",value:function(e,t){return lh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lh(t.slice()))}}]),e}(),ph=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function vh(e){return e.fields.find((function(e){return 2===e.kind}))}function mh(e){return e.fields.filter((function(e){return 2!==e.kind}))}ph.UNKNOWN_ID=-1;var gh=m((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var yh=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,wh.min())}}]),e}();function kh(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sh.fromTimestamp(1e9===r?new uh(n+1,0):new uh(n,r));return new wh(i,dh.empty(),t)}function bh(e){return new wh(e.readTime,e.key,-1)}var wh=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(sh.min(),dh.empty(),-1)}},{key:"max",value:function(){return new e(sh.max(),dh.empty(),-1)}}]),e}();function Ah(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=dh.comparator(e.documentKey,t.documentKey))?n:ih(e.largestBatchId,t.largestBatchId)}var xh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ih=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Eh(e){return Sh.apply(this,arguments)}function Sh(){return(Sh=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Kf.FAILED_PRECONDITION&&t.message===xh){e.next=2;break}throw t;case 2:Ff("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ch=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&jf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=E(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Th=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Wf,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new _h(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=Mh(e.target.error);r.R.reject(new _h(t,n))}}return m(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(Ff("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ph(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _h(n,t)}}}]),e}(),Nh=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(tt())&&Uf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"O",value:function(){var e=Qe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ff("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _h(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hf(Kf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Hf(Kf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new _h(t,n))},i.onupgradeneeded=function(e){Ff("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){Ff("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Qe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Ue().mark((function e(){var n,u,s,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=Th.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Ch.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Ff("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ff("SimpleDb","Removing database:",e),Oh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!rt())return!1;if(e.C())return!0;var t=tt(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/NeuroPets",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Rh=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Oh(this.L.delete())}}]),e}(),_h=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,Kf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(Hf);function Dh(e){return"IndexedDbTransactionError"===e.name}var Ph=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ff("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ff("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Oh(n)}},{key:"add",value:function(e){return Ff("SimpleDb","ADD",this.store.name,e,e),Oh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Oh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ff("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ff("SimpleDb","DELETE",this.store.name,e),Oh(this.store.delete(e))}},{key:"count",value:function(){return Ff("SimpleDb","COUNT",this.store.name),Oh(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ch((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ch((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Ff("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Ch((function(n,r){t.onerror=function(e){var t=Mh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Ch((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Rh(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ch){var u=o.catch((function(e){return a.done(),Ch.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Ch.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Oh(e){return new Ch((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Mh(e.target.error);n(t)}}))}var Lh=!1;function Mh(e){var t=Nh.S(tt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Hf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Lh||(Lh=!0,setTimeout((function(){throw r}),0)),r}}return e}var Bh=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return m(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Ff("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ff,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Dh(e.t4)){e.next=17;break}Ff("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Eh(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Fh=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"nt",value:function(){var e=Qe(Ue().mark((function e(){var t,n=this,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ch.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ff("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Ff("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=bh(t);Ah(r,n)>0&&(n=r)})),new wh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Uh=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Vh(e){return null==e}function Qh(e){return 0===e&&1/e==-1/0}function jh(e){return"number"==typeof e&&Number.isInteger(e)&&!Qh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kh(t)),t=qh(e.get(n),t);return Kh(t)}function qh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kh(e){return e+"\x01\x01"}function Hh(e){var t=e.length;if(zf(t>=2),2===t)return zf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lh.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&jf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:jf()}a=o+2}return new lh(r)}Uh.ct=-1;var Wh=["userId","batchId"];function Gh(e,t){return[e,zh(t)]}function Xh(e,t,n){return[e,zh(t),n]}var Jh={},Yh=["prefixPath","collectionGroup","readTime","documentId"],Zh=["prefixPath","collectionGroup","documentId"],$h=["collectionGroup","readTime","prefixPath","documentId"],ed=["canonicalId","targetId"],td=["targetId","path"],nd=["path","targetId"],rd=["collectionId","parent"],id=["indexId","uid"],ad=["uid","sequenceNumber"],od=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ud=["indexId","uid","orderedDocumentKey"],sd=["userId","collectionPath","documentId"],cd=["userId","collectionPath","largestBatchId"],ld=["userId","collectionGroup","largestBatchId"],fd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),hd=[].concat(f(fd),["documentOverlays"]),dd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pd=dd,vd=[].concat(pd,["indexConfiguration","indexState","indexEntries"]),md=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return m(n)}(Ih);function gd(e,t){var n=qf(e);return Nh.M(n.at,t)}function yd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wd=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||xd.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ad(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ad(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ad(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ad(this.root,e,this.comparator,!0)}}]),e}(),Ad=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),xd=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw jf();if(this.right.isRed())throw jf();var e=this.left.check();if(e!==this.right.check())throw jf();return e+(this.isRed()?0:1)}}]),e}();xd.EMPTY=null,xd.RED=!0,xd.BLACK=!1,xd.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw jf()}},{key:"value",get:function(){throw jf()}},{key:"color",get:function(){throw jf()}},{key:"left",get:function(){throw jf()}},{key:"right",get:function(){throw jf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new xd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Id=function(){function e(t){h(this,e),this.comparator=t,this.data=new wd(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ed(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ed(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ed=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Sd(e){return e.hasNext()?e.getNext():void 0}var Cd=function(){function e(t){h(this,e),this.fields=t,t.sort(hh.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new Id(hh.comparator),i=E(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=E(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=E(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ah(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Td=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(I(Error));var Nd=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ih(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Td("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nd.EMPTY_BYTE_STRING=new Nd("");var Rd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _d(e){if(zf(!!e),"string"==typeof e){var t=0,n=Rd.exec(e);if(zf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Dd(e.seconds),nanos:Dd(e.nanos)}}function Dd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pd(e){return"string"==typeof e?Nd.fromBase64String(e):Nd.fromUint8Array(e)}function Od(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ld(e){var t=e.mapValue.fields.__previous_value__;return Od(t)?Ld(t):t}function Md(e){var t=_d(e.mapValue.fields.__local_write_time__.timestampValue);return new uh(t.seconds,t.nanos)}var Bd=m((function e(t,n,r,i,a,o,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Fd=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vd={nullValue:"NULL_VALUE"};function Qd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Od(e)?4:tp(e)?9007199254740991:10:jf()}function jd(e,t){if(e===t)return!0;var n=Qd(e);if(n!==Qd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Md(e).isEqual(Md(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_d(e.timestampValue),r=_d(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pd(e.bytesValue).isEqual(Pd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dd(e.geoPointValue.latitude)===Dd(t.geoPointValue.latitude)&&Dd(e.geoPointValue.longitude)===Dd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dd(e.integerValue)===Dd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Dd(e.doubleValue),r=Dd(t.doubleValue);return n===r?Qh(n)===Qh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ah(e.arrayValue.values||[],t.arrayValue.values||[],jd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yd(n)!==yd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jd(n[i],r[i])))return!1;return!0}(e,t);default:return jf()}}function zd(e,t){return void 0!==(e.values||[]).find((function(e){return jd(e,t)}))}function qd(e,t){if(e===t)return 0;var n=Qd(e),r=Qd(t);if(n!==r)return ih(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ih(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Dd(e.integerValue||e.doubleValue),r=Dd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Kd(e.timestampValue,t.timestampValue);case 4:return Kd(Md(e),Md(t));case 5:return ih(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pd(e),r=Pd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ih(n[i],r[i]);if(0!==a)return a}return ih(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ih(Dd(e.latitude),Dd(t.latitude));return 0!==n?n:ih(Dd(e.longitude),Dd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=qd(n[i],r[i]);if(a)return a}return ih(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ud.mapValue&&t===Ud.mapValue)return 0;if(e===Ud.mapValue)return 1;if(t===Ud.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ih(r[o],a[o]);if(0!==u)return u;var s=qd(n[r[o]],i[a[o]]);if(0!==s)return s}return ih(r.length,a.length)}(e.mapValue,t.mapValue);default:throw jf()}}function Kd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ih(e,t);var n=_d(e),r=_d(t),i=ih(n.seconds,r.seconds);return 0!==i?i:ih(n.nanos,r.nanos)}function Hd(e){return Wd(e)}function Wd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_d(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=E(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Wd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=E(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Wd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):jf();var t,n}function Gd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xd(e){return!!e&&"integerValue"in e}function Jd(e){return!!e&&"arrayValue"in e}function Yd(e){return!!e&&"nullValue"in e}function Zd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $d(e){return!!e&&"mapValue"in e}function ep(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ep(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ep(e.arrayValue.values[r]);return n}return Object.assign({},e)}function tp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function np(e){return"nullValue"in e?Vd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gd(Fd.empty(),dh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:jf()}function rp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gd(Fd.empty(),dh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ud:jf()}function ip(e,t){var n=qd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ap(e,t){var n=qd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var op=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$d(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ep(t)}},{key:"setAll",value:function(e){var t=this,n=hh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ep(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$d(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kd(t,(function(t,n){return e[t]=n}));var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ep(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function up(e){var t=[];return kd(e.fields,(function(e,n){var r=new hh([e]);if($d(n)){var i=up(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=E(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Cd(t)}var sp=function(){function e(t,n,r,i,a,o,u){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(sh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=op.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=op.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=sh.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sh.min(),sh.min(),sh.min(),op.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,sh.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sh.min(),sh.min(),op.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sh.min(),sh.min(),op.empty(),2)}}]),e}(),cp=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function lp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dh.comparator(dh.fromName(o.referenceValue),n.key):qd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jd(e.position[n],t.position[n]))return!1;return!0}var hp=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function dp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var pp=m((function e(){h(this,e)})),vp=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qd(t,this.value)):null!==t&&Qd(this.value)===Qd(t)&&this.matchesComparison(qd(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ep(e,t,r):"array-contains"===t?new Np(e,r):"in"===t?new Rp(e,r):"not-in"===t?new _p(e,r):"array-contains-any"===t?new Dp(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Sp(e,n):new Cp(e,n)}}]),n}(pp),mp=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return m(n,[{key:"matches",value:function(e){return gp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=E(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(pp);function gp(e){return"and"===e.op}function yp(e){return"or"===e.op}function kp(e){return bp(e)&&gp(e)}function bp(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof mp)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function wp(e){if(e instanceof vp)return e.field.canonicalString()+e.op.toString()+Hd(e.value);if(kp(e))return e.filters.map((function(e){return wp(e)})).join(",");var t=e.filters.map((function(e){return wp(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ap(e,t){return e instanceof vp?function(e,t){return t instanceof vp&&e.op===t.op&&e.field.isEqual(t.field)&&jd(e.value,t.value)}(e,t):e instanceof mp?function(e,t){return t instanceof mp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ap(n,t.filters[r])}),!0)}(e,t):void jf()}function xp(e,t){var n=e.filters.concat(t);return mp.create(n,e.op)}function Ip(e){return e instanceof vp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hd(e.value))}(e):e instanceof mp?function(e){return e.op.toString()+" {"+e.getFilters().map(Ip).join(" ,")+"}"}(e):"Filter"}var Ep=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=dh.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=dh.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(vp),Sp=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=Tp("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vp),Cp=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=Tp("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vp);function Tp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dh.fromName(e.referenceValue)}))}var Np=function(e){y(n,e);var t=A(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jd(t)&&zd(t.arrayValue,this.value)}}]),n}(vp),Rp=function(e){y(n,e);var t=A(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zd(this.value.arrayValue,t)}}]),n}(vp),_p=function(e){y(n,e);var t=A(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zd(this.value.arrayValue,t)}}]),n}(vp),Dp=function(e){y(n,e);var t=A(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zd(t.value.arrayValue,e)}))}}]),n}(vp),Pp=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Op(e){return new Pp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lp(e){var t=qf(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return wp(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Hd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Hd(e)})).join(",")),t.ft=n}return t.ft}function Mp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!dp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ap(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fp(e.startAt,t.startAt)&&fp(e.endAt,t.endAt)}function Bp(e){return dh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Fp(e,t){return e.filters.filter((function(e){return e instanceof vp&&e.field.isEqual(t)}))}function Up(e,t,n){var r,i=Vd,a=!0,o=E(Fp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Vd,c=!0;switch(u.op){case"<":case"<=":s=np(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Vd}ip({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ip({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Vp(e,t,n){var r,i=Ud,a=!0,o=E(Fp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ud,c=!0;switch(u.op){case">=":case">":s=rp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ud}ap({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ap({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Qp=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function jp(e,t,n,r,i,a,o,u){return new Qp(e,t,n,r,i,a,o,u)}function zp(e){return new Qp(e)}function qp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Kp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Hp(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Wp(e){return null!==e.collectionGroup}function Gp(e){var t=qf(e);if(null===t.dt){t.dt=[];var n=Hp(t),r=Kp(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new hp(n)),t.dt.push(new hp(hh.keyField(),"asc"));else{var i,a=!1,o=E(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new hp(hh.keyField(),s))}}}return t.dt}function Xp(e){var t=qf(e);if(!t._t)if("F"===t.limitType)t._t=Op(t.path,t.collectionGroup,Gp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=E(Gp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new hp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new cp(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new cp(t.startAt.position,t.startAt.inclusive):null;t._t=Op(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Jp(e,t){t.getFirstInequalityField(),Hp(e);var n=e.filters.concat([t]);return new Qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yp(e,t,n){return new Qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zp(e,t){return Mp(Xp(e),Xp(t))&&e.limitType===t.limitType}function $p(e){return"".concat(Lp(Xp(e)),"|lt:").concat(e.limitType)}function ev(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ip(e)})).join(", "),"]")),Vh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Hd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Hd(e)})).join(",")),"Target(".concat(t,")")}(Xp(e)),"; limitType=").concat(e.limitType,")")}function tv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=E(Gp(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=E(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=lp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gp(e),t))&&!(e.endAt&&!function(e,t,n){var r=lp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gp(e),t))}(e,t)}function nv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rv(e){return function(t,n){var r,i=!1,a=E(Gp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=iv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function iv(e,t,n){var r=e.field.isKeyField()?dh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qd(r,i):jf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jf()}}var av=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kd(this.inner,(function(t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ov=new wd(dh.comparator);function uv(){return ov}var sv=new wd(dh.comparator);function cv(){for(var e=sv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function lv(e){var t=sv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function fv(){return dv()}function hv(){return dv()}function dv(){return new av((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var pv=new wd(dh.comparator),vv=new Id(dh.comparator);function mv(){for(var e=vv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gv=new Id(ih);function yv(){return gv}function kv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function bv(e){return{integerValue:""+e}}function wv(e,t){return jh(t)?bv(t):kv(e,t)}var Av=m((function e(){h(this,e),this._=void 0}));function xv(e,t,n){return e instanceof Sv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Od(t)&&(t=Ld(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cv?Tv(e,t):e instanceof Nv?Rv(e,t):function(e,t){var n=Ev(e,t),r=Dv(n)+Dv(e.wt);return Xd(n)&&Xd(e.wt)?bv(r):kv(e.serializer,r)}(e,t)}function Iv(e,t,n){return e instanceof Cv?Tv(e,t):e instanceof Nv?Rv(e,t):n}function Ev(e,t){return e instanceof _v?Xd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Sv=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(Av),Cv=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Av);function Tv(e,t){var n,r=Pv(t),i=E(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nv=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Av);function Rv(e,t){var n,r=Pv(t),i=E(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _v=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return m(n)}(Av);function Dv(e){return Dd(e.integerValue||e.doubleValue)}function Pv(e){return Jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ov=m((function e(t,n){h(this,e),this.field=t,this.transform=n}));var Lv=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),Mv=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Fv=m((function e(){h(this,e)}));function Uv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yv(e.key,Mv.none()):new qv(e.key,e.data,Mv.none());var n,r=e.data,i=op.empty(),a=new Id(hh.comparator),o=E(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Kv(e.key,i,new Cd(a.toArray()),Mv.none())}function Vv(e,t,n){e instanceof qv?function(e,t,n){var r=e.value.clone(),i=Wv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kv?function(e,t,n){if(Bv(e.precondition,t)){var r=Wv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qv(e,t,n,r){return e instanceof qv?function(e,t,n,r){if(!Bv(e.precondition,t))return n;var i=e.value.clone(),a=Gv(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kv?function(e,t,n,r){if(!Bv(e.precondition,t))return n;var i=Gv(e.fieldTransforms,r,t),a=t.data;return a.setAll(Hv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Bv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jv(e,t){var n,r=null,i=E(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ev(a.transform,o||null);null!=u&&(null===r&&(r=op.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function zv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ah(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cv&&t instanceof Cv||e instanceof Nv&&t instanceof Nv?ah(e.elements,t.elements,jd):e instanceof _v&&t instanceof _v?jd(e.wt,t.wt):e instanceof Sv&&t instanceof Sv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var qv=function(e){y(n,e);var t=A(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fv),Kv=function(e){y(n,e);var t=A(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Fv);function Hv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wv(e,t,n){var r=new Map;zf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Iv(o,u,n[i]))}return r}function Gv(e,t,n){var r,i=new Map,a=E(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,xv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xv,Jv,Yv=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fv),Zv=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fv),$v=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=E(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Qv(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=E(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Qv(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=hv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Uv(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(sh.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(function(e,t){return zv(e,t)}))&&ah(this.baseMutations,e.baseMutations,(function(e,t){return zv(e,t)}))}}]),e}(),em=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){zf(t.mutations.length===r.length);for(var i=pv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tm=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),nm=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function rm(e){switch(e){default:return jf();case Kf.CANCELLED:case Kf.UNKNOWN:case Kf.DEADLINE_EXCEEDED:case Kf.RESOURCE_EXHAUSTED:case Kf.INTERNAL:case Kf.UNAVAILABLE:case Kf.UNAUTHENTICATED:return!1;case Kf.INVALID_ARGUMENT:case Kf.NOT_FOUND:case Kf.ALREADY_EXISTS:case Kf.PERMISSION_DENIED:case Kf.FAILED_PRECONDITION:case Kf.ABORTED:case Kf.OUT_OF_RANGE:case Kf.UNIMPLEMENTED:case Kf.DATA_LOSS:return!0}}function im(e){if(void 0===e)return Uf("GRPC error has no .code"),Kf.UNKNOWN;switch(e){case Xv.OK:return Kf.OK;case Xv.CANCELLED:return Kf.CANCELLED;case Xv.UNKNOWN:return Kf.UNKNOWN;case Xv.DEADLINE_EXCEEDED:return Kf.DEADLINE_EXCEEDED;case Xv.RESOURCE_EXHAUSTED:return Kf.RESOURCE_EXHAUSTED;case Xv.INTERNAL:return Kf.INTERNAL;case Xv.UNAVAILABLE:return Kf.UNAVAILABLE;case Xv.UNAUTHENTICATED:return Kf.UNAUTHENTICATED;case Xv.INVALID_ARGUMENT:return Kf.INVALID_ARGUMENT;case Xv.NOT_FOUND:return Kf.NOT_FOUND;case Xv.ALREADY_EXISTS:return Kf.ALREADY_EXISTS;case Xv.PERMISSION_DENIED:return Kf.PERMISSION_DENIED;case Xv.FAILED_PRECONDITION:return Kf.FAILED_PRECONDITION;case Xv.ABORTED:return Kf.ABORTED;case Xv.OUT_OF_RANGE:return Kf.OUT_OF_RANGE;case Xv.UNIMPLEMENTED:return Kf.UNIMPLEMENTED;case Xv.DATA_LOSS:return Kf.DATA_LOSS;default:return jf()}}(Jv=Xv||(Xv={}))[Jv.OK=0]="OK",Jv[Jv.CANCELLED=1]="CANCELLED",Jv[Jv.UNKNOWN=2]="UNKNOWN",Jv[Jv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jv[Jv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jv[Jv.NOT_FOUND=5]="NOT_FOUND",Jv[Jv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jv[Jv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jv[Jv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jv[Jv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jv[Jv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jv[Jv.ABORTED=10]="ABORTED",Jv[Jv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jv[Jv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jv[Jv.INTERNAL=13]="INTERNAL",Jv[Jv.UNAVAILABLE=14]="UNAVAILABLE",Jv[Jv.DATA_LOSS=15]="DATA_LOSS";var am=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return om}},{key:"getOrCreateInstance",value:function(){return null===om&&(om=new e),om}}]),e}(),om=null;function um(){return new TextEncoder}var sm=new Df([4294967295,4294967295],0);function cm(e){var t=um().encode(e),n=new _f;return n.update(t),new Uint8Array(n.digest())}function lm(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Df([n,r],0),new Df([i,a],0)]}var fm=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hm("Invalid padding: ".concat(n));if(r<0)throw new hm("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new hm("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new hm("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=Df.fromNumber(this.yt)}return m(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(Df.fromNumber(n)));return 1===r.compare(sm)&&(r=new Df([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=c(lm(cm(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=c(lm(cm(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),hm=function(e){y(n,e);var t=A(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(I(Error)),dm=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,pm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(sh.min(),i,new wd(ih),uv(),mv())}}]),e}(),pm=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,mv(),mv(),mv())}}]),e}(),vm=m((function e(t,n,r,i){h(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),mm=m((function e(t,n){h(this,e),this.targetId=t,this.bt=n})),gm=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ym=function(){function e(){h(this,e),this.Vt=0,this.St=wm(),this.Dt=Nd.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return m(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=mv(),t=mv(),n=mv();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jf()}})),new pm(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=wm()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),km=function(){function e(t){h(this,e),this.Kt=t,this.Gt=new Map,this.Qt=uv(),this.jt=bm(),this.zt=new wd(ih)}return m(e,[{key:"Wt",value:function(e){var t,n=E(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(u){n.e(u)}finally{n.f()}var i,a=E(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:jf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(Bp(a))if(0===r){var o=new dh(a.path);this.Jt(n,o,sp.newNoDocument(o,sh.min()))}else zf(1===r);else{var u=this.se(n);if(u!==r){var s=this.ie(e,u);if(0!==s){this.te(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=am.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Pd(c).toUint8Array()}catch(e){if(e instanceof Td)return Vf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new fm(a,f,d)}catch(e){return Vf(e instanceof hm?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&Bp(a.target)){var o=new dh(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,sp.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=mv();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new dm(e,n,this.zt,this.Qt,r);return this.Qt=uv(),this.jt=bm(),this.zt=new wd(ih),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new ym,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new Id(ih),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||Ff("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new ym),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function bm(){return new wd(dh.comparator)}function wm(){return new wd(dh.comparator)}var Am={asc:"ASCENDING",desc:"DESCENDING"},xm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Im={and:"AND",or:"OR"},Em=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function Sm(e,t){return e.useProto3Json||Vh(t)?t:{value:t}}function Cm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nm(e,t){return Cm(e,t.toTimestamp())}function Rm(e){return zf(!!e),sh.fromTimestamp(function(e){var t=_d(e);return new uh(t.seconds,t.nanos)}(e))}function _m(e,t){return function(e){return new lh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dm(e){var t=lh.fromString(e);return zf(tg(t)),t}function Pm(e,t){return _m(e.databaseId,t.path)}function Om(e,t){var n=Dm(t);if(n.get(1)!==e.databaseId.projectId)throw new Hf(Kf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hf(Kf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dh(Fm(n))}function Lm(e,t){return _m(e.databaseId,t)}function Mm(e){var t=Dm(e);return 4===t.length?lh.emptyPath():Fm(t)}function Bm(e){return new lh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fm(e){return zf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Um(e,t,n){return{name:Pm(e,t),fields:n.value.mapValue.fields}}function Vm(e,t,n){var r=Om(e,t.name),i=Rm(t.updateTime),a=t.createTime?Rm(t.createTime):sh.min(),o=new op({mapValue:{fields:t.fields}}),u=sp.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Qm(e,t){return"found"in t?function(e,t){zf(!!t.found),t.found.name,t.found.updateTime;var n=Om(e,t.found.name),r=Rm(t.found.updateTime),i=t.found.createTime?Rm(t.found.createTime):sh.min(),a=new op({mapValue:{fields:t.found.fields}});return sp.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){zf(!!t.missing),zf(!!t.readTime);var n=Om(e,t.missing),r=Rm(t.readTime);return sp.newNoDocument(n,r)}(e,t):jf()}function jm(e,t){var n;if(t instanceof qv)n={update:Um(e,t.key,t.value)};else if(t instanceof Yv)n={delete:Pm(e,t.key)};else if(t instanceof Kv)n={update:Um(e,t.key,t.data),updateMask:eg(t.fieldMask)};else{if(!(t instanceof Zv))return jf();n={verify:Pm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Sv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _v)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw jf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jf()}(e,t.precondition)),n}function zm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mv.updateTime(Rm(e.updateTime)):void 0!==e.exists?Mv.exists(e.exists):Mv.none()}(t.currentDocument):Mv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)zf("REQUEST_TIME"===t.setToServerValue),n=new Sv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Nv(i)}else"increment"in t?n=new _v(e,t.increment):jf();var a=hh.fromServerFormat(t.fieldPath);return new Ov(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Om(e,t.update.name),a=new op({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cd(t.map((function(e){return hh.fromServerFormat(e)})))}(t.updateMask);return new Kv(i,a,o,n,r)}return new qv(i,a,n,r)}if(t.delete){var u=Om(e,t.delete);return new Yv(u,n)}if(t.verify){var s=Om(e,t.verify);return new Zv(s,n)}return jf()}function qm(e,t){return{documents:[Lm(e,t.path)]}}function Km(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return $m(mp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ym(e.field),direction:Gm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=Sm(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hm(e){var t=Mm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Wm(e);return t instanceof mp&&kp(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new hp(Zm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Vh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new cp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new cp(n,t)}(n.endAt)),jp(t,i,u,o,s,"F",c,l)}function Wm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zm(e.unaryFilter.field);return vp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zm(e.unaryFilter.field);return vp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zm(e.unaryFilter.field);return vp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zm(e.unaryFilter.field);return vp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return jf()}}(e):void 0!==e.fieldFilter?function(e){return vp.create(Zm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mp.create(e.compositeFilter.filters.map((function(e){return Wm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jf()}}(e.compositeFilter.op))}(e):jf()}function Gm(e){return Am[e]}function Xm(e){return xm[e]}function Jm(e){return Im[e]}function Ym(e){return{fieldPath:e.canonicalString()}}function Zm(e){return hh.fromServerFormat(e.fieldPath)}function $m(e){return e instanceof vp?function(e){if("=="===e.op){if(Zd(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NAN"}};if(Yd(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zd(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NOT_NAN"}};if(Yd(e.value))return{unaryFilter:{field:Ym(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ym(e.field),op:Xm(e.op),value:e.value}}}(e):e instanceof mp?function(e){var t=e.getFilters().map((function(e){return $m(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Jm(e.op),filters:t}}}(e):jf()}function eg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var ng=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sh.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nd.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),rg=m((function e(t){h(this,e),this.le=t}));function ig(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ag(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cm(e,t.version.toTimestamp()),createTime:Cm(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:og(t.version)};else{if(!t.isUnknownDocument())return jf();r.unknownDocument={path:n.path.toArray(),version:og(t.version)}}return r}function ag(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function og(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ug(e){var t=new uh(e.seconds,e.nanoseconds);return sh.fromTimestamp(t)}function sg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zm(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return zm(e.le,t)})),u=uh.fromMillis(t.localWriteTimeMs);return new $v(t.batchId,u,n,o)}function cg(e){var t,n,r=ug(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ug(e.lastLimboFreeSnapshotVersion):sh.min();return void 0!==e.query.documents?(zf(1===(n=e.query).documents.length),t=Xp(zp(Mm(n.documents[0])))):t=function(e){return Xp(Hm(e))}(e.query),new ng(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Nd.fromBase64String(e.resumeToken))}function lg(e,t){var n,r=og(t.snapshotVersion),i=og(t.lastLimboFreeSnapshotVersion);n=Bp(t.target)?qm(e.le,t.target):Km(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Lp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function fg(e){var t=Hm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yp(t,t.limit,"L"):t}function hg(e,t){return new tm(t.largestBatchId,zm(e.le,t.overlayMutation))}function dg(e,t){var n=t.path.lastSegment();return[e,zh(t.path.popLast()),n]}function pg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:og(r.readTime),documentKey:zh(r.documentKey.path),largestBatchId:r.largestBatchId}}var vg=function(){function e(){h(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return mg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ug(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mg(e).put({bundleId:(n=t).id,createTime:og(Rm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return gg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:fg(t.bundledQuery),readTime:ug(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return gg(e).put(function(e){return{name:e.name,readTime:og(Rm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mg(e){return gd(e,"bundles")}function gg(e){return gd(e,"namedQueries")}var yg=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return kg(e).get(dg(this.userId,t)).next((function(e){return e?hg(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=fv();return Ch.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new tm(t,a);i.push(r.de(e,o))})),Ch.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(zh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(kg(e).J("collectionPathOverlayIndex",i))})),Ch.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=fv(),a=zh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kg(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=hg(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=fv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kg(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=hg(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return kg(e).put(function(e,t,n){var r=c(dg(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:jm(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function kg(e){return gd(e,"documentOverlays")}var bg=function(){function e(){h(this,e)}return m(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Dd(e.integerValue));else if("doubleValue"in e){var n=Dd(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),Qh(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Pd(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?tp(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):jf()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),dh.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function wg(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ag(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=wg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bg.be=new bg;var xg=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=Ag(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=Ag(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ig=function(){function e(t){h(this,e),this.Qe=t}return m(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),Eg=function(){function e(t){h(this,e),this.Qe=t}return m(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),Sg=function(){function e(){h(this,e),this.Qe=new xg,this.je=new Ig(this.Qe),this.ze=new Eg(this.Qe)}return m(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),Cg=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Tg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ng(e.arrayValue,t.arrayValue))?n:0!==(n=Ng(e.directionalValue,t.directionalValue))?n:dh.comparator(e.documentKey,t.documentKey)}function Ng(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Rg=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=E(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"Ze",value:function(e){zf(e.collectionGroup===this.collectionId);var t=vh(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=mh(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=E(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function _g(e){var t,n;if(zf(e instanceof vp||e instanceof mp),e instanceof vp){if(e instanceof Rp){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return vp.create(e.field,"==",t)})))||[];return mp.create(r,"or")}return e}var i=e.filters.map((function(e){return _g(e)}));return mp.create(i,e.op)}function Dg(e){if(0===e.getFilters().length)return[];var t=Mg(_g(e));return zf(Lg(t)),Pg(t)||Og(t)?[t]:t.getFilters()}function Pg(e){return e instanceof vp}function Og(e){return e instanceof mp&&kp(e)}function Lg(e){return Pg(e)||Og(e)||function(e){if(e instanceof mp&&yp(e)){var t,n=E(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Pg(r)&&!Og(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Mg(e){if(zf(e instanceof vp||e instanceof mp),e instanceof vp)return e;if(1===e.filters.length)return Mg(e.filters[0]);var t=e.filters.map((function(e){return Mg(e)})),n=mp.create(t,e.op);return Lg(n=Ug(n))?n:(zf(n instanceof mp),zf(gp(n)),zf(n.filters.length>1),n.filters.reduce((function(e,t){return Bg(e,t)})))}function Bg(e,t){var n;return zf(e instanceof vp||e instanceof mp),zf(t instanceof vp||t instanceof mp),n=e instanceof vp?t instanceof vp?function(e,t){return mp.create([e,t],"and")}(e,t):Fg(e,t):t instanceof vp?Fg(t,e):function(e,t){if(zf(e.filters.length>0&&t.filters.length>0),gp(e)&&gp(t))return xp(e,t.getFilters());var n=yp(e)?e:t,r=yp(e)?t:e,i=n.filters.map((function(e){return Bg(e,r)}));return mp.create(i,"or")}(e,t),Ug(n)}function Fg(e,t){if(gp(t))return xp(t,e.getFilters());var n=t.filters.map((function(t){return Bg(e,t)}));return mp.create(n,"or")}function Ug(e){if(zf(e instanceof vp||e instanceof mp),e instanceof vp)return e;var t=e.getFilters();if(1===t.length)return Ug(t[0]);if(bp(e))return e;var n=t.map((function(e){return Ug(e)})),r=[];return n.forEach((function(t){t instanceof vp?r.push(t):t instanceof mp&&(t.op===e.op?r.push.apply(r,f(t.filters)):r.push(t))})),1===r.length?r[0]:mp.create(r,e.op)}var Vg=function(){function e(){h(this,e),this.sn=new Qg}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Ch.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ch.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ch.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ch.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ch.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ch.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ch.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ch.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ch.resolve(wh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ch.resolve(wh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ch.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ch.resolve()}}]),e}(),Qg=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Id(lh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Id(lh.comparator)).toArray()}}]),e}(),jg=new Uint8Array(0),zg=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.rn=new Qg,this.on=new av((function(e){return Lp(e)}),(function(e,t){return Mp(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:zh(i)};return qg(e).put(a)}return Ch.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[oh(t),""],!1,!0);return qg(e).j(r).next((function(e){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Hh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Hg(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Wg(e);return a.next((function(e){o.put(pg(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Hg(e),r=Wg(e),i=Kg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Kg(e),i=!0,a=new Map;return Ch.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=mv(),o=[];return Ch.forEach(a,(function(i,a){var u;Ff("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Lp(t)));var s=function(e,t){var n=vh(t);if(void 0===n)return null;var r,i=E(Fp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=E(mh(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=E(Fp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=E(mh(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Up(e,o.fieldPath,e.startAt):Vp(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new cp(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=E(mh(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Vp(e,o.fieldPath,e.endAt):Up(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new cp(r,i)}(a,i),h=n.an(i,a,l),d=n.an(i,a,f),p=n.hn(i,a,c),v=n.ln(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Ch.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=dh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Ch.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Dg(mp.create(e.filters,"and")).map((function(t){return Op(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],h=function(){var s=t?u.fn(t[d/c]):jg,h=u.dn(e,s,n[d%c],r),p=u._n(e,s,i[d%c],a),v=o.map((function(t){return u.dn(e,s,t,!0)}));l.push.apply(l,f(u.createRange(h,p,v)))},d=0;d<s;++d)h();return l}},{key:"dn",value:function(e,t,n,r){var i=new Cg(e,dh.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new Cg(e,dh.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new Rg(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Ch.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Id(hh.comparator),r=!1,i=E(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=E(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=E(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new Sg,i=E(mh(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.We(a.kind);bg.be._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new Sg;return bg.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new Sg;return bg.be._e(Gd(this.databaseId,t),n.We(function(e){var t=mh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Sg);var i,a=0,o=E(mh(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=E(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.gn(t,s.fieldPath)&&Jd(c))r=this.yn(r,s,c);else{var h=f.We(s.kind);bg.be._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=f(e),a=[],o=E(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=E(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=new Sg;h.seed(l.Ge()),bg.be._e(s,h.We(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Hg(e),i=Wg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Ch.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new yh(t.sequenceNumber,new wh(ug(t.readTime),new dh(Hh(t.documentKey)),t.largestBatchId)):yh.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new gh(hh.fromServerFormat(n),r)}));return new ph(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ih(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Hg(e),a=Wg(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ch.forEach(t,(function(t){return a.put(pg(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ch.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ch.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ch.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?Ch.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return Kg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return Kg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=Kg(e),i=new Id(Tg);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new Cg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new Id(Tg),r=this.wn(t,e);if(null==r)return n;var i=vh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Jd(a)){var o,u=E(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Cg(t.indexId,e.key,this.fn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Cg(t.indexId,e.key,jg,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;Ff("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Sd(a),s=Sd(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Sd(o)):l?(i(u),u=Sd(a)):(u=Sd(a),s=Sd(o))}}(r,i,Tg,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),Ch.waitFor(o)}},{key:"In",value:function(e){var t=1;return Wg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Tg(e,t)})).filter((function(e,t,n){return!t||0!==Tg(e,n[t-1])}));var r=[];r.push(e);var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Tg(o,e),s=Tg(o,t);if(0===u)r[0]=e.He();else if(u>0&&s<0)r.push(o),r.push(o.He());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,jg,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,jg,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Pn",value:function(e,t){return Tg(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Gg)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ch.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||jf()}))})).next(Gg)}}]),e}();function qg(e){return gd(e,"collectionParents")}function Kg(e){return gd(e,"indexEntries")}function Hg(e){return gd(e,"indexConfiguration")}function Wg(e){return gd(e,"indexState")}function Gg(e){zf(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ah(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wh(t.readTime,t.documentKey,n)}var Xg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jg=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Yg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){zf(1===u)})));var c,l=[],f=E(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ch.waitFor(a).next((function(){return l}))}function Zg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jf();t=e.noDocument}return JSON.stringify(t).length}Jg.DEFAULT_COLLECTION_PERCENTILE=10,Jg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jg.DEFAULT=new Jg(41943040,Jg.DEFAULT_COLLECTION_PERCENTILE,Jg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jg.DISABLED=new Jg(-1,0,0);var $g=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ty(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ny(e),o=ty(e);return o.add({}).next((function(u){zf("number"==typeof u);var s,c=new $v(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return jm(e.le,t)})),i=n.mutations.map((function(t){return jm(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Id((function(e,t){return ih(e.canonicalString(),t.canonicalString())})),d=E(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xh(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jh))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[u]=c.keys()})),Ch.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ty(e).get(t).next((function(e){return e?(zf(e.userId===n.userId),sg(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?Ch.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ty(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(zf(t.batchId>=r),a=sg(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ty(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ty(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return sg(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Gh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ny(e).X({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Hh(l);if(s===n.userId&&t.path.isEqual(h))return ty(e).get(f).next((function(e){if(!e)throw jf();zf(e.userId===n.userId),a.push(sg(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Id(ih),i=[];return t.forEach((function(t){var a=Gh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ny(e).X({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Hh(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Ch.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Gh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Id(ih);return ny(e).X({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Hh(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Sn(e,u)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ty(e).get(t).next((function(e){if(null===e)throw jf();zf(e.userId===n.userId),r.push(sg(n.serializer,e))})))})),Ch.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Yg(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),Ch.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ch.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ny(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Hh(e[1]);i.push(a)}else r.done()})).next((function(){zf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ey(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return ry(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return zf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ey(e,t,n){var r=Gh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ny(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ty(e){return gd(e,"mutations")}function ny(e){return gd(e,"documentMutations")}function ry(e){return gd(e,"mutationQueues")}var iy=function(){function e(t){h(this,e),this.xn=t}return m(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),ay=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new iy(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return sh.fromTimestamp(new uh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return oy(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return zf(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return oy(e).X((function(o,u){var s=cg(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ch.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return oy(e).X((function(e,n){var r=cg(n);t(r)}))}},{key:"Mn",value:function(e){return uy(e).get("targetGlobalKey").next((function(e){return zf(null!==e),e}))}},{key:"On",value:function(e,t){return uy(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return oy(e).put(lg(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Lp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return oy(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=cg(n);Mp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=sy(e);return t.forEach((function(t){var o=zh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ch.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=sy(e);return Ch.forEach(t,(function(t){var a=zh(t.path);return Ch.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=sy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sy(e),i=mv();return r.X({range:n,Y:!0},(function(e,t,n){var r=Hh(e[1]),a=new dh(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=zh(t.path),r=IDBKeyRange.bound([n],[oh(n)],!1,!0),i=0;return sy(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return oy(e).get(t).next((function(e){return e?cg(e):null}))}}]),e}();function oy(e){return gd(e,"targets")}function uy(e){return gd(e,"targetGlobal")}function sy(e){return gd(e,"targetDocuments")}function cy(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=ih(r,o);return 0===s?ih(i,u):s}var ly=function(){function e(t){h(this,e),this.Bn=t,this.buffer=new Id(cy),this.Ln=0}return m(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fy=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;Ff("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Dh(e.t0)){e.next=12;break}Ff("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Eh(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),hy=function(){function e(t,n){h(this,e),this.Qn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ch.resolve(Uh.ct);var r=new ly(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ff("LruGarbageCollector","Garbage collection skipped; disabled"),Ch.resolve(Xg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ff("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Xg):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ff("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Bf()<=At.DEBUG&&Ff("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ch.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function dy(e,t){return new hy(e,t)}var py=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=dy(this,n)}return m(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return vy(e,n)}},{key:"removeReference",value:function(e,t,n){return vy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return vy(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return ry(e).Z((function(r){return ey(e,r,t).next((function(e){return e&&(n=!0),Ch.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,u){if(u<=t){var s=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,sh.min()),sy(e).delete([0,zh(o.path)])}))}));i.push(s)}})).next((function(){return Ch.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return vy(e,t)}},{key:"Jn",value:function(e,t){var n,r=sy(e),i=Uh.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Uh.ct&&t(new dh(Hh(n)),i),i=s,n=u):i=Uh.ct})).next((function(){i!==Uh.ct&&t(new dh(Hh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function vy(e,t){return sy(e).put(function(e,t){return{targetId:0,path:zh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var my=function(){function e(){h(this,e),this.changes=new av((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,sp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ch.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gy=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return wy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ag(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=sp.newInvalidDocument(t);return wy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ay(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:sp.newInvalidDocument(t)};return wy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ay(t))},(function(e,i){r={document:n.Zn(t,i),size:Zg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=uv();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=uv(),i=new wd(dh.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,Zg(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return Ch.resolve();var r=new Id(Iy);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ay(r.first()),Ay(r.last())),a=r.getIterator(),o=a.getNext();return wy(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=dh.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Iy(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Ay(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),ag(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wy(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=uv(),o=E(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Zn(dh.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(tv(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=uv(),o=xy(t,n),u=xy(t,wh.max());return wy(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Zn(dh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ky(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return by(e).get("remoteDocumentGlobalKey").next((function(e){return zf(!!e),e}))}},{key:"Xn",value:function(e,t){return by(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Vm(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=dh.fromSegments(t.noDocument.path),i=ug(t.noDocument.readTime);n=sp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return jf();var a=dh.fromSegments(t.unknownDocument.path),o=ug(t.unknownDocument.version);n=sp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new uh(e[0],e[1]);return sh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(sh.min()))return n}return sp.newInvalidDocument(e)}}]),e}();function yy(e){return new gy(e)}var ky=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new av((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Id((function(e,t){return ih(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ig(t.rs.serializer,o);i=i.add(a.path.popLast());var c=Zg(s);r+=c-u.size,n.push(t.rs.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ig(t.rs.serializer,o.convertToNoDocument(sh.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),Ch.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(my);function by(e){return gd(e,"remoteDocumentGlobal")}function wy(e){return gd(e,"remoteDocumentsV14")}function Ay(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xy(e,t){var n=t.documentKey.path.toArray();return[e,ag(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Iy(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ih(n[a],r[a]))return i;return(i=ih(n.length,r.length))||((i=ih(n[n.length-2],r[r.length-2]))||ih(n[n.length-1],r[r.length-1]))}var Ey=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Sy=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Qv(r.mutation,e,Cd.empty(),uh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,mv()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mv(),i=fv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=cv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=fv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,mv())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=uv(),a=dv(),o=dv();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kv)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Qv(o.mutation,t,o.mutation.getFieldMask(),uh.now())):a.set(t.key,Cd.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ey(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=dv(),i=new wd((function(e,t){return e-t})),a=mv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=E(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Cd.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||mv()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=hv();c.forEach((function(e){if(!a.has(e)){var n=Uv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Ch.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return dh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ch.resolve(fv()),u=-1,s=a;return o.next((function(t){return Ch.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ch.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,mv())})).next((function(e){return{batchId:u,changes:lv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new dh(t)).next((function(e){var t=cv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cv();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ch.forEach(o,(function(o){var u=function(e,t){return new Qp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,sp.newInvalidDocument(r)))}));var n=cv();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Qv(a.mutation,i,Cd.empty(),uh.now()),tv(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Cy=function(){function e(t){h(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return Ch.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:Rm(n.createTime)}),Ch.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ch.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:fg(e.bundledQuery),readTime:Rm(e.readTime)}}(t)),Ch.resolve()}}]),e}(),Ty=function(){function e(){h(this,e),this.overlays=new wd(dh.comparator),this.hs=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return Ch.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=fv();return Ch.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),Ch.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),Ch.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=fv(),i=t.length+1,a=new dh(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ch.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wd((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=fv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=fv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ch.resolve(s)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new tm(t,n));var a=this.hs.get(t);void 0===a&&(a=mv(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),Ny=function(){function e(){h(this,e),this.ls=new Id(Ry.fs),this.ds=new Id(Ry._s)}return m(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ry(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new Ry(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new dh(new lh([])),r=new Ry(n,e),i=new Ry(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new dh(new lh([])),n=new Ry(t,e),r=new Ry(t,e+1),i=mv();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ry(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ry=function(){function e(t,n){h(this,e),this.key=t,this.Es=n}return m(e,null,[{key:"fs",value:function(e,t){return dh.comparator(e.key,t.key)||ih(e.Es,t.Es)}},{key:"_s",value:function(e,t){return ih(e.Es,t.Es)||dh.comparator(e.key,t.key)}}]),e}(),_y=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Id(Ry.fs)}return m(e,[{key:"checkEmpty",value:function(e){return Ch.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $v(i,t,n,r);this.mutationQueue.push(a);var o,u=E(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new Ry(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ch.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ch.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return Ch.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ch.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return Ch.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ry(t,0),i=new Ry(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),Ch.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Id(ih);return t.forEach((function(e){var t=new Ry(e,0),i=new Ry(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),Ch.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dh.isDocumentKey(i)||(i=i.child(""));var a=new Ry(new dh(i),0),o=new Id(ih);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),Ch.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;zf(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Ch.forEach(t.mutations,(function(i){var a=new Ry(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ry(t,0),r=this.Rs.firstAfterOrEqual(n);return Ch.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ch.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Dy=function(){function e(t){h(this,e),this.Ss=t,this.docs=new wd(dh.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ch.resolve(n?n.document.mutableCopy():sp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=uv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():sp.newInvalidDocument(e))})),Ch.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=uv(),a=t.path,o=new dh(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Ah(bh(l),n)<=0||(r.has(l.key)||tv(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ch.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){jf()}},{key:"Ds",value:function(e,t){return Ch.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Py(this)}},{key:"getSize",value:function(e){return Ch.resolve(this.size)}}]),e}(),Py=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).rs=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),Ch.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(my),Oy=function(){function e(t){h(this,e),this.persistence=t,this.Cs=new av((function(e){return Lp(e)}),Mp),this.lastRemoteSnapshotVersion=sh.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Ny,this.targetCount=0,this.ks=iy.Nn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),Ch.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ch.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ch.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),Ch.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),Ch.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new iy(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,Ch.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),Ch.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ch.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ch.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ch.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return Ch.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),Ch.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ch.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),Ch.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return Ch.resolve(n)}},{key:"containsKey",value:function(e,t){return Ch.resolve(this.Ns.containsKey(t))}}]),e}(),Ly=function(){function e(t,n){var r=this;h(this,e),this.Ms={},this.overlays={},this.Os=new Uh(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new Oy(this),this.indexManager=new Vg,this.remoteDocumentCache=new Dy((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new rg(n),this.Ls=new Cy(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ty,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new _y(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;Ff("MemoryPersistence","Starting transaction:",e);var i=new My(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return Ch.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),My=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(Ih),By=function(){function e(t){h(this,e),this.persistence=t,this.Gs=new Ny,this.Qs=null}return m(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw jf()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),Ch.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),Ch.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),Ch.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ch.forEach(this.zs,(function(r){var i=dh.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,sh.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return Ch.or([function(){return Ch.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),Fy=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Th("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wh,{unique:!0}),e.createObjectStore("documentMutations")}(e),Uy(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ch.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Uy(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ch.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:sd});t.createIndex("collectionPathOverlayIndex",cd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ld,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Yh});t.createIndex("documentKeyIndex",Zh),t.createIndex("collectionGroupIndex",$h)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:id}).createIndex("sequenceNumberIndex",ad,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:od}).createIndex("documentKeyIndex",ud,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Zg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Ch.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Ch.forEach(r,(function(r){zf(r.userId===n.userId);var i=sg(t.serializer,r);return Yg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new lh(n),o=function(e){return[0,zh(e)]}(a);r.push(t.get(o).next((function(n){return n?Ch.resolve():function(n){return t.put({targetId:0,path:zh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ch.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:rd});var n=t.store("collectionParents"),r=new Qg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:zh(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new lh(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Hh(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=cg(r),a=lg(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new dh(lh.fromString(i.document.name).popFirst(5)):i.noDocument?dh.fromSegments(i.noDocument.path):i.unknownDocument?dh.fromSegments(i.unknownDocument.path):jf()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Ch.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=yy(this.serializer),a=new Ly(By.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:mv();sg(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ch.forEach(r,(function(e,r){var o=new Of(r),u=yg.fe(n.serializer,o),s=a.getIndexManager(o),c=$g.fe(o,n.serializer,s,a.referenceDelegate);return new Sy(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new md(t,Uh.ct),e).next()}))}))}}]),e}();function Uy(e){e.createObjectStore("targetDocuments",{keyPath:td}).createIndex("documentTargetsIndex",nd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ed,{unique:!0}),e.createObjectStore("targetGlobal")}var Vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qy=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=u,this.ii=c,this.ri=l,this.oi=f,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new Hf(Kf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new py(this,i),this.fi=n+"main",this.serializer=new rg(s),this.di=new Nh(this.fi,this.oi,new Fy(this.serializer)),this.Fs=new ay(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yy(this.serializer),this.Ls=new vg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Uf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Hf(Kf.FAILED_PRECONDITION,Vy);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Uh(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=Qe(Ue().mark((function n(r){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=Qe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zy(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(Dh(t))return Ff("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ff("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return jy(e).get("owner").next((function(e){return Ch.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return zy(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=gd(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ch.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=E(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?Ch.resolve(!0):jy(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Hf(Kf.FAILED_PRECONDITION,Vy);return!1}}return!(!t.networkEnabled||!t.inForeground)||zy(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ff("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Qe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new md(e,Uh.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zy(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return $g.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new zg(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return yg.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;Ff("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.oi)?vd:14===i?pd:13===i?dd:12===i?hd:11===i?fd:void jf();return this.di.runTransaction(e,o,u,(function(i){return a=new md(i,r.Os?r.Os.next():Uh.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw Uf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new Hf(Kf.FAILED_PRECONDITION,xh);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return jy(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Hf(Kf.FAILED_PRECONDITION,Vy)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jy(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=jy(e);return n.get("owner").next((function(e){return t.Ri(e)?(Ff("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ch.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Uf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;nt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Ff("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Uf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Uf("Failed to set zombie client id.",e)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(e){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Nh.D()}}]),e}();function jy(e){return gd(e,"owner")}function zy(e){return gd(e,"clientMetadata")}function qy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ky=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return m(e,null,[{key:"Bi",value:function(t,n){var r,i=mv(),a=mv(),o=E(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Hy=function(){function e(){h(this,e),this.Li=!1}return m(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(qp(t))return Ch.resolve(null);var r=Xp(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Yp(t,null,"F"),r=Xp(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=mv.apply(void 0,f(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,Yp(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return qp(t)||r.isEqual(sh.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(Bf()<=At.DEBUG&&Ff("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ev(t)),i.zi(e,o,t,kh(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new Id(rv(e));return t.forEach((function(t,r){tv(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return Bf()<=At.DEBUG&&Ff("QueryEngine","Using full collection scan to execute query:",ev(t)),this.qi.getDocumentsMatchingQuery(e,t,wh.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Wy=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new wd(ih),this.Ji=new av((function(e){return Lp(e)}),Mp),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return m(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sy(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function Gy(e,t,n,r){return new Wy(e,t,n,r)}function Xy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=mv(),s=E(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=E(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=E(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=E(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;u=u.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Yy(e,t){var n=qf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ch.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);zf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=mv(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Zy(e){var t=qf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function $y(e,t){var n=qf(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Nd.EMPTY_BYTE_STRING,sh.min()).withLastLimboFreeSnapshotVersion(sh.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var u=uv(),s=mv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ek(e,a,t.documentUpdates).next((function(e){u=e.er,s=e.nr}))),!r.isEqual(sh.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ch.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Hi=i,e}))}function ek(e,t,n){var r=mv(),i=mv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=uv();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(sh.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ff("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function tk(e,t){var n=qf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function nk(e,t){var n=qf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,Ch.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new ng(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function rk(e,t,n){return ik.apply(this,arguments)}function ik(){return ik=Qe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qf(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Dh(e.t1)){e.next=12;break}throw e.t1;case 12:Ff("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ik.apply(this,arguments)}function ak(e,t,n){var r=qf(e),i=sh.min(),a=mv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=qf(e),i=r.Ji.get(n);return void 0!==i?Ch.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,Xp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:sh.min(),n?a:mv())})).next((function(e){return sk(r,nv(t),e),{documents:e,sr:a}}))}))}function ok(e,t){var n=qf(e),r=qf(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function uk(e,t){var n=qf(e),r=n.Yi.get(t)||sh.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,kh(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return sk(n,t,e),e}))}function sk(e,t,n){var r=e.Yi.get(t)||sh.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function ck(e,t,n,r){return lk.apply(this,arguments)}function lk(){return lk=Qe(Ue().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=qf(t),o=mv(),u=uv(),s=E(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.ir(l.metadata.name),l.document&&(o=o.add(f)),(h=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,nk(a,function(e){return Xp(zp(lh.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ek(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)}))),lk.apply(this,arguments)}function fk(e,t){return hk.apply(this,arguments)}function hk(){return hk=Qe(Ue().mark((function e(t,n){var r,i,a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:mv(),e.next=3,nk(t,Xp(fg(n.bundledQuery)));case 3:return i=e.sent,a=qf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Rm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(Nd.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),hk.apply(this,arguments)}function dk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function pk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var mk=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Hf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Uf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gk=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hf(i.error.code,i.error.message))),a?new e(t,i.state,r):(Uf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),yk=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=yv(),o=0;i&&o<r.activeTargetIds.length;++o)i=jh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Uf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),kk=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Uf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),bk=function(){function e(){h(this,e),this.activeTargetIds=yv()}return m(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wk=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new wd(ih),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=dk(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new bk),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return m(e,[{key:"start",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=E(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(dk(this.persistenceKey,i)))&&(o=yk.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(u=this.storage.getItem(this.Ar))&&(s=this.Pr(u))&&this.br(s),c=E(this.gr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.wr(f)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vk(this.persistenceKey,e));if(n){var r=gk.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(vk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ff("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ff("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ff("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ff("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void Uf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(Qe(Ue().mark((function e(){var r,i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(u));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}s=function(e){var t=Uh.ct;if(null!=e)try{var n=JSON.parse(e);zf("number"==typeof n),t=n}catch(e){Uf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Uh.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new mk(this.currentUser,e,t,n),i=pk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=pk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=vk(this.persistenceKey,e),i=new gk(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return yk.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mk.cr(new Of(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return gk.cr(r,t)}},{key:"Pr",value:function(e){return kk.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:Ff("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.zr(o,u).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=yv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ak=function(){function e(){h(this,e),this.Wr=new bk,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new bk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),xk=function(){function e(){h(this,e)}return m(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ik=function(){function e(){var t=this;h(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return m(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){Ff("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=E(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){Ff("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=E(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ek=null;function Sk(){return null===Ek?Ek=268435456+Math.round(2147483648*Math.random()):Ek++,"0x"+Ek.toString(16)}var Ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Tk=function(){function e(t){h(this,e),this.io=t.io,this.ro=t.ro}return m(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),Nk="WebChannelConnection",Rk=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return m(n,[{key:"Eo",value:function(e,t,n,r){var i=Sk();return new Promise((function(a,o){var u=new Rf;u.setWithCredentials(!0),u.listenOnce(Ef.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case If.NO_ERROR:var t=u.getResponseJson();Ff(Nk,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case If.TIMEOUT:Ff(Nk,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Hf(Kf.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:var n=u.getStatus();if(Ff(Nk,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kf).indexOf(t)>=0?t:Kf.UNKNOWN}(s.status);o(new Hf(c,s.message))}else o(new Hf(Kf.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Hf(Kf.UNAVAILABLE,"Connection failed."));break;default:jf()}}finally{Ff(Nk,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Ff(Nk,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Sk(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Af(),o=xf(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Tf({})),this.To(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");Ff(Nk,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new Tk({io:function(t){f?Ff(Nk,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Ff(Nk,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Nf.EventType.OPEN,(function(){f||Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,Nf.EventType.CLOSE,(function(){f||(f=!0,Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(c,Nf.EventType.ERROR,(function(t){f||(f=!0,Vf(Nk,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new Hf(Kf.UNAVAILABLE,"The operation could not be completed")))})),d(c,Nf.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];zf(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Xv[e];if(void 0!==t)return im(t)}(u),l=o.message;void 0===s&&(s=Kf.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.fo(new Hf(s,l)),c.close()}else Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,Sf.STAT_EVENT,(function(t){t.stat===Cf.PROXY?Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Cf.NOPROXY&&Ff(Nk,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=Sk(),o=this.Io(e,t);Ff("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.To(u,r,i),this.Eo(e,o,u,n).then((function(t){return Ff("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Vf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=Ck[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function _k(){return"undefined"!=typeof window?window:null}function Dk(){return"undefined"!=typeof document?document:null}function Pk(e){return new Em(e,!0)}var Ok=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&Ff("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),Lk=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Ok(t,n)}return m(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===Kf.RESOURCE_EXHAUSTED?(Uf(n.toString()),Uf("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===Kf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new Hf(Kf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return Ff("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(Ff("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Mk=function(e){y(n,e);var t=A(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return m(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(zf(void 0===t||"string"==typeof t),Nd.fromBase64String(t||"")):(zf(void 0===t||t instanceof Uint8Array),Nd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Kf.UNKNOWN:im(e.code);return new Hf(t,e.message||"")}(o);n=new gm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Om(e,s.document.name),l=Rm(s.document.updateTime),f=s.document.createTime?Rm(s.document.createTime):sh.min(),h=new op({mapValue:{fields:s.document.fields}}),d=sp.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new vm(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Om(e,m.document),y=m.readTime?Rm(m.readTime):sh.min(),k=sp.newNoDocument(g,y),b=m.removedTargetIds||[];n=new vm([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var A=Om(e,w.document),x=w.removedTargetIds||[];n=new vm([],x,A,null)}else{if(!("filter"in t))return jf();t.filter;var I=t.filter;I.targetId;var E=I.count,S=void 0===E?0:E,C=I.unchangedNames,T=new nm(S,C),N=I.targetId;n=new mm(N,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return sh.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sh.min():t.readTime?Rm(t.readTime):sh.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=Bm(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Bp(r)?{documents:qm(e,r)}:{query:Km(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tm(e,t.resumeToken);var i=Sm(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(sh.min())>0){n.readTime=Cm(e,t.snapshotVersion.toTimestamp());var a=Sm(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=Bm(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(Lk),Bk=function(e){y(n,e);var t=A(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.iu=!1,s}return m(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Fe(k(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(zf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(zf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Rm(e.updateTime):Rm(t);return n.isEqual(sh.min())&&(n=Rm(t)),new Lv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Rm(e.commitTime);return this.listener.uu(n,t)}return zf(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=Bm(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return jm(t.serializer,e)}))};this.zo(n)}}]),n}(Lk),Fk=function(e){y(n,e);var t=A(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return m(n,[{key:"lu",value:function(){if(this.hu)throw new Hf(Kf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.po(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hf(Kf.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.Ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Hf(Kf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return m((function e(){h(this,e)}))}());var Uk=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return m(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(Uf(t),this.wu=!1):Ff("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Vk=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Yk(o),!e.t0){e.next=5;break}return Ff("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qf(t)).Au.add(4),e.next=4,zk(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,Qk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new Uk(r,i)}));function Qk(e){return jk.apply(this,arguments)}function jk(){return(jk=Qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Yk(t)){e.next=18;break}n=E(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function zk(e){return qk.apply(this,arguments)}function qk(){return(qk=Qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=E(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Kk(e,t){var n=qf(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),Jk(n)?Xk(n):Sb(n).Uo()&&Wk(n,t))}function Hk(e,t){var n=qf(e),r=Sb(n);n.Eu.delete(t),r.Uo()&&Gk(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():Yk(n)&&n.Pu.set("Unknown"))}function Wk(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sh.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sb(e).nu(t)}function Gk(e,t){e.bu.Lt(t),Sb(e).su(t)}function Xk(e){e.bu=new km({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),Sb(e).start(),e.Pu.mu()}function Jk(e){return Yk(e)&&!Sb(e).qo()&&e.Eu.size>0}function Yk(e){return 0===qf(e).Au.size}function Zk(e){e.bu=void 0}function $k(e){return eb.apply(this,arguments)}function eb(){return(eb=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){Wk(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tb(e,t){return nb.apply(this,arguments)}function nb(){return(nb=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zk(t),Jk(t)?(t.Pu.pu(n),Xk(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rb(e,t,n){return ib.apply(this,arguments)}function ib(){return ib=Qe(Ue().mark((function e(t,n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof gm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=E(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ff("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ab(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof vm?t.bu.Wt(n):n instanceof mm?t.bu.ee(n):t.bu.Yt(n),r.isEqual(sh.min())){e.next=29;break}return e.prev=14,e.next=17,Zy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(Nd.EMPTY_BYTE_STRING,r.snapshotVersion)),Gk(e,t);var i=new ng(r.target,t,n,r.sequenceNumber);Wk(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ff("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ab(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ib.apply(this,arguments)}function ab(e,t,n){return ob.apply(this,arguments)}function ob(){return(ob=Qe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dh(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,zk(t);case 5:t.Pu.set("Offline"),r||(r=function(){return Zy(t.localStore)}),t.asyncQueue.enqueueRetryable(Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ff("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,Qk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ub(e,t){return t().catch((function(n){return ab(e,n,t)}))}function sb(e){return cb.apply(this,arguments)}function cb(){return(cb=Qe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qf(t),r=Cb(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!lb(n)){e.next=19;break}return e.prev=3,e.next=6,tk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,fb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ab(n,e.t0);case 17:e.next=2;break;case 19:hb(n)&&db(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function lb(e){return Yk(e)&&e.Tu.length<10}function fb(e,t){e.Tu.push(t);var n=Cb(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function hb(e){return Yk(e)&&!Cb(e).qo()&&e.Tu.length>0}function db(e){Cb(e).start()}function pb(e){return vb.apply(this,arguments)}function vb(){return(vb=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cb(t).au();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mb(e){return gb.apply(this,arguments)}function gb(){return(gb=Qe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cb(t),r=E(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yb(e,t,n){return kb.apply(this,arguments)}function kb(){return(kb=Qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=em.from(i,n,r),e.next=3,ub(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,sb(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=Qe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Cb(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rm(i=n.code)||i===Kf.ABORTED){e.next=7;break}return r=t.Tu.shift(),Cb(t).Go(),e.next=5,ub(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,sb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:hb(t)&&db(t);case 5:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function Ab(e,t){return xb.apply(this,arguments)}function xb(){return(xb=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qf(t)).asyncQueue.verifyOperationInProgress(),Ff("RemoteStore","RemoteStore received new credentials"),i=Yk(r),r.Au.add(3),e.next=6,zk(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,Qk(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ib(e,t){return Eb.apply(this,arguments)}function Eb(){return(Eb=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,Qk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,zk(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sb(e){return e.Vu||(e.Vu=function(e,t,n){var r=qf(e);return r.lu(),new Mk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:$k.bind(null,e),co:tb.bind(null,e),eu:rb.bind(null,e)}),e.Ru.push(function(){var t=Qe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),Jk(e)?Xk(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:Zk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function Cb(e){return e.Su||(e.Su=function(e,t,n){var r=qf(e);return r.lu(),new Bk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:pb.bind(null,e),co:bb.bind(null,e),cu:mb.bind(null,e),uu:yb.bind(null,e)}),e.Ru.push(function(){var t=Qe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,sb(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(Ff("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var Tb=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hf(Kf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Nb(e,t){if(Uf("AsyncQueue","".concat(t,": ").concat(e)),Dh(e))return new Hf(Kf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Rb=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||dh.comparator(e.key,n.key)}:function(e,t){return dh.comparator(e.key,t.key)},this.keyedMap=cv(),this.sortedSet=new wd(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_b=function(){function e(){h(this,e),this.Du=new wd(dh.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):jf():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Db=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Rb.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Pb=m((function e(){h(this,e),this.xu=void 0,this.listeners=[]})),Ob=m((function e(){h(this,e),this.queries=new av((function(e){return $p(e)}),Zp),this.onlineState="Unknown",this.Nu=new Set}));function Lb(e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=Qe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Pb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Nb(e.t0,"Initialization of query '".concat(ev(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&Qb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Mb.apply(this,arguments)}function Bb(e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=Qe(Ue().mark((function e(t,n){var r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function Ub(e,t){var n,r=qf(e),i=!1,a=E(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=E(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Qb(r)}function Vb(e,t,n){var r=qf(e),i=r.queries.get(t);if(i){var a,o=E(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Qb(e){e.Nu.forEach((function(e){e.next()}))}var jb=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=E(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Db(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=Db.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),zb=function(){function e(t,n){h(this,e),this.Ku=t,this.byteLength=n}return m(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),qb=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"ir",value:function(e){return Om(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?Vm(this.serializer,e.document,!1):sp.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return Rm(e)}}]),e}(),Kb=function(){function e(t,n,r){h(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hb(t)}return m(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=lh.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new qb(this.serializer),i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.ir(a.metadata.name),s=E(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||mv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ck(this.localStore,new qb(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=E(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,fk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Wb=m((function e(t){h(this,e),this.key=t})),Gb=m((function e(t){h(this,e),this.key=t})),Xb=function(){function e(t,n){h(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=mv(),this.mutatedKeys=mv(),this.Zu=rv(t),this.tc=new Rb(this.Zu)}return m(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new _b,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=tv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Zu(f,s)>0||c&&n.Zu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:u,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jf()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],u=0===this.Xu.size&&this.current?1:0,s=u!==this.Yu;return this.Yu=u,0!==a.length||s?{snapshot:new Db(this.query,e.tc,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new _b,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=mv(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new Gb(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new Wb(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=mv();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return Db.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),Jb=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),Yb=m((function e(t){h(this,e),this.key=t,this.lc=!1})),Zb=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new av((function(e){return $p(e)}),Zp),this._c=new Map,this.wc=new Set,this.mc=new wd(dh.comparator),this.gc=new Map,this.yc=new Ny,this.Ic={},this.Tc=new Map,this.Ec=iy.kn(),this.onlineState="Unknown",this.Ac=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function $b(e,t){return ew.apply(this,arguments)}function ew(){return ew=Qe(Ue().mark((function e(t,n){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hw(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,nk(r.localStore,Xp(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,tw(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Kk(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t,n,r,i){return nw.apply(this,arguments)}function nw(){return nw=Qe(Ue().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Qe(Ue().mark((function e(t,n,r,i){var a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,ak(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Aw(t,n.targetId,u.uc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ak(t.localStore,n,!0);case 3:return o=e.sent,u=new Xb(n,o.sr),s=u.nc(o.documents),c=pm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Aw(t,r,l.uc),f=new Jb(n,r,u),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),nw.apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return(iw=Qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Zp(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,rk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Hk(r.remoteStore,i.targetId),bw(r,i.targetId)})).catch(Eh);case 9:e.next=14;break;case 11:return bw(r,i.targetId),e.next=14,rk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aw(e,t,n){return ow.apply(this,arguments)}function ow(){return ow=Qe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ww(t),e.prev=1,e.next=4,function(e,t){var n,r,i=qf(e),a=uh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),mv());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=uv(),s=mv();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=E(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=jv(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Kv(c.key,l,up(l.value.mapValue),Mv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:lv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new wd(ih)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ew(i,a.changes);case 9:return e.next=11,sb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Nb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ow.apply(this,arguments)}function uw(e,t){return sw.apply(this,arguments)}function sw(){return(sw=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.prev=1,e.next=4,$y(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(zf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?zf(n.lc):e.removedDocuments.size>0&&(zf(n.lc),n.lc=!1))})),e.next=8,Ew(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Eh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function cw(e,t,n){var r=qf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=E(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Qb(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function lw(e,t,n){return fw.apply(this,arguments)}function fw(){return fw=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new wd(dh.comparator)).insert(o,sp.newNoDocument(o,sh.min())),s=mv().add(o),c=new dm(sh.min(),new Map,new wd(ih),u,s),e.next=9,uw(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),Iw(i),e.next=16;break;case 14:return e.next=16,rk(i.localStore,n,!1).then((function(){return bw(i,n,r)})).catch(Eh);case 16:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t){return dw.apply(this,arguments)}function dw(){return(dw=Qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),i=n.batch.batchId,e.prev=1,e.next=4,Yy(r.localStore,n);case 4:return a=e.sent,kw(r,i,null),yw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ew(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Eh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function pw(e,t,n){return vw.apply(this,arguments)}function vw(){return(vw=Qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qf(t),e.prev=1,e.next=4,function(e,t){var n=qf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return zf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,kw(i,n,r),yw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ew(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Eh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function mw(e,t){return gw.apply(this,arguments)}function gw(){return(gw=Qe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yk((r=qf(t)).remoteStore)||Ff("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=qf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Nb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function yw(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function kw(e,t,n){var r=qf(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function bw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=E(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||ww(e,t)}))}function ww(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(Hk(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),Iw(e))}function Aw(e,t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Wb?(e.yc.addReference(a.key,t),xw(e,a)):a instanceof Gb?(Ff("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||ww(e,a.key)):jf()}}catch(o){i.e(o)}finally{i.f()}}function xw(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(Ff("SyncEngine","New document in limbo: "+n),e.wc.add(r),Iw(e))}function Iw(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new dh(lh.fromString(t)),r=e.Ec.next();e.gc.set(r,new Yb(n)),e.mc=e.mc.insert(n,r),Kk(e.remoteStore,new ng(Xp(zp(n.path)),r,"TargetPurposeLimboResolution",Uh.ct))}}function Ew(e,t,n){return Sw.apply(this,arguments)}function Sw(){return Sw=Qe(Ue().mark((function e(t,n,r){var i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qf(t),a=[],o=[],u=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ky.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.fc.eu(a),e.next=9,function(){var e=Qe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ch.forEach(n,(function(t){return Ch.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ch.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Dh(e.t0)){e.next=10;break}throw e.t0;case 10:Ff("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=E(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Hi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Sw.apply(this,arguments)}function Cw(e,t){return Tw.apply(this,arguments)}function Tw(){return(Tw=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qf(t)).currentUser.isEqual(n)){e.next=11;break}return Ff("SyncEngine","User change. New user:",n.toKey()),e.next=5,Xy(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new Hf(Kf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ew(r,i.tr);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nw(e,t){var n=qf(e),r=n.gc.get(t);if(r&&r.lc)return mv().add(r.key);var i=mv(),a=n._c.get(t);if(!a)return i;var o,u=E(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.dc.get(s);i=i.unionWith(c.view.ec)}}catch(l){u.e(l)}finally{u.f()}return i}function Rw(e,t){return _w.apply(this,arguments)}function _w(){return(_w=Qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.next=3,ak(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&Aw(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dw(e,t){return Pw.apply(this,arguments)}function Pw(){return(Pw=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),e.abrupt("return",uk(r.localStore,n).then((function(e){return Ew(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ow(e,t,n,r){return Lw.apply(this,arguments)}function Lw(){return Lw=Qe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qf(t),e.next=3,function(e,t){var n=qf(e),r=qf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ch.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,sb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(kw(a,n,i||null),yw(a,n),function(e,t){qf(qf(e).mutationQueue).Dn(t)}(a.localStore,n)):jf();case 11:return e.next=13,Ew(a,o);case 13:e.next=16;break;case 15:Ff("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e,t){return Bw.apply(this,arguments)}function Bw(){return(Bw=Qe(Ue().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hw(r=qf(t)),Ww(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Fw(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,Ib(r.remoteStore,!0);case 9:o=E(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Kk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return bw(r,t),rk(r.localStore,t,!0)})),Hk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Fw(r,c);case 21:return function(e){var t=qf(e);t.gc.forEach((function(e,n){Hk(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new wd(dh.comparator)}(r),r.Ac=!1,e.next=25,Ib(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,g;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=qf(t),a=[],o=[],u=E(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,nk(i.localStore,Xp(f[0]));case 11:l=e.sent,h=E(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.dc.get(p),e.next=20,Rw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ok(i.localStore,c);case 36:return g=e.sent,e.next=39,nk(i.localStore,g);case 39:return l=e.sent,e.next=42,tw(i,Vw(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Uw.apply(this,arguments)}function Vw(e){return jp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Qw(e){var t=qf(e);return qf(qf(t.localStore).persistence).Mi()}function jw(e,t,n,r){return zw.apply(this,arguments)}function zw(){return zw=Qe(Ue().mark((function e(t,n,r,i){var a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=qf(t)).Ac){e.next=3;break}return e.abrupt("return",void Ff("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,uk(a.localStore,nv(o[0]));case 10:return u=e.sent,s=dm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Nd.EMPTY_BYTE_STRING),e.next=14,Ew(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,rk(a.localStore,n,!0);case 17:return bw(a,n,i),e.abrupt("break",20);case 19:jf();case 20:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function qw(e,t,n){return Kw.apply(this,arguments)}function Kw(){return(Kw=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Hw(t)).Ac){e.next=45;break}a=E(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return Ff("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ok(i.localStore,u);case 12:return s=e.sent,e.next=15,nk(i.localStore,s);case 15:return c=e.sent,e.next=18,tw(i,Vw(s),c.targetId,!1,c.resumeToken);case 18:Kk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=E(r),e.prev=30,h=Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,rk(i.localStore,t,!1).then((function(){Hk(i.remoteStore,t),bw(i,t)})).catch(Eh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function Hw(e){var t=qf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lw.bind(null,t),t.fc.eu=Ub.bind(null,t.eventManager),t.fc.vc=Vb.bind(null,t.eventManager),t}function Ww(e){var t=qf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pw.bind(null,t),t}function Gw(e,t,n){var r=qf(e);(function(){var e=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=qf(e),r=Rm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Hb(i)),a=new Kb(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ew(t,s.Hu,void 0);case 31:return e.next=33,function(e,t){var n=qf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Vf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Xw=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Pk(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Gy(this.persistence,new Hy,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Ly(By.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Ak}},{key:"terminate",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jw=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=Qe(Ue().mark((function e(t){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,Ww(this.bc.syncEngine);case 6:return e.next=8,sb(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Gy(this.persistence,new Hy,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new fy(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Fh(t,this.persistence);return new Bh(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=qy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jg.withCacheSize(this.cacheSizeBytes):Jg.DEFAULT;return new Qy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_k(),Dk(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Ak}}]),n}(Xw),Yw=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=Qe(Ue().mark((function e(t){var r,i=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof wk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:Ow.bind(null,r),jr:jw.bind(null,r),zr:qw.bind(null,r),Mi:Qw.bind(null,r),Gr:Dw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mw(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=_k();if(!wk.D(t))throw new Hf(Kf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Jw),Zw=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=Qe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cw.bind(null,this.syncEngine),e.next=12,Ib(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ob}},{key:"createDatastore",value:function(e){var t,n=Pk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rk(t));return function(e,t,n,r){return new Fk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return cw(o.syncEngine,e,0)},a=Ik.D()?new Ik:new xk,new Vk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Zb(e,t,n,r,i,a);return o&&(u.Ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qf(t),Ff("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,zk(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function $w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Qe(Ue().mark((function r(){var i;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var eA=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):Uf("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),tA=function(){function e(t,n){var r=this;h(this,e),this.Dc=t,this.serializer=n,this.metadata=new Wf,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=Qe(Ue().mark((function e(){var t,n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new zb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=Qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=Qe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nA=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=Qe(Ue().mark((function e(t){var n,r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Hf(Kf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Qe(Ue().mark((function e(t,n){var r,i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),i=Bm(r.serializer)+"/documents",a={documents:n.map((function(e){return Pm(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Qm(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());zf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Yv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Qe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=dh.fromPath(t);n.mutations.push(new Zv(r,n.precondition(r)))})),e.next=7,function(){var e=Qe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qf(t),i=Bm(r.serializer)+"/documents",a={writes:n.map((function(e){return jm(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jf();t=sh.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hf(Kf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(sh.min())?Mv.exists(!1):Mv.updateTime(t):Mv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sh.min()))throw new Hf(Kf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mv.updateTime(t)}return Mv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),rA=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new Ok(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo(Qe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new nA(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!Vh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rm(t)}return!1}}]),e}(),iA=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Of.UNAUTHENTICATED,this.clientId=rh.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ff("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ff("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=Qe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Hf(Kf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Wf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Qe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Nb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ff("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Xy(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e,t){return sA.apply(this,arguments)}function sA(){return(sA=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lA(t);case 3:return r=e.sent,Ff("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ab(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ab(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cA(e){return"FirebaseError"===e.name?e.code===Kf.FAILED_PRECONDITION||e.code===Kf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function lA(e){return fA.apply(this,arguments)}function fA(){return(fA=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Ff("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,aA(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),cA(n=e.t0)){e.next=13;break}throw n;case 13:return Vf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,aA(t,new Xw);case 16:e.next=21;break;case 18:return Ff("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,aA(t,new Xw);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function hA(e){return dA.apply(this,arguments)}function dA(){return(dA=Qe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Ff("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,uA(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Ff("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,uA(t,new Zw);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pA(e){return lA(e).then((function(e){return e.persistence}))}function vA(e){return lA(e).then((function(e){return e.localStore}))}function mA(e){return hA(e).then((function(e){return e.remoteStore}))}function gA(e){return hA(e).then((function(e){return e.syncEngine}))}function yA(e){return hA(e).then((function(e){return e.datastore}))}function kA(e){return bA.apply(this,arguments)}function bA(){return(bA=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=$b.bind(null,n.syncEngine),r.onUnlisten=rw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eA({next:function(a){t.enqueueAndForget((function(){return Bb(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Hf(Kf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Hf(Kf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new jb(zp(n.path),a,{includeMetadataChanges:!0,Uu:!0});return Lb(e,o)},i.next=3,kA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eA({next:function(n){t.enqueueAndForget((function(){return Bb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Hf(Kf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new jb(n,a,{includeMetadataChanges:!0,Uu:!0});return Lb(e,o)},i.next=3,kA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var xA=new Map;function IA(e,t,n){if(!n)throw new Hf(Kf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function EA(e,t,n,r){if(!0===t&&!0===r)throw new Hf(Kf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function SA(e){if(!dh.isDocumentKey(e))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function CA(e){if(dh.isDocumentKey(e))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":jf()}function NA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hf(Kf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TA(e);throw new Hf(Kf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function RA(e,t){if(t<=0)throw new Hf(Kf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var _A=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Hf(Kf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hf(Kf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),DA=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _A({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new Hf(Kf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Hf(Kf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _A(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xf;switch(e.type){case"firstParty":return new $f(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Hf(Kf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xA.get(e);t&&(Ff("ComponentProvider","Removing Datastore"),xA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=NA(e,DA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Vf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Of.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Hf(Kf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Of(s)}e._authCredentials=new Jf(new Gf(o,u))}}var OA=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LA=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MA=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,zp(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new OA(this.firestore,null,new dh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LA);function BA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),IA("collection","path",t),e instanceof DA){var a=lh.fromString.apply(lh,[t].concat(r));return CA(a),new MA(e,null,a)}if(!(e instanceof OA||e instanceof MA))throw new Hf(Kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lh.fromString.apply(lh,[t].concat(r)));return CA(o),new MA(e.firestore,null,o)}function FA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),1===arguments.length&&(t=rh.A()),IA("doc","path",t),e instanceof DA){var a=lh.fromString.apply(lh,[t].concat(r));return SA(a),new OA(e,null,new dh(a))}if(!(e instanceof OA||e instanceof MA))throw new Hf(Kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lh.fromString.apply(lh,[t].concat(r)));return SA(o),new OA(e.firestore,e instanceof MA?e.converter:null,new dh(o))}function UA(e,t){return e=gt(e),t=gt(t),(e instanceof OA||e instanceof MA)&&(t instanceof OA||t instanceof MA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VA(e,t){return e=gt(e),t=gt(t),e instanceof LA&&t instanceof LA&&e.firestore===t.firestore&&Zp(e._query,t._query)&&e.converter===t.converter}var QA=function(){function e(){var t=this;h(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Ok(this,"async_queue_retry"),this.Yc=function(){var e=Dk();e&&Ff("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=Dk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return m(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=Dk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new Wf;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=Qe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Dh(e.t0)){e.next=12;break}throw e.t0;case 12:Ff("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Uf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=Tb.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&jf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=Qe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=E(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=E(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function jA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=E(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var zA=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new Wf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qA=function(e){y(n,e);var t=A(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new QA,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||WA(this),this._firestoreClient.terminate()}}]),n}(DA);function KA(e,t){var n="string"==typeof e?e:t||"(default)",r=cn("object"==typeof e?e:gn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=Ye(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&PA.apply(void 0,[r].concat(f(i)))}return r}function HA(e){return e._firestoreClient||WA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WA(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Bd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new iA(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function GA(e,t,n){var r=new Wf;return e.asyncQueue.enqueue(Qe(Ue().mark((function i(){var a;return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,aA(e,n);case 3:return i.next=5,uA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),cA(a=i.t0)){i.next=13;break}throw a;case 13:Vf("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function XA(e){return function(e){return e.asyncQueue.enqueue(Qe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pA(e);case 2:return n=t.sent,t.next=5,mA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=qf(e);return t.Au.delete(0),Qk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(HA(e=NA(e,qA)))}function JA(e){return function(e){return e.asyncQueue.enqueue(Qe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pA(e);case 2:return n=t.sent,t.next=5,mA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qf(t)).Au.add(0),e.next=4,zk(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(HA(e=NA(e,qA)))}function YA(e,t){var n=HA(e=NA(e,qA)),r=new zA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new tA(e,t)}(function(e,t){if(e instanceof Uint8Array)return $w(e,t);if(e instanceof ArrayBuffer)return $w(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?um().encode(e):e),t)}(n,Pk(t));e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gw,t.next=3,gA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ZA(e,t){return function(e,t){return e.asyncQueue.enqueue(Qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=qf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,vA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(HA(e=NA(e,qA)),t).then((function(t){return t?new LA(e,null,t.query):null}))}function $A(e){if(e._initialized||e._terminated)throw new Hf(Kf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ex=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nd.fromBase64String(t))}catch(t){throw new Hf(Kf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nd.fromUint8Array(t))}}]),e}(),tx=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hh(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nx=m((function e(t){h(this,e),this._methodName=t})),rx=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Hf(Kf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Hf(Kf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ih(this._lat,e._lat)||ih(this._long,e._long)}}]),e}(),ix=/^__.*__$/,ax=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kv(e,this.data,this.fieldMask,t,this.fieldTransforms):new qv(e,this.data,t,this.fieldTransforms)}}]),e}(),ox=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new Kv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ux(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jf()}}var sx=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return Tx(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ux(this.ua)&&ix.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),cx=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Pk(t)}return m(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sx({ua:e,methodName:t,ma:n,path:hh.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function lx(e){var t=e._freezeSettings(),n=Pk(e._databaseId);return new cx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);Ix("Data must be an object, but it was:",o,r);var u,s,c=Ax(r,o);if(a.merge)u=new Cd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=E(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Ex(t,l.value,n);if(!o.contains(d))throw new Hf(Kf.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Nx(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Cd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ax(new op(c),u,s)}var hx=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nx);function dx(e,t,n){return new sx({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var px=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new Ov(e.path,new Sv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nx),vx=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ya=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=dx(this,e,!0),n=this.ya.map((function(e){return wx(e,t)})),r=new Cv(n);return new Ov(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nx),mx=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ya=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=dx(this,e,!0),n=this.ya.map((function(e){return wx(e,t)})),r=new Nv(n);return new Ov(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nx),gx=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new _v(e.serializer,wv(e.serializer,this.pa));return new Ov(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nx);function yx(e,t,n,r){var i=e.ga(1,t,n);Ix("Data must be an object, but it was:",i,r);var a=[],o=op.empty();kd(r,(function(e,r){var u=Cx(t,e,n);r=gt(r);var s=i.fa(u);if(r instanceof hx)a.push(u);else{var c=wx(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Cd(a);return new ox(o,u,i.fieldTransforms)}function kx(e,t,n,r,i,a){var o=e.ga(1,t,n),u=[Ex(t,r,n)],s=[i];if(a.length%2!=0)throw new Hf(Kf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Ex(t,a[c])),s.push(a[c+1]);for(var l=[],f=op.empty(),h=u.length-1;h>=0;--h)if(!Nx(l,u[h])){var d=u[h],p=s[h];p=gt(p);var v=o.fa(d);if(p instanceof hx)l.push(d);else{var m=wx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Cd(l);return new ox(f,g,o.fieldTransforms)}function bx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wx(n,e.ga(r?4:3,t))}function wx(e,t){if(xx(e=gt(e)))return Ix("Unsupported field value:",t,e),Ax(e,t);if(e instanceof nx)return function(e,t){if(!ux(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=E(e);try{for(a.s();!(n=a.n()).done;){var o=wx(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=uh.fromDate(e);return{timestampValue:Cm(t.serializer,n)}}if(e instanceof uh){var r=new uh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cm(t.serializer,r)}}if(e instanceof rx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ex)return{bytesValue:Tm(t.serializer,e._byteString)};if(e instanceof OA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:_m(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(TA(e)))}(e,t)}function Ax(e,t){var n={};return bd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kd(e,(function(e,r){var i=wx(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uh||e instanceof rx||e instanceof ex||e instanceof OA||e instanceof nx)}function Ix(e,t,n){if(!xx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TA(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ex(e,t,n){if((t=gt(t))instanceof tx)return t._internalPath;if("string"==typeof t)return Cx(e,t);throw Tx("Field path arguments must be of type string or ",e,!1,void 0,n)}var Sx=new RegExp("[~\\*/\\[\\]]");function Cx(e,t,n){if(t.search(Sx)>=0)throw Tx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(tx,f(t.split(".")))._internalPath}catch(r){throw Tx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Hf(Kf.INVALID_ARGUMENT,u+e+s)}function Nx(e,t){return e.some((function(e){return e.isEqual(t)}))}var Rx=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new OA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Dx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_x=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return Fe(k(n.prototype),"data",this).call(this)}}]),n}(Rx);function Dx(e,t){return"string"==typeof t?Cx(e,t):t instanceof tx?t._internalPath:t._delegate._internalPath}function Px(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hf(Kf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ox=m((function e(){h(this,e)})),Lx=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(Ox);function Mx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Ox&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Fx})).length,n=e.filter((function(e){return e instanceof Bx})).length;if(t>1||t>0&&n>0)throw new Hf(Kf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=E(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var Bx=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Jx(e._query,t),new LA(e.firestore,e.converter,Jp(e._query,t))}},{key:"_parse",value:function(e){var t=lx(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Xx(o,a);var s,c=[],l=E(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Gx(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Gx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Xx(o,a),u=bx(n,"where",o,"in"===a||"not-in"===a);return vp.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lx);var Fx=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:mp.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=E(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Jx(r,a),r=Jp(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new LA(e.firestore,e.converter,Jp(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ox);var Ux=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hp(t,n);return function(e,t){if(null===Kp(e)){var n=Hp(e);null!==n&&Yx(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new LA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Qp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Lx);var Vx=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new LA(e.firestore,e.converter,Yp(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lx);var Qx=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=Wx(e,this.type,this._docOrFields,this._inclusive);return new LA(e.firestore,e.converter,function(e,t){return new Qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lx);function jx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qx._create("startAt",t,!0)}function zx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qx._create("startAfter",t,!1)}var qx=function(e){y(n,e);var t=A(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=Wx(e,this.type,this._docOrFields,this._inclusive);return new LA(e.firestore,e.converter,function(e,t){return new Qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Lx);function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qx._create("endBefore",t,!1)}function Hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qx._create("endAt",t,!0)}function Wx(e,t,n,r){if(n[0]=gt(n[0]),n[0]instanceof Rx)return function(e,t,n,r,i){if(!r)throw new Hf(Kf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=E(Gp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Gd(t,r.key));else{var c=r.data.field(s.field);if(Od(c))throw new Hf(Kf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new cp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Hf(Kf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Wp(e)&&-1!==c.indexOf("/"))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lh.fromString(c));if(!dh.isDocumentKey(l))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new dh(l);u.push(Gd(t,f))}else{var h=bx(n,r,c);u.push(h)}}return new cp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Gx(e,t,n){if("string"==typeof(n=gt(n))){if(""===n)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wp(t)&&-1!==n.indexOf("/"))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lh.fromString(n));if(!dh.isDocumentKey(r))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gd(e,new dh(r))}if(n instanceof OA)return Gd(e,n._key);throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TA(n),"."))}function Xx(e,t){if(!Array.isArray(e)||0===e.length)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jx(e,t){if(t.isInequality()){var n=Hp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Kp(e);null!==i&&Yx(e,r,i)}var a=function(e,t){var n,r=E(e);try{for(r.s();!(n=r.n()).done;){var i,a=E(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Hf(Kf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hf(Kf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Yx(e,t,n){if(!n.isEqual(t))throw new Hf(Kf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Zx=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jf()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return kd(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new rx(Dd(e.latitude),Dd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ld(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Md(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_d(e);return new uh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lh.fromString(e);zf(tg(n));var r=new Fd(n.get(1),n.get(3)),i=new dh(n.popFirst(5));return r.isEqual(t)||Uf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $x(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eI=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new ex(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OA(this.firestore,null,t)}}]),n}(Zx);var tI=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),nI=function(e){y(n,e);var t=A(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return Fe(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new rI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Dx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Rx),rI=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fe(k(n.prototype),"data",this).call(this,e)}}]),n}(nI),iI=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new tI(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new rI(n._firestore,n._userDataWriter,r.key,r,new tI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Hf(Kf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new rI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new rI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:aI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function aI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jf()}}function oI(e,t){return e instanceof nI&&t instanceof nI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof iI&&t instanceof iI&&e._firestore===t._firestore&&VA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uI(e){e=NA(e,OA);var t=NA(e.firestore,qA);return wA(HA(t),e._key).then((function(n){return mI(t,e,n)}))}var sI=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new ex(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OA(this.firestore,null,t)}}]),n}(Zx);function cI(e){e=NA(e,OA);var t=NA(e.firestore,qA),n=HA(t),r=new sI(t);return function(e,t){var n=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Qe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=qf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Hf(Kf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Nb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new nI(t,r,e._key,n,new tI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function lI(e){e=NA(e,LA);var t=NA(e.firestore,qA),n=HA(t),r=new sI(t);return function(e,t){var n=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Qe(Ue().mark((function e(t,n,r){var i,a,o,u,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ak(t,n,!0);case 3:i=e.sent,a=new Xb(n,i.sr),o=a.nc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Nb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new iI(t,r,e,n)}))}function fI(e,t,n){e=NA(e,OA);var r=NA(e.firestore,qA),i=$x(e.converter,t,n);return vI(r,[fx(lx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mv.none())])}function hI(e,t,n){e=NA(e,OA);for(var r=NA(e.firestore,qA),i=lx(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return vI(r,[("string"==typeof(t=gt(t))||t instanceof tx?kx(i,"updateDoc",e._key,t,n,o):yx(i,"updateDoc",e._key,t)).toMutation(e._key,Mv.exists(!0))])}function dI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=gt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||jA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(jA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof OA)l=NA(e.firestore,qA),f=zp(e._key.path),c={next:function(t){n[s]&&n[s](mI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=NA(e,LA);l=NA(p.firestore,qA),f=p._query;var v=new sI(l);c={next:function(e){n[s]&&n[s](new iI(l,v,p,e))},error:n[s+1],complete:n[s+2]},Px(e._query)}return function(e,t,n,r){var i=new eA(r),a=new jb(t,i,n);return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lb,t.next=3,kA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bb,t.next=3,kA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(HA(l),f,h,c)}function pI(e,t){return function(e,t){var n=new eA(t);return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qf(e).Nu.add(t),t.next()},t.next=3,kA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qf(e).Nu.delete(t)},t.next=3,kA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(HA(e=NA(e,qA)),jA(t)?t:{next:t})}function vI(e,t){return function(e,t){var n=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=aw,r.next=3,gA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(HA(e),t)}function mI(e,t,n){var r=n.docs.get(t._key),i=new sI(e);return new nI(e,i,t._key,r,new tI(n.hasPendingWrites,n.fromCache),t.converter)}var gI={maxAttempts:5},yI=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lx(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=kI(e,this._firestore),i=$x(r.converter,t,n),a=fx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Mv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=kI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gt(t))||t instanceof tx?kx(this._dataReader,"WriteBatch.update",i._key,t,n,o):yx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Mv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=kI(e,this._firestore);return this._mutations=this._mutations.concat(new Yv(t._key,Mv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Hf(Kf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function kI(e,t){if((e=gt(e)).firestore!==t)throw new Hf(Kf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bI=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=kI(e,this._firestore),i=new sI(this._firestore);return Fe(k(n.prototype),"get",this).call(this,e).then((function(e){return new nI(t._firestore,i,r._key,e._document,new tI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=lx(t)}return m(e,[{key:"get",value:function(e){var t=this,n=kI(e,this._firestore),r=new eI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return jf();var i=e[0];if(i.isFoundDocument())return new Rx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Rx(t._firestore,r,n._key,null,n.converter);throw jf()}))}},{key:"set",value:function(e,t,n){var r=kI(e,this._firestore),i=$x(r.converter,t,n),a=fx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=kI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=gt(t))||t instanceof tx?kx(this._dataReader,"Transaction.update",i._key,t,n,o):yx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=kI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function wI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vx("arrayUnion",t)}function AI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lf=e}(vn),sn(new yt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new qA(new Yf(e.getProvider("auth-internal")),new th(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hf(Kf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),wn(Pf,"3.11.0",e),wn(Pf,"3.11.0","esm2017")}();var xI=mn({apiKey:"AIzaSyC8l0LYbvvZczdessb11nAce9rFRDiZIGM",authDomain:"neuropets-9c731.firebaseapp.com",projectId:"neuropets-9c731",storageBucket:"neuropets-9c731.appspot.com",messagingSenderId:"610747636675",appId:"1:610747636675:web:ee9065011b0776f6443b76",measurementId:"G-2J48ZD9GF7"}),II=KA(xI),EI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn(),t=cn(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=cn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ct(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Gn(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Go,persistence:[za,ga,ka]}),i=$e("authTokenSyncURL");if(i){var a=(n=i,function(){var e=Qe(Ue().mark((function e(t){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>au)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,ou!==a){e.next=12;break}return e.abrupt("return");case 12:return ou=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){gt(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){gt(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=Ye("auth");return o&&ki(r,"http://".concat(o)),r}(xI),SI=KA(xI);var CI=n.p+"static/media/logo.eb6dcd46a5bc9755911424cb9a8cbb38.svg",TI=n(184);var NI=function(e){var t=e.setIsSignedIn,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=ke();return(0,TI.jsxs)("div",{className:"Login",children:[(0,TI.jsx)("img",{className:"NPlogo",src:CI,alt:"NeuroPets Logo"}),(0,TI.jsxs)("div",{className:"InputBubble",children:[(0,TI.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),function(e,t,n){return sa(gt(e),zi.credential(t,n))}(EI,i,u).then((function(e){t(!0),d("../Home")})).catch((function(e){var t=e.code;"auth/user-not-found"===t?h("Email not found"):"auth/wrong-password"===t&&h("Incorrect password")}))},children:[(0,TI.jsx)("input",{className:"bubbleField",value:i,onChange:function(e){return a(e.target.value)},placeholder:"Username",id:"Username",required:!0}),(0,TI.jsx)("input",{className:"bubbleField",value:u,onChange:function(e){return s(e.target.value)},placeholder:"Password",id:"Password",required:!0}),(0,TI.jsx)("button",{className:"bubbleButton",children:"Log In"})]}),f&&(0,TI.jsxs)("p",{children:[" Error: ",f]})]}),(0,TI.jsx)("div",{className:"createAccountRedirect",children:(0,TI.jsxs)("h3",{children:["Need an acccount? Create one ",(0,TI.jsx)("button",{onClick:function(e){d("../regPage")},className:"createAccountButton",children:"here"})," "]})})]})},RI=function(e){var t=e.onChange,n=e.placeholder,i=c((0,r.useState)(""),2),a=i[0],o=i[1];return(0,TI.jsx)("input",{className:"bubbleField",type:"text",value:a,onChange:function(e){o(e.target.value),t&&t(e.target.value)},placeholder:n})};function _I(e){return DI.apply(this,arguments)}function DI(){return(DI=Qe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FA(SI,"all_data",t),e.prev=1,e.next=4,uI(n);case 4:return r=e.sent,e.abrupt("return",r.data());case 8:e.prev=8,e.t0=e.catch(1),console.log("Error on getUserInfo: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function PI(e,t){return OI.apply(this,arguments)}function OI(){return(OI=Qe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return r=FA(SI,"all_data",t),e.prev=2,e.next=5,hI(r,n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function LI(){return(LI=Qe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FA(II,"all_data",t),i={userid:t,useremail:n,goalArray:[],activeGoal:0},e.prev=2,e.next=5,fI(r,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}var MI=n.p+"static/media/upperBubble.5ea74255aaffc27db139072af50a3013.svg";var BI=n.p+"static/media/lowerBubble.6ce264ac47d0de4632a8d99ea42a44f8.svg";var FI=function(e){var t=e.setIsSignedIn,n=ke(),i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=c((0,r.useState)(""),2),s=u[0],l=u[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1];return(0,TI.jsxs)("div",{className:"Registration",children:[(0,TI.jsxs)("div",{className:"Imgbox",children:[(0,TI.jsx)("img",{className:"Bubble",src:MI,alt:"top speech bubble"}),(0,TI.jsx)("img",{className:"Bubble",src:BI,alt:"bot speech bubble"})]}),(0,TI.jsxs)("div",{className:"InputBubble",children:[(0,TI.jsx)("p",{className:"SmallBubbleHeader",children:"Create Account"}),(0,TI.jsx)(RI,{placeholder:"Email",onChange:function(e){o(e)}}),(0,TI.jsx)(RI,{placeholder:"Password",onChange:function(e){l(e)}}),(0,TI.jsx)(RI,{placeholder:"Confirm Password",onChange:function(e){d(e)}}),v&&(0,TI.jsxs)("p",{children:[" Error: ",v]}),(0,TI.jsx)("button",{className:"bubbleButton",onClick:function(e){0===a.length||0===s.length||0===h.length?m("Empty field detected"):s!==h||h.length<5?m("Passwords not matching "):function(e,t,n){return la.apply(this,arguments)}(EI,a,s).then((function(e){var r=e.user;!function(e,t){LI.apply(this,arguments)}(r.uid,r.email),t(!0),n("../DoctorIntro")})).catch((function(e){var t=e.code;m("auth/email-already-in-use"===t?"Email already in use":"auth/invalid-email"===t?"Enter a valid email address":"auth/weak-password"===t?"Enter a stronger password":"Please refresh your page")}))},children:"Register"})]})]})};var UI=n.p+"static/media/ProfTextA.b80e2cbe0b682563409260ee047e8fb9.svg",VI=[0,3,6];var QI=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=c((0,r.useState)(["Eat Healthier","Be More Active","Improve Mental Health","Focus on Relationships","Dedicate Time to a Hobby","Learn an Instrument","Be More Tidy"]),1)[0],s=ke(),l=function(){var e=Qe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EI.currentUser,e.next=3,_I(n.uid);case 3:(r=e.sent)&&((i=r.goalArray[r.goalArray.length-1]).goal===t.goal&&i.pet===t.pet?s("../Home"):console.log("ERROR- not updated properly"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Qe(Ue().mark((function e(){var n,r,i,a,o,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=EI.currentUser,r=VI[Math.floor(Math.random()*VI.length)],i=new Date,a={goal:t,pet:r,curr_date:i,progressCounter:0,logs:[]},!n){e.next=12;break}return e.next=7,_I(n.uid);case 7:o=e.sent,(u=o.goalArray).push(a),PI(n.uid,{goalArray:u}),l(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){console.log(u[Number(e)]),n(u[Number(e)]);for(var t=document.getElementsByClassName("presetbtn"),r=0;r<t.length;r++)t[r].style.backgroundColor="#374350";document.getElementById(e).style.backgroundColor="#152130"},d=function(e){"customGoal"===e?(document.getElementById("presetGoalDrop").style.display="none","inline-block"===document.getElementById("customGoalDrop").style.display?document.getElementById("customGoalDrop").style.display="none":document.getElementById("customGoalDrop").style.display="inline-block"):(document.getElementById("customGoalDrop").style.display="none","inline-block"===document.getElementById("presetGoalDrop").style.display?document.getElementById("presetGoalDrop").style.display="none":document.getElementById("presetGoalDrop").style.display="inline-block");for(var t=document.getElementsByClassName("presetbtn"),r=0;r<t.length;r++)t[r].style.backgroundColor="#374350";n("")};return(0,TI.jsxs)("div",{className:"CreateGoal",children:[(0,TI.jsxs)("div",{className:"InputBubble",children:[(0,TI.jsx)("p",{className:"BubbleHeader",children:"Create Goal"}),(0,TI.jsx)("button",{id:"customGoal",className:"bubbleButton accordion",onClick:function(e){return d(e.target.id)},children:"Custom Goal"}),(0,TI.jsx)("textarea",{id:"customGoalDrop",className:"bubbleField",rows:"12",cols:"33",placeholder:"Example: Brush Teeth, Floss, Manage Addiction, Drink Water..",value:t,onChange:function(e){return n(e.target.value)}}),(0,TI.jsx)("button",{id:"presetGoal",className:"bubbleButton accordion",onClick:function(e){return d(e.target.id)},children:"Preset Goal"}),(0,TI.jsxs)("div",{className:"presets",id:"presetGoalDrop",children:[(0,TI.jsx)("button",{id:"0",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Eat Healthier"}),(0,TI.jsx)("button",{id:"1",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Be More Active"}),(0,TI.jsx)("button",{id:"2",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Improve Mental Health"}),(0,TI.jsx)("button",{id:"3",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Focus on Relationships"}),(0,TI.jsx)("button",{id:"4",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Dedicate Time to a Hobby"}),(0,TI.jsx)("button",{id:"5",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Learn an Instrument"}),(0,TI.jsx)("button",{id:"6",className:"bubbleButton presetbtn",onClick:function(e){return h(e.target.id)},children:"Be More Tidy"})]}),a&&(0,TI.jsxs)("p",{style:{margin:0},children:[" Error: ",a]}),(0,TI.jsx)("button",{className:"bubbleButton submission",onClick:function(e){e.preventDefault(),console.log("I GOT CALLED"),0===t.length?o("Please fill in a goal"):f()},children:"Save Goal"})]}),(0,TI.jsx)("img",{className:"ProfessorText",src:UI,alt:"Professor speech bubble"})]})};var jI=n.p+"static/media/ProfTextB.38280d12177771cefcb3f8d9a6bfe7f4.svg";var zI=n.p+"static/media/GreenCheckmark.f8f8eaad5871da5d7bb8fe4b16fd92de.svg",qI=n.p+"static/media/loading.87d061fe8de3462e96c1.png";var KI,HI=function(){var e=EI.currentUser,t=c((0,r.useState)(-1),2),n=t[0],i=t[1];function a(){return-1===n?(0,TI.jsx)("img",{className:"pet",src:qI,alt:"loading"}):10===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"stage 0 "}):0===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"bunny stage 1"}):1===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"bunny stage 2"}):2===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"bunny stage 3"}):3===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADCCAYAAAAb4R0xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA0YSURBVHgB7d17cFTVAQbw7+6GvCBhG5JCICSpIwVqHaJ9/FOBZFSmw0OwozMWK+pYtQ52xk6nVp2hxXaqxVbBAirQDqGobf8pMRA701ZJAOuLh010QNCaRJOIBE2yMYFks7fnHGk73XtOsjd7N3s3+X5OyMzZu0uyuV+45/PecwEiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJvWKC0M2nSpJ3iUznGWDQafXxoaKgG41AGKB1VIgVBEHZhnAqAiBgEIolBIAKDQKSwNfIB0QLtd7N9RkZGpWWN/Y9ONEZviOaoy8VTdg0ODlYjDbA18odKNxsHAgGkKAgVbra3bbsBaYKHRkRgEIgUBoEIDAKRwsny2AmJdmij7gHRAiEdBINBNVGPl2iYVopJfZnmoQa/tUmsT8dIdnZ2uWhd3tM9lpWVhfEoEonIpkn3ULUIwq3wER4aEYFBIFIYBCIwCEQKWyPvadsh0aCE3LZDTz25GV546OFH0Nr6PsaabJl0p4LYtl0pPu3UPCVlbRJbI4+Z2iG5Q2RmZsKNcHcnvLB02UocPPQS/EI2SbJR0khZm8RDIyIwCEQKg0AEBoFIYWs0euWiBboldlBMBEOyLYmVigtp/uPG1Tfgiiu+4Rh/5tk/pKRNkucr6d4j0SZViPd0fey4eO+ak90msTUapQuXSzousRxNO2TiVWtkkkZtUr0IQhWSiIdGRGAQiBQGgQgMApHC1sgH7r/vXlfbb96yFV1d3XFvv+am76CsrNQxbmqT6uqeR2PTm5hIGAQfeOB+d0H4zeYn0NLSGvf2ixYt1Afhxm9rt29tbZ1wQeChEREYBCKFQSACg0CkcLI8svJgMFgZOxgIBMp05w+ZzimaOnUqli9bCi+sXLEcXd3O1qh27z5tm1Rbu087ub5GvE4oNNUxvnChbJKc38fBQ4eSem6SfO8M6ybJn8Etmu2bI5FIPbz4u0HDMp1TJH9gkyZNQrxKS2fjraZjSKY5cy9x1Sb97a/PY7FolOL1vbvuxjPP/hFjLRqNYnBwUPeQZ+cg8dCICAwCkcIgEIFBIFLYGo0jXrVJixddgbIy5yLWpjapsakJTWl+SgZboxGkU2tkctWSpThw4GDc2/92x5PqRL14yQXEHv7lI0gWtkZEY4RBIAKDQKQwCERgazQhLFhwqbYV+Wdjo7ZNkk1Sg2ZyXV5Wqm2TyspmY6HmSjev2FEbkSHnMi+DgwOhl/7xSqXuOW7PQWJrNILx0BqZJLtNSjYZ1quXaE9klAuCfQEu8NCICAwCkcIgEIFBIFLYGk1gpjbJRNcYjRcMwgT26K82gD7DQyMiMAhECoNABAaBSOFkmZJmcOA8Bs4PIFkygkEUTitwjgcC6Pyka7buOf39/dqFmXiu0QjG87lGydZ49Cgaj43993z240+iP1r3YI/modbBwcEFuufw0IgIDAKRwiAQgUEgUtgaXbBz58YQzmWHYsd/sWHD1Ja2NpD7FmhgQL9tX18/+vr7kajcnBzk5uaYHg7EOaYwCBcEzwVXWcHoztjxG66/Fhs2bQEBh195Fe+eOoVEHWtswu92P4tEzZtzMe69527HuG3bcofP1zxlCgx4aEQEBoFIYRCIwCAQKQwCEcbxuUa7tm1eH7ACP3XzHNONAHVOvvMuHtu6DanwZtMxlJXOxlh7+cABT1ojr7x96h23jZ5xvSP+i0AEBoFIYRCIwCAQKQwCEcZBazRcO+SmBSosLMRFF12ERLV3fIjl192AVDC1SUuXrcTBQy8hUfI+ZvJ+ZmmMrRHRcBgEIjAIRAqDQAQGgUhJm9Zo9/atm8QXuzJ23AZCoh0Kxfs6oVBIu7x5MBiUaxjBCx2iOfLCMpftk+n8o67ubnR39yBR169agQVfvsT5gG3Ln4PDJ909jz+yafMm+Mi5c+eadeNpc6lm1LZDAcsqR4Lkzp6VlYVkKi6egVRoaX0fySSvEdatLGfbtnb7goJQl2nH8xseGhGBQSBSGAQiMAhEiu9aI7ft0PTp0zFjRvyTUy/boWTzqn3ySnZ2FrJzsh3jp0+fxkenP3KMi0l0l/hZdjnGgeduumPtPfAR3+0RbtuhsWiBUiVV7ZOJrWpSZ0OUETTuRiH5C8zxOsBU+AwPjYjAIBApDAIRGAQiJWWt0dM7ntgoJk0Vjgdsu8LUDhUUOP/3fmZm5ridLPuRbrJ8/vx59RGrs7MTZzvP6l6k2bbQHDscjdoNN9+5dj1SIGWtkQqBbVfGu/3kyZORl5cHSi1L87szKzNL/UKKFe4Ja19DhKlc/FHueG1NOMYKD42IwCAQKQwCERgEIiXpk+UR2iHHsKkdyskx3jSORtDS0oK+/j7HeFlpKXJzJyNRpvWjCosKkZfvLDjkJLrNZzdoTHoQTO2Q6c1jO+S9vr4+hMPOBmcoMgSvuGmTdFVrqvHQiAgMApHCIBCBQSBS0mY5F7deqG/Aiw0H4t7+a1+5HKuWL8NE8kF7G7I6Ox3jRYWy7cnHRDJug3Di5CnU7H3e1XMmWhBkjSn/i5UvQjDRejseGhGBQSBSGAQiMAhEimeTZbkekY2AY5kOy7bLoTmdYtasWdory0ynV9Tsq8PrR44iXjnZ2bhtzY2O8fz8PHW/tFgzi4sxXpWUlGhPa5Dn+/jxdIdU8CwIny3KFS13PqA/pyhf7PBuKrrXDh/Fc/vib4FWLvsmllQtdox7ddPAdCJ/ueh+wZw5c4ZBuICHRkRgEIgUBoEIDAKR4rtTLF6sP4DjJ086xifn5KgJcLzmzZkD8pZcBDgajTrGA4GA8UIrHcuwnFbAsip2bdu83rG9FWhec8faaiSR74Lw9/oGbTt025rVuLpqESh1ZAh0QZDkcvtu6IIjglYRsAIVmo3rxZ/VSCIeGhGBQSBSGAQiMAhEynCTZdOCN3KBHBsJqhET4p7eXudfamiHSktK4DemG22nipvmRioqKlIX4cTKzc0xvr5siHTjuvdCtUy2c3KdlZ2lve9df38/uroct1xDNBLJvOyyy4pix8XXMnDkyJFueGC4IEwxjJ8THwkviFOztw4nTr3jGE+fdshfIRgN3cmHw5E7vJuwqXuuRZ3vU052DnKKnWE7e/asNgiRaHRSZmamIwgDAwOfik+eBIGHRkRgEIgUBoEIDAKRkvHM9q236B748KMz2qtmphV8LhywLMcM6PUjb4TODw44n2D994//M/eLF6NwmnPV68Jp0+A/zgnfB20deO3wEcd4ft4UXFlVCTf21O7Tjl97zXK48cL+BvRoFvu9qmqxq4WV5ffV1t7hGJdrP82aGf+VfHJJnbdOnHCMlxQXq9eKl5hATz9+/PiS2HExGf+X+NQCD2TYlrVT98DnP18EN/70XK2Y9X8c9/Y//sH3MW/OxfA/0XxoCqK29nY8sP7njnG5o7gNgu51JLdBeOjXj2l34Fkzn8LXvxr/jrentg579jrD+dCD63DtzPi/JrnI2pandjjGV61Y6ioI3T3h6eFw+Iex4yIIL4tPtfAAD42IwCAQKQwCERgEIiXDq/NlLl9wKfr7+uPePjdt7okmGy/bMO7UE+7VtkCjaZNMTO1QONyLZHr98FHtWzF/7lzMm5v4FYFnRNly8OVXHeOihJH7aa7mKVnwiPFcI7cncK2+7lsYr3Tvhentkfcq86pNMnn40Y3adijZ9uytUx+x1t75XU+CIOvWHdW7HeMiBPLytwLNUzxbu56HRkRgEIgUBoEIDAKRkgHLrtc9IMqkSt2420k0/Y/u3KTRbJ/sdsgtOXHXfa2mCb1s1nQrm7/99smUXfVn3Kt3b9+q/YrSPQherYYtf/Brbr8L6eD3O9yda3T/T36mPdfIRF2J5nIHNqxrNNxTdAsq1YuPK+EBHhoRgUEgUhgEIjAIRIp5ORdzmyQXaQ0hTn6bXEciEYR7ehzjwYwgcnMnww3T5C5V37Pf1lkyMa2DlErGINx0+91VuvGnt299z3YRBL+R6+bo1s5x2yb5cZcz7VzJ3ulGs96R3/DQiAgMApHCIBCBQSBSXN86yrbsZst2NTEqhwupalxkm6S7+ba8JVJGhvNtkjdMN63x097xIZLJNNkscbHm0Ah/g6tGbLjJr0c/T9lu6NYK8mQBYCnpe93uHU/sF+9UpZvn+KlyzcvPw/x58+Pevq2jA0tW6K/WGxpKeBFxxXQfs/1/qRXhnIlE3bduPf6sudzU1A6ZzjUabns3xPb14lMVkoiHRkRgEIgUBoEIDAKRkvQbjouJXUvQsprj3V6eviEmR745hSMaGdK2SSYDYtviGdMd43J62NbWDi8M3w4lfvrCFEMj1tv7KcK9Sb06rkv87Lt040gy311utmvbluqAZd2MNJWZmYn5X5rvqHXaRZu04rrV2n+B3bZJL9TV6NshC1Ek0X3rHrRq9tYlvM8Mc05Utfh0K1KAh0ZEYBCIFAaBCAwCkcIgEAn/BvykR0lcDHPpAAAAAElFTkSuQmCC",alt:"penguin stage 1"}):4===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"penguin stage 2"}):5===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"penguin stage 3"}):6===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,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",alt:"frog stage 1"}):7===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAlwSURBVHgB7d1PbFTXFcfxY/PXQDAYMFVsiqnrtBEpQaoqQkmVsVTCAkWtKpFWSquwjKIKRBKaLCoxSF00jVIrG5zsiEBRUzZ1Gy8gkTytahwEUgwJKsVx6yQ2lcE2Bv/HBPddx1WF596jueM788bj70d6IN3nGdtz5zd+7+i+80QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMWsRBBCQ7Rtl8LSHm2HBHOyWBCCCUdCUHRKBYATAQEUBARQEBBAUUwn6UmJyYEDB2oqKiokhPOfnpYQRobGa1JNHyUlPkkpAsVU5p2SmLS0tEgikZAQGs+8JCF0XPpCGg7/UWJUFO8tDrEABQEBFAQEUBAQQFGoVayamS1joU6SJybHpG+ox+sxo1P9cu1mpxSSslXLpG5btcSl41J3Qvx0zWwFpVArDcloO+LzgKmpMEUs80ZvOt8omJvn97wuno5KAZaGOcQCFAQEUBAQQEFAAAUBARRxV7FaxHIl3t6f75S9v/i+YOFoPnFWmk+22Xaloq1eYsJfEEBBQAAFAQEUBARQEBBAka8qVott8JmDu7dXVq9dM3u8YmO5rNu4Ou3ruztvyKk3rU+VF4dee1qKQZxXGu57rl6qazekjff33paB3ltp473dA4PvvPFBu+Ppcl7dytdq3oRtsLJqrdRt2ySZGhsZn76UFHMT52s4NjxuHTcfiLYPxYj5AE1ITDjEAhQEBFAQEEBBQABFyJP0mmjbb9uRTCatD1izZTT690vJVEV0EmfWaWFu4nwNK75W7vf1ypw3n2xLOh52XAJdvhuyzJsQRznXdTls04VGuTZQWNdyY/5QLus15d+UBMAhFqAgIICCgAAKAgIo8rLUxNVU7c7dMQEKWV4CQiM2zFccYgEKAgIoCAigICCAgoAAiqK5y61vu32a02VOaermdOz0i1IM+AsCKAgIoCAggIKAAAoCAijmVRVLaxz3l1O/ER+n/3bBu4HaQm0ct+eJ73q/vi8cfss67mocV6jmVUC0xnGP73xEfPy97ZMF24TO9/f+yQ93eb++ru/hahxXqDjEAhQEBFAQEEBBQABFNifpCbF0295UV7l5245aCeFqdILXcTH9JG/l0uXy8gs/kxCmTzo9n8usSSoGvq+h7wm69j3+faV3en5nq3t0kzzk0enfcDWU+/hc57Ofd1xPWHalxLNfVrYBOTJ7cHnZsmCL/0w4bIvjdkUT9dapgxKCmXTfiV9b/WMpBie7X5Zce8URkKf2/Xq6gjjb3mjzDojj/RYFcL/ysJR44BALUBAQQEFAAAUBARSxLjXp7rwuY8MT1n1126rTxlavX2E9wTOyqbT42pWH71EsXPP0QDSHtrk1bJXLslXLpLq2UuISa0DMwsOOS91p46Z8d+i1n6aNm/U9pgpic7P7T5Jr73ku2FvIXPN06HdPy1O//EHauCmhN/wqfRGluclrnItEOcQCFAQEUBAQQEFAAAUBARR5qWK5mrqZioZZpBaH5Q98S5av/raEMNzXKncn+jL++sXL1suq9bskl8zPY36u+cKsq7KtrTKVS9f7Jx/N6fgLAigICKAgIICCgAAKAgIoCrIv1odnLkvb+5fTxr9Z86B3A7Oy8kdk0ZLytPHSxSsk15au+Hq0pVfpSkqXOB8TqvI0dW9S4uSap2Mn/izvWa4W3bl7qzz25FYpNAUZkP7eW9bGY5Ury71X7ZpwmLJqHEoXlXl/b59ycSFzzdOrv/+DdW4fcqzwjRuHWICCgAAKAgIoCAigyOYkPWUbHB+b2Nx84ux+CcCsz9prGTeN434bneTZvBKooZxm/PYV6/i9u6PW8bt3+p2PKXaueXrw4Q2ytza94Vs2a/Jcjfwmxu4cj/77zLIrJZ5KJJxEtLX4PMB3saKpfrjubeG65NYsCgxVxRrsaRJkxtVkL+ScK+olizDYcIgFKAgIoCAggIKAAIpsqlg1M9t96urqHq2qqrI+oGfgU+t4f+9tkYuZ3y9vqG80WPO2e1+OOqtPmDvXPN3uG7E2iHMxy47qPJeh3LwxvL3vP4O2XV0zW8ayqWIlxXL7g0QiIS0t9iJW45mXrOMNh9+1No5zMS+6b/M2VxXLlF/Hh/4pyC/X7Q9csmkcp7yvjspX79+McYgFKAgIoCAggIKAAAoCAihivaLQdosDwyxCs93EMxvzqXnaQmZueRHqJrAh8RcEUBAQQEFAAAUBARQEBFAEq2L1DfVI04VGAQzX7R0WLVkt80mwgExMjsu1gU4BDNdlziWlS2U+4RALUBAQQEFAAAUBARTZXFGYmNnus6mucvO2HbX7JYdM47gtazZa9+WjcRzuV7pohfX2DsarDe9ax6/0nJehsQHJpY/PdR7/vOO6q3FcSjzE2jjOxbVwLZvGccgd7W69JSX2t5arcVzIBapC4zggPwgIoCAggIKAAIqQVxSaTl0pCWBkaLym4+IXNbPHtSZirl5L39m6RcpXrxT83+Jl6ySEoZF7cuGTlHWfa55czQKjOe8Sz6ZuikEJJGQVK6SkWJrTaU3Ent/zunXc3G318UDdGIvFmqofSQipVErq6+ut+46dftE6HrKpWz5wiAUoCAigICCAgoAACgICKOKuYpm1W4nZgyGbiPneYiEbIStl+agwhZLNrQlclLVYKflqbVUs+AsCKAgIoCAggIKAAAoCAijyVcWyXmn4zMHd2yur166ZPV6xsVzWbUxvMNbdeUNOvWm/aNFVTen+1w0ZGx5PG287c1k+fP+y7SHt5unEw47vPdywZPGi7RKAq5+Ur8nJyfbW1lav3yPSEG1pv8dju7fKzie3pn1x2crlUl27wf5Ejis/9z1Xb32MWcQ40Hsrbby3e2DwnTc+aBe7nFe38nV/kIRtsLJq7XSpMFNjI+PTl936qP6GfQKvum9F7L0q+dz5fwRbPRpQNqurrb+H+bDymSfDNU+2D6v/fQ/bh2LEfIAmJCYcYgEKAgIoCAigICCAIl8n6Udtgx+1djx79VL6pbUuM5dlvm3b13zi7BHxcO2zgVT0318tu7rE39uO54pTl/iz/h7Ra/VE9PomxE/O53whMDXbKY9Na0w35bklBZlKiv/r6xJyznOOQyxAQUAABQEBFAQEUOSriuVyUfy0K/tS4qdLkKkuCdQUUMLOOQAAAAAAAAD5L0lH1xfIaUbrAAAAAElFTkSuQmCC",alt:"frog stage 2"}):8===n?(0,TI.jsx)("img",{className:"pet",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA01SURBVHgB7d1/aJ1XHcfxb2azJu2aJpV2kCbdHV1lGJ1BVuyImBv/mH/NyTBaBEkV/6n/pU6cUukNFnSozV8jgigrgm6LioX9s6LLrZh1W4tktZ2T7rpLfmGTLb/aNMmSND4nmYj3nvMl53ruz7xf8BA49z65uc99Pu1zv3yfc0QAAAAAAACAUlclW9exaOuS/Dobbc9Kfh2TyngfJWmbbF2xaItLfl2Q/ItJZbyPknSXAHAiIICCgAAKAgIotkIV65hsfJH9H52dne0tLS1xCeD1q+dlau5G1vh7N24lr79xI69fcA994t72D997T1zySHkfaanw6tZWqGKZEmg8czAKh5w6dUpCeOb5W5IavZI1fvF8Kn5dbsQlj6JwyCOPHpR8Ut5HUio8IFxiAQoCAigICKAgIICi3L6k10dbq88OjbH6+rs+lF2sm5r9lySTSQlhZnbGOr57T600HWyQfDKvYbO0uCITY3MSiu193Fldqx9Pz8TFz1C0zUiZKLcybzzaBnx2+OLxh6X54J6s8agyI69GWwiu1yim0dSU9PddlhCORFUyW6Usx9fokI3qV1ngEgtQEBBAQUAABQEBFAQEUJRqFSsRbVmNUqbU2Hn8sHWHM996yTre0dFhLecmEgnvXqyqKr/D5ar+hOSqxsXjcRkY8Cr4OY+Vi/Z5uPT3XYqqX9O2h3pk43MvKfwPAigICKAgIICCgAAKAgIoit2s2CuW5sPWtgOxQw/ty3ry9tpq1++RZ174tnV8bMKv32poaEi6u7ulkplqlY157/kWf/xBWVpYzhq/fmWia2hwuN2yi/mjivaBFDsgJhzxzMGandVRCdGv+S81csU6vrB0S3zMzMwE6/ItVcV8f3sbd1nHR1LTMbHMHVBsXGIBCgICKAgIoCAggKJQX9ITtkFTrTJfyDM15/k2VcP1RTWdTkslMO+jp6dHysX6Z27pW1ucX45F1a2EYzfXeDCFCoi1K/CBqJRbrFtVTUAquVplAmIaMsuFqVraKpejqSkTEFdXaULyjEssQEFAAAUBARQEBFAUtdVkcuymddxMhlbXUCsh7G2ss47PTS3I3PSihHmNXbK9NvtQuiZ1C8k1Od3SwopMjt+UEOoaaqTO8l727t8locxNL8hs9JlkencszHvIVaFuuV3zeXIxb1XNxVadOC6kHD+PvJ+/XGIBCgICKAgIoCAggIKAAIqQVYC4OJYmWFvzKmKtN9n59hF1/+RRQenoffK81/MDT+QXbIkF/gcBFAQEUBAQQEFAAAUBARS5NCsei7auzMG2trb606dPSwhdXV3S3t7utc9Xv/GEddxMVOaaiwn/H9MMmTz3lvUx36UXYrGY+HK9xsmTJ3sHBwdtK+mejbZnxUMuAYmJZbK36urq9TUpQjAHy/eAOdackEXLLH4Iw8yQ6Druoc4Fjes1onPRtVT4BfHEJRagICCAgoAACgICKIo9u3vevXlp3PlFMpSWw43BbhEOxdzCei1673l9DcstsoW0OGevoK2u3JZQKj8gl/N7khjmnvCSC0h08oa6pbhULd78h3V8bTVcQLjEAhQEBFAQEEBBQABFxXxJd7UdmIUpzbqDm1W/Y5e03n9IfCzPmjX2pqSUmL8p3vJJr32G3rkuM7c3P1FbfX29tLa2SiWrmIC4GtfMiq4+yxyYcAz8oE98dHz/uCSv/VVKiQlHvt+HCYdvU2K54RILUBAQQEFAAAUBARQEBFCU5MRxIbmqWK4p/bVlA9Z+/5pUgqonPmUddy3j4FqawJTWQ1WxTOOhq7fKpaHpC66HmDgOKAQCAigICKAgIICCgACKkFWs+mizdq5F1Q5rqaO3t9er2c00HnZ3d4uP3fctyN07VrPG6xwr6W6sDjtn/V2Tf74jIbTe/xHp/brf++j+5Zn1ZsIQ9n7G/u/i3v11sr0muz3P3L5ru732/fltMjtcIz5cn7mrivW3a+/I9xK/sP6uv1y82iF2Q9G2+Q5VRchmRfMHJW0PuJoFfbps//N8n8ZDw5QumzxWoDXLObue39/nt+ZFSCYcoRoiu7/mt5aK+YfE9o+JKYn7fh6+n/ns3LwJguvhpOQZl1iAgoAACgICKAgIoCjqHYVnz56VCxc2P+F2Op12PnbE0ldl7N4Tbr4q12v42rGtSnqe/7nfPvdVyZH9YV4/FFMJdB0T15xcrs98eeldWYm2TCMjE1JMIcu8mrx3K5bTKrdaQ6SLq5GwVPmucpujvJ+/XGIBCgICKAgIoCAggCLXNQpjPjuY2c/xX9trq72PSU20TzkpxGc+mpqOi5/0B9um5VIFSETbKZ8dyqnChPKRQ6WsRzbO303jEgtQEBBAQUAABQEBFAQEUGhVLHObbDxzMJFIyKlTXkUsOfHTz8lW5JpwLSTXBHhb2Te//GN5oOmhrPGenp7189ciKRuTzWXhfxBAQUAABQEBFAQEUBAQQBHsltuxyZT8YeBnUsn6+y55Pf+Jzx+VH373S1773Hp30Ov5L/7xYvR3veK1T+fxw1LJzr3cJzU192SNv37V7zgZwQKysDgvqZErUslGU9Nez9+z+17n8tQuM2OzXs83k6r5/l2Vbmzyn9bxqbkb4otLLEBBQAAFAQEUBARQmC/pCcdjMdvg2yNvyEuv/CprPJcvQMVk5qYa8fxy6+jjcWo70rI+rX8+ffqRj4mcOOq1z4XzftW45oMNXjPkl6GYOHJgmhW9JnWrlOa4XBoJfVfrzWXl1kJQVoe12sqfOZdYgIKAAAoCAigICKBwtprsbdy1vl5fppDLCRTC5PhNWVxYzhrfU2faQJolhNXlWVm7k/0ad1YXpBS1mcqXh107t0UVv6mscTOZnTlPyoU5d20T2m0s3HrTuo+zilVu0+27mAZDW69SLrcOu5gGQ9vaFpXiR2eek6ejLZM52Sqh8VFbjoJLLEBBQAAFAQEUBARQEBBAUZBVbl3T1IeslLleY2BgwPuuPpeZsXOyFT114uj6lsnczfhY50nrPqGWvNAqTIVYVoP/QQAFAQEUBARQEBBAQUAARUGqWOXENB4uzF4VwCAgGUxXbiU3HsIPl1iAgoAACgICKAgIoCAggIKAAAoCAigICKAgIICCgAAK02qStD0wPXG7NfpRL5tUiEnElhZXZGJszvqY667B+nr7W7izelvurNzOGl9dtv9+ZNtdt9M5CZ1tojljX2OddULCkFyTBbrMTNyeiX4M2R4zf2mH7YE//e7NgehHXDapEJOITUbh+K3j9kvfpQnenx8uyaUJysnHW+6XF/tPWx9zLbFQiAkJk+fe8l3Y1ITDmgMusQAFAQEUBARQEBBAQUAAhVZv63CMJ6ItzLoBBVDpSxPAS4+4V3W24n8QQEFAAAUBARQEBFAQEEChVbF6o601c7C17UDs0EP7sp68vbba9Xuk8/jD1vFrl8fl1fOprPGPPrxfWg43CraOa5fG5c3LY1njdXtqneePS/zxB2XJ0qx4/cpE19DgcLtlF9OL1W37XVpATDjimYM1O6ulybPZzPX8i1E4bE1lTRWwui78zE0v2M8F8T8fXF3lI6npWPQjJh64xAIUBARQEBBAQUAAhfmSnrA9YKpV5gt5puaDDVIspqJx5NGD1sd6enqs40vzw+u3127WgeZ98pXOz8pW9Ov+l2V4ZEJCcH1Ou6PPsFjWz13L37U4vxyLqlsJ2z4mINbGwweiUm5ziVWT6hpq5RHHgU88mZAQzD3WWzUgv3nh5fWVa0MoxAq0vkw1zFYRG01NmYBYc8AlFqAgIICCgAAKAgIoCjJxnGsSsaWFFSkA02czs9knr6ys1kdfVFslgANN+9arYvlkqk7Do2EqT8srq17HSjbOjyDHysX0VLnOH1cRqewmjnNN9lYgpgktudknv3bp7/HHOk8OSADfOXFUnoq2fDKl2afPPCeBeB0r2Tg/ghwrl8nxW87zx1UpY+I4oEAICKAgIICCgAAKAgIoqsRfQjwnjnMtTdDR0SHJZDJr3DS6uXqufPX3XXJVNLwnEctBQvI/yV7R3kfIJS/M3aW226/Nui8DA/ZCWVWV9+nLxHFASAQEUBAQQEFAAAUBARS5VLFi4jm3UFSJsJYhdt+3IHfvWM0aN7fWmrsHM5kmNNNnY+Oqpph9HJOIpYcGh9OWXZyTiOUgJp7HKgfpD7YQtMkCY5nj25UGVVM9tDGTutn2MfNizU0tZI2/P79NZodrrL8rqoC6luhwSYvnscplPd60eL6IrZRrmBVPfSYFMye6ZxNa0EnEcpCWcCdvIQSbLND1Obm6bM0/iLZ/FEdTU87zR/waK3PCJRagICCAgoAACgICKHL5kp4L66xub1+Z6Brd+LK8KYvzy+nox1nbYxfPp7x6nt67cSsZ/bhgeSgtW5c5tlnHJDpW7dHxjYufvH/mW4Ep/655bNrtnWueW0KwWQnxP74uIT/zvOMSC1AQEEBBQAAFAQEUhapiubwhfoaUx5LiJy3YrLSEa+sI+ZkDAAAAAAAAkH8Dqi57MFcxlH8AAAAASUVORK5CYII=",alt:"frog stage 3"}):void 0}return(0,r.useEffect)((function(){var t=function(){var t=Qe(Ue().mark((function t(){var n,r,a,o,u,s,c;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return n=FA(SI,"all_data",e.uid),t.next=4,uI(n);case 4:(r=t.sent).exists()&&(a=r.data().goalArray,o=a.length-1,u=a[o],s=u.pet,(c=u.progressCounter)<=7?i(10):c<=28?i(s):c<=49?i(s+1):c<=60&&i(s+2));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()})),(0,TI.jsx)("div",{children:(0,TI.jsx)(a,{})})},WI=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,on(t,new yt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),kn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){on(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){un(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),GI=(je(KI={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),je(KI,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),KI),XI=new at("app-compat","Firebase",GI);var JI=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=mn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ut(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:wn,setLogLevel:xn,onLog:An,apps:null,SDK_VERSION:vn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(sn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw XI.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ge(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ut(n,e=e||tn))throw XI.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(WI);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ge(n,e)},createSubscribe:pt,ErrorFactory:at,deepExtend:Ge}),n}(),YI=new Nt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){YI.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ZI=self.firebase.SDK_VERSION;ZI&&ZI.indexOf("LITE")>=0&&YI.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $I=JI;!function(e){wn("@firebase/app-compat","0.2.9",e)}();$I.registerVersion("firebase","9.21.0","app-compat");function eE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function tE(){if("undefined"===typeof Uint8Array)throw new Hf("unimplemented","Uint8Arrays are not available in this environment.")}function nE(){if("undefined"==typeof atob)throw new Hf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var rE=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return nE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return tE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return nE(),new e(ex.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return tE(),new e(ex.fromUint8Array(t))}}]),e}();function iE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=E(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var aE=function(){function e(){h(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$A(e=NA(e,qA));var n=HA(e);if(n._uninitializedComponentsProvider)throw new Hf(Kf.FAILED_PRECONDITION,"SDK cache is already specified.");Vf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Zw;return GA(n,i,new Jw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$A(e=NA(e,qA));var t=HA(e);if(t._uninitializedComponentsProvider)throw new Hf(Kf.FAILED_PRECONDITION,"SDK cache is already specified.");Vf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Zw;return GA(t,r,new Yw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Hf(Kf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Wf;return e._queue.enqueueAndForgetEvenWhileRestricted(Qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Qe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nh.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Nh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(qy(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),oE=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Fd||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Vf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return XA(this._delegate)}},{key:"disableNetwork",value:function(){return JA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&EA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=mw,n.next=3,gA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(HA(NA(this._delegate,qA)))}},{key:"onSnapshotsInSync",value:function(e){return pI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Hf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new bE(this,BA(this._delegate,e))}catch(t){throw hE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new fE(this,FA(this._delegate,e))}catch(t){throw hE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new gE(this,function(e,t){if(e=NA(e,DA),IA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hf(Kf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LA(e,null,function(e){return new Qp(lh.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw hE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=NA(e,qA);var r=Object.assign(Object.assign({},gI),n);return function(e){if(e.maxAttempts<1)throw new Hf(Kf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Wf;return e.asyncQueue.enqueueAndForget(Qe(Ue().mark((function i(){var a;return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,yA(e);case 2:a=i.sent,new rA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(HA(e),(function(n){return t(new bI(e,n))}),r)}(this._delegate,(function(n){return e(new sE(t,n))}))}},{key:"batch",value:function(){var e=this;return HA(this._delegate),new cE(new yI(this._delegate,(function(t){return vI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ZA(this._delegate,e).then((function(e){return e?new gE(t,e):null}))}}]),e}(),uE=function(e){y(n,e);var t=A(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new rE(new ex(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return fE.forKey(t,this.firestore,null)}}]),n}(Zx);var sE=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new uE(t)}return m(e,[{key:"get",value:function(e){var t=this,n=wE(e);return this._delegate.get(n).then((function(e){return new vE(t._firestore,new nI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=wE(e);return n?(eE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=wE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wE(e);return this._delegate.delete(t),this}}]),e}(),cE=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=wE(e);return n?(eE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=wE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),lE=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new rI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new uE(t),n),i.set(n,a)),a}}]),e}();lE.INSTANCES=new WeakMap;var fE=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new uE(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new bE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new bE(this.firestore,BA(this._delegate,e))}catch(t){throw hE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gt(e))instanceof OA&&UA(this._delegate,e)}},{key:"set",value:function(e,t){t=eE("DocumentReference.set",t);try{return t?fI(this._delegate,e,t):fI(this._delegate,e)}catch(n){throw hE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?hI(this._delegate,e):hI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw hE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return vI(NA((e=this._delegate).firestore,qA),[new Yv(e._key,Mv.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dE(n),a=pE(n,(function(t){return new vE(e.firestore,new nI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return dI(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?cI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NA(e,OA);var t=NA(e.firestore,qA);return wA(HA(t),e._key,{source:"server"}).then((function(n){return mI(t,e,n)}))}(this._delegate):uI(this._delegate)).then((function(e){return new vE(t.firestore,new nI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Hf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new OA(n._delegate,r,new dh(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new OA(n._delegate,r,t))}}]),e}();function hE(e,t,n){return e.message=e.message.replace(t,n),e}function dE(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!iE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function pE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=iE(e[0])?e[0]:iE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vE=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new fE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return oI(this._delegate,e._delegate)}}]),e}(),mE=function(e){y(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||jf(),t}}]),n}(vE),gE=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new uE(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Mx(this._delegate,function(e,t,n){var r=t,i=Dx("where",e);return Bx._create(i,r,n)}(t,n,r)))}catch(i){throw hE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Mx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Dx("orderBy",e);return Ux._create(n,t)}(t,n)))}catch(r){throw hE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Mx(this._delegate,(RA("limit",n=t),Vx._create("limit",n,"F"))))}catch(r){throw hE(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Mx(this._delegate,(RA("limitToLast",n=t),Vx._create("limitToLast",n,"L"))))}catch(r){throw hE(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,Mx(this._delegate,jx.apply(void 0,arguments)))}catch(t){throw hE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Mx(this._delegate,zx.apply(void 0,arguments)))}catch(t){throw hE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Mx(this._delegate,Kx.apply(void 0,arguments)))}catch(t){throw hE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Mx(this._delegate,Hx.apply(void 0,arguments)))}catch(t){throw hE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?lI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NA(e,LA);var t=NA(e.firestore,qA),n=HA(t),r=new sI(t);return AA(n,e._query,{source:"server"}).then((function(n){return new iI(t,r,e,n)}))}(this._delegate):function(e){e=NA(e,LA);var t=NA(e.firestore,qA),n=HA(t),r=new sI(t);return Px(e._query),AA(n,e._query).then((function(n){return new iI(t,r,e,n)}))}(this._delegate)).then((function(e){return new kE(t.firestore,new iI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dE(n),a=pE(n,(function(t){return new kE(e.firestore,new iI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return dI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yE=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new mE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),kE=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new gE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new mE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new mE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return oI(this._delegate,e._delegate)}}]),e}(),bE=function(e){y(n,e);var t=A(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new fE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new fE(this.firestore,void 0===e?FA(this._delegate):FA(this._delegate,e))}catch(t){throw hE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=NA(e.firestore,qA),r=FA(e),i=$x(e.converter,t);return vI(n,[fx(lx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new fE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return UA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(lE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(gE);function wE(e){return NA(e,OA)}var AE,xE=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(tx,n)}return m(e,[{key:"isEqual",value:function(e){return(e=gt(e))instanceof tx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(hh.keyField().canonicalString())}}]),e}(),IE=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new px("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=wI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=AI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new gx("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),EE={Firestore:oE,GeoPoint:rx,Timestamp:uh,Blob:rE,Transaction:sE,WriteBatch:cE,DocumentReference:fE,DocumentSnapshot:vE,Query:gE,QueryDocumentSnapshot:mE,QuerySnapshot:kE,CollectionReference:bE,FieldPath:xE,FieldValue:IE,setLogLevel:function(e){var t;t=e,Mf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function SE(e){var t=e.user,n=e.isDeleteGoalOpen,r=ke();return(0,TI.jsx)(TI.Fragment,{children:n&&(0,TI.jsx)("div",{className:"DeleteGoalPopup",children:(0,TI.jsx)("div",{className:"DeleteGoal",children:(0,TI.jsxs)("div",{className:"InputBubble",children:[(0,TI.jsxs)("div",{className:"bubbleHeader",children:[(0,TI.jsx)("p",{children:"Would you like to delete your current goal and create a new one?"}),(0,TI.jsx)("p",{children:"This action will delete your current progress!"})]}),(0,TI.jsxs)("div",{className:"deleteGoalButtons",children:[(0,TI.jsx)("button",{onClick:function(e){var n=function(){var e=Qe(Ue().mark((function e(){var n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return n=FA(SI,"all_data",t.uid),e.next=4,uI(n);case 4:return r=e.sent,i=r.data().goalArray,a=i[i.length-1],o=r.data().lastProgressMade,e.next=10,hI(n,{goalArray:$I.firestore.FieldValue.arrayRemove(a),lastProgressMade:$I.firestore.FieldValue.delete(o)});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(),r("../CreateGoal")},className:"deleteGoalButton",children:" Yes "}),(0,TI.jsx)("button",{onClick:function(t){e.setIsDeleteGoalOpen(!1)},className:"deleteGoalButton",children:" No "})]})]})})})})}(function(e,t){e.INTERNAL.registerComponent(new yt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},EE)))})(AE=$I,(function(e,t){return new oE(e,t,new aE)})),AE.registerVersion("@firebase/firestore-compat","0.3.8");var CE=function(){var e=EI.currentUser,t=ke(),n=c((0,r.useState)(!1),2),i=n[0],a=n[1],o=c((0,r.useState)(!1),2),u=o[0],s=o[1];function l(){(function(e){return gt(e).signOut()})(EI).then((function(){t("../")})).catch((function(e){console.log(e)}))}function f(){a(!1)}function h(){return(0,TI.jsx)(TI.Fragment,{children:i&&(0,TI.jsx)("div",{className:"Popup",children:(0,TI.jsx)("div",{className:"SignOutPopup1",children:(0,TI.jsxs)("div",{className:"SignOutPopup2",children:[(0,TI.jsx)("p",{className:"ConfirmSignOutText",children:"Would you like to sign out?"}),(0,TI.jsx)("button",{className:"ConfirmSignOutButton",onClick:l,children:(0,TI.jsx)("p",{className:"OkayText",children:"Okay"})}),(0,TI.jsx)("button",{className:"CancelSignOutButton",onClick:f,children:(0,TI.jsx)("p",{className:"CancelText",children:"Cancel"})})]})})})})}return(0,TI.jsxs)(TI.Fragment,{children:[(0,TI.jsx)("nav",{className:"navbar",children:(0,TI.jsxs)("ul",{className:"navlist",children:[(0,TI.jsx)("li",{onClick:function(){s(!0)},className:"editGoalIcon"}),(0,TI.jsx)("li",{className:"petHabitatIcon",onClick:function(){t("../PetGallery")}}),(0,TI.jsx)("li",{className:"homeIcon",onClick:function(){t("../Home")}}),(0,TI.jsx)("li",{className:"shopIcon"}),(0,TI.jsx)("li",{className:"settingsIcon",onClick:function(){a(!0)}})]})}),(0,TI.jsx)(h,{}),(0,TI.jsx)(SE,{user:e,isDeleteGoalOpen:u,setIsDeleteGoalOpen:s})]})};var TE=n.p+"static/media/Close.0633f3500ea3285d7373d0852c3022d2.svg";var NE=function(e){var t=EI.currentUser,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(!1),2),u=o[0],s=o[1],l=function(){var n=Qe(Ue().mark((function n(){var r,a,o;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=new Date,n.prev=1,!t){n.next=10;break}return n.next=5,_I(t.uid);case 5:a=n.sent,(o=a.goalArray)[e.currGoalId].logs.push({date:r,log:i}),PI(t.uid,{goalArray:o}),e.setPopupDisplay(!1);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),s(!0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(){return n.apply(this,arguments)}}();return(0,TI.jsx)("div",{className:"Popup",children:(0,TI.jsxs)("div",{className:"InputBubble",children:[(0,TI.jsx)("button",{className:"close-btn",onClick:l,children:(0,TI.jsx)("img",{src:TE,alt:"close popup button"})}),(0,TI.jsx)("p",{className:"BubbleHeader",children:"Journal Entry?"}),(0,TI.jsx)("textarea",{className:"bubbleField",rows:"5",cols:"33",placeholder:"Example: I read 5 pages of \u201cThe Four Agreements\u201d, I jogged with my friend for 30 minutes...",value:i,onChange:function(e){return a(e.target.value)}}),(0,TI.jsx)("button",{className:"bubbleButton",onClick:l,children:"Log in Journal"}),u&&(0,TI.jsx)("p",{style:{margin:0},children:" Error logging progress"})]})})};var RE=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)(0),2),a=i[0],o=i[1],u=c((0,r.useState)(null),2),s=u[0],l=u[1],f=c((0,r.useState)(!1),2),h=f[0],d=f[1],p=c((0,r.useState)(null),2),v=p[0],m=p[1],g=function(){var e=Qe(Ue().mark((function e(){var t,n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=EI.currentUser)){e.next=14;break}return n=FA(SI,"all_data",t.uid),e.next=6,uI(n);case 6:if(!(r=e.sent).exists()){e.next=14;break}return i=r.data().goalArray,a=i.length-1,o=i[a].progressCounter+1,i[a].progressCounter=o,e.next=14,hI(n,{goalArray:i});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("ERROR ON UPDATE COUNT");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=new Date,t=EI.currentUser;n(!0),o(a+1),PI(t.uid,{lastProgressMade:e}),setTimeout((function(){d(!0)}),900),g()};function k(){return t?(0,TI.jsxs)("div",{children:[(0,TI.jsx)("img",{className:"GreenCheck",src:zI,alt:"green checkmark"}),(0,TI.jsxs)("div",{className:"CompleteGoal",children:[(0,TI.jsx)("p",{className:"CompleteGoalText1",children:"+1"}),(0,TI.jsxs)("p",{className:"CompleteGoalText1",children:[a,"/60 Days"]})]})]}):(0,TI.jsxs)("button",{className:"GoalButton",onClick:y,children:[(0,TI.jsxs)("p",{className:"G1Text",children:[a,"/60 Days"]}),(0,TI.jsx)("p",{className:"G2Text",children:"Complete...?"})]})}return(0,r.useEffect)((function(){var e=function(e){void 0===e?n(!1):function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(e.toDate())&&n(!0)},t=function(){var t=Qe(Ue().mark((function t(){var n,r,i,a,u,s,c;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=EI.currentUser)){t.next=8;break}return r=FA(SI,"all_data",n.uid),t.next=6,uI(r);case 6:(i=t.sent).exists()&&(e(i.data().lastProgressMade),a=i.data().goalArray,u=a.length-1,s=a[u].goal,c=a[u].progressCounter,l(s),m(a.length-1),o(c));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("ERROR GETTING ALL DATA");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,TI.jsxs)("div",{className:"Home",children:[(0,TI.jsx)("div",{className:"GoalBubble",children:(0,TI.jsx)("p",{className:"BubbleText",children:s})}),(0,TI.jsx)(HI,{}),(0,TI.jsx)(k,{onClick:y}),!t&&(0,TI.jsx)("img",{className:"ProfessorText",src:jI,alt:"Professor speech bubble"}),h&&(0,TI.jsx)(NE,{currGoalId:v,setPopupDisplay:d}),(0,TI.jsx)(CE,{})]})};var _E=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],u=ke();return(0,r.useEffect)((function(){var e=function(){var e=Qe(Ue().mark((function e(){var t,r,i,a,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=EI.currentUser)){e.next=8;break}return r=[],e.next=6,_I(t.uid);case 6:(i=e.sent)&&i.goalArray.length>0&&(a=i.goalArray,u=[],a.forEach((function(e){return r.push({goal:e.goal,pet:e.pet,logs:e.logs})})),r.forEach((function(e){return u.push(e.logs)})),n(a),o(u));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error trying to get pets");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,TI.jsxs)("div",{className:"PetGallery",children:[(0,TI.jsx)("p",{className:"HeaderBubble",children:"My Pets"}),(0,TI.jsx)("div",{className:"Gallery",children:t.length>0?t.map((function(e,n){return(0,TI.jsxs)("div",{className:"PetCard",children:[(0,TI.jsx)("p",{className:"PetName",children:"Null"}),(0,TI.jsx)("p",{className:"CardGoalText",children:e.goal}),(0,TI.jsx)("img",{src:"data:image/png;base64,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",style:{width:125},alt:"Your pet"}),a[n].length>0?(0,TI.jsx)("button",{className:"newBubbleButton",id:n,onClick:function(e){return n=e.target.id,void(a[n].length>0?u("/ViewProgress",{state:{logs:a[n],goal:t[n].goal}}):console.log("No logs yet"));var n},children:"Progress Logs"}):(0,TI.jsx)("button",{className:"disabledBubbleButton",style:{disabled:!0},id:n,children:"Progress Logs"})]},n)})):null}),(0,TI.jsx)(CE,{})]})},DE=n.p+"static/media/Doc1.6dff829f6c6fb94c36d8.png",PE=n.p+"static/media/Doc2.d7a2317e264a2cc4b992.png",OE=n.p+"static/media/Doc3.fc8826bd715a8e934900.png";var LE=function(){var e=ke(),t=c((0,r.useState)(0),2),n=t[0],i=t[1],a=[DE,PE,OE];return(0,TI.jsxs)("div",{className:"DocIntro",children:[(0,TI.jsx)("img",{className:"Images",src:a[n],alt:"top speech bubble"}),(0,TI.jsx)("button",{className:"NextBubble",onClick:function(){n===a.length-1?e("../CreateGoal"):i(n+1)}})]})};var ME=function(){var e=ge(),t=c((0,r.useState)(e.state.logs),1)[0],n=c((0,r.useState)(e.state.goal),1)[0],i=c((0,r.useState)(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),1)[0],a=c((0,r.useState)(["",""]),2),o=a[0],u=a[1],s=c((0,r.useState)(["",""]),2),l=s[0],f=s[1],h=c((0,r.useState)(!1),2),d=h[0],p=h[1],v=c((0,r.useState)([]),2),m=v[0],g=v[1];return(0,r.useEffect)((function(){!function(){if(t.length>0){var e=new Date(1e3*t[0].date.seconds),n=e.getMonth(),r=e.getFullYear(),a=(e=new Date(1e3*t[t.length-1].date.seconds)).getMonth(),o=e.getFullYear();u([i[n],i[a]]),f([r%100,o%100])}}()}),[e,t,i]),(0,TI.jsxs)("div",{className:"ViewProgress",children:[(0,TI.jsx)("div",{className:"GoalBubble",children:(0,TI.jsxs)("p",{className:"BubbleText",children:[o[0]," ",l[0]," - ",o[1]," ",l[1]]})}),(0,TI.jsx)("div",{className:"InputBubble",children:(0,TI.jsx)("div",{className:"gridContents",children:t.length>0?t.map((function(e,n){return e.log.length>0?(0,TI.jsx)("img",{id:n,src:"data:image/png;base64,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",style:{width:40,margin:"8px 3px"},alt:"Journal Entry available",onClick:function(){return function(e){var n=new Date(1e3*t[e].date.seconds),r=n.getMonth(),i=n.getDate(),a=n.getFullYear()%100;g([r+"."+i+"."+a,t[e].log]),p(!0)}(n)}}):(0,TI.jsx)("img",{src:"data:image/png;base64,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",style:{width:40,margin:"8px 3px"},alt:"No journal entry available"})})):null})}),d&&(0,TI.jsx)("div",{className:"Popup",children:(0,TI.jsxs)("div",{className:"InputBubble",children:[(0,TI.jsx)("button",{className:"close-btn",onClick:function(){p(!1)},children:(0,TI.jsx)("img",{src:TE,alt:"close popup button"})}),(0,TI.jsx)("p",{className:"Bubble-Header",children:n}),(0,TI.jsx)("p",{className:"ViewDatePopup",children:m[0]}),(0,TI.jsx)("p",{className:"ViewGoalTextPopup",children:m[1]})]})}),(0,TI.jsx)(CE,{})]})};function BE(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),L((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,t)));var u=o.current,s=c(r.useState({action:u.action,location:u.location}),2),l=s[0],f=s[1];return r.useLayoutEffect((function(){return u.listen(f)}),[u]),r.createElement(Oe,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var FE,UE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(FE||(FE={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(UE||(UE={}));var VE=function(e){var t=e.isSignedIn,n=e.children;return t?n:(0,TI.jsx)(De,{to:"/",replace:!0})};var QE=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,TI.jsx)(BE,{basename:"/NeuroPets",children:(0,TI.jsxs)(Le,{children:[(0,TI.jsx)(Pe,{path:"",element:(0,TI.jsx)(NI,{setIsSignedIn:n})}),(0,TI.jsx)(Pe,{path:"/",element:(0,TI.jsx)(NI,{setIsSignedIn:n})}),(0,TI.jsx)(Pe,{path:"/regPage",element:(0,TI.jsx)(FI,{setIsSignedIn:n})}),(0,TI.jsx)(Pe,{path:"/createGoal",element:(0,TI.jsx)(VE,{isSignedIn:t,children:(0,TI.jsx)(QI,{})})}),(0,TI.jsx)(Pe,{path:"/home",element:(0,TI.jsx)(VE,{isSignedIn:t,children:(0,TI.jsx)(RE,{})})}),(0,TI.jsx)(Pe,{path:"/doctorIntro",element:(0,TI.jsx)(VE,{isSignedIn:t,children:(0,TI.jsx)(LE,{})})}),(0,TI.jsx)(Pe,{path:"/petGallery",element:(0,TI.jsx)(VE,{isSignedIn:t,children:(0,TI.jsx)(_E,{})})}),(0,TI.jsx)(Pe,{path:"/viewProgress",element:(0,TI.jsx)(VE,{isSignedIn:t,children:(0,TI.jsx)(ME,{})})})]})})},jE=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,TI.jsx)(r.StrictMode,{children:(0,TI.jsx)(QE,{})})),jE()}()}();
//# sourceMappingURL=main.c16116c6.js.map