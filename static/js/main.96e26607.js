/*! For license information please see main.96e26607.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,M=Object.assign;function V(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ns){var r=Ns}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ns){r=Ns}e.call(t.prototype)}else{try{throw Error()}catch(Ns){r=Ns}e()}}catch(Ns){if(Ns&&r&&"string"===typeof Ns.stack){for(var i=Ns.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function j(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case S:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Wu){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Ce=null;function Se(e){if(e=Ai(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function xe(e){Ie?Ce?Ce.push(e):Ce=[e]:Ie=e}function ke(){if(Ie){var e=Ie,t=Ce;if(Ce=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==Ie||null!==Ce)&&(Ne(),ke())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _e=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){_e=!1}function Be(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,Me=null,Ve=!1,Ue=null,Fe={onError:function(e){Oe=!0,Me=e}};function je(e,t,n,r,i,s,o,a,l){Oe=!1,Me=null,Be.apply(Fe,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Qe(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var At=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,It,Ct,St,xt=!1,kt=[],Tt=null,Nt=null,Rt=null,Pt=new Map,Dt=new Map,_t=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ai(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ai(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function Ft(){xt=!1,null!==Tt&&Vt(Tt)&&(Tt=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==Rt&&Vt(Rt)&&(Rt=null),Pt.forEach(Ut),Dt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Qt(e){function t(t){return jt(t,e)}if(0<kt.length){jt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Nt&&jt(Nt,e),null!==Rt&&jt(Rt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Mt(n),null===n.blockedOn&&_t.shift()}var zt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=At,s=zt.transition;zt.transition=null;try{At=1,Gt(e,t,n,r)}finally{At=i,zt.transition=s}}function Wt(e,t,n,r){var i=At,s=zt.transition;zt.transition=null;try{At=4,Gt(e,t,n,r)}finally{At=i,zt.transition=s}}function Gt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Bt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Ot(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Ot(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Bt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=Ai(i);if(null!==s&&wt(s),null===(s=Xt(e,t,n,r))&&qr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=Qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=M({},un,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=sn(vn),bn=sn(M({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return Cn}var xn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(xn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=sn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),_n=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Bn=null;c&&"documentMode"in document&&(Bn=document.documentMode);var On=c&&"TextEvent"in window&&!Bn,Mn=c&&(!Ln||Bn&&8<Bn&&11>=Bn),Vn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){xe(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Vr(e,0)}function Xn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function sr(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,Ar=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},Cr={};function Sr(e){if(Ir[e])return Ir[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Ir[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=Sr("animationend"),kr=Sr("animationiteration"),Tr=Sr("animationstart"),Nr=Sr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Rr.set(e,t),l(t,[e])}for(var _r=0;_r<Pr.length;_r++){var Lr=Pr[_r];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(xr,"onAnimationEnd"),Dr(kr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(je.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var c=Me;Oe=!1,Me=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=we(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case xr:case kr:case Tr:l=yn;break;case Nr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&c.push(Hr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Kr(o,a,l,c,!1),null!==u&&null!==h&&Kr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Jn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Qn?Fn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Mn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==A?"onCompositionEnd"===A&&Qn&&(v=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Qn=!0)),0<(y=Wr(r,A)).length&&(A=new bn(A,e,null,n,i),o.push({event:A,listeners:y}),v?A.data=v:null!==(v=jn(n))&&(A.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Ln&&Fn(e,t)?(e=en(),$t=Zt=Jt=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Vr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=De(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=De(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function Ai(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var Ei=[],Ii=-1;function Ci(e){return{current:e}}function Si(e){0>Ii||(e.current=Ei[Ii],Ei[Ii]=null,Ii--)}function xi(e,t){Ii++,Ei[Ii]=e.current,e.current=t}var ki={},Ti=Ci(ki),Ni=Ci(!1),Ri=ki;function Pi(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){Si(Ni),Si(Ti)}function Li(e,t,n){if(Ti.current!==ki)throw Error(s(168));xi(Ti,t),xi(Ni,n)}function Bi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ri=Ti.current,xi(Ti,e),xi(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Bi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ti),xi(Ti,e)):Si(Ni),xi(Ni,n)}var Vi=null,Ui=!1,Fi=!1;function ji(e){null===Vi?Vi=[e]:Vi.push(e)}function Qi(){if(!Fi&&null!==Vi){Fi=!0;var e=0,t=At;try{var n=Vi;for(At=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge($e,Qi),i}finally{At=t,Fi=!1}}return null}var zi=[],qi=0,Hi=null,Wi=0,Gi=[],Ki=0,Xi=null,Yi=1,Ji="";function Zi(e,t){zi[qi++]=Wi,zi[qi++]=Hi,Hi=e,Wi=t}function $i(e,t,n){Gi[Ki++]=Yi,Gi[Ki++]=Ji,Gi[Ki++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Hi;)Hi=zi[--qi],zi[qi]=null,Wi=zi[--qi],zi[qi]=null;for(;e===Xi;)Xi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ci(null),vs=null,As=null,bs=null;function ws(){bs=As=vs=null}function Es(e){var t=ys.current;Si(ys),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){vs=e,bs=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function xs(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===vs)throw Error(s(308));As=e,vs.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var ks=null;function Ts(e){null===ks?ks=[e]:ks.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ll)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ql|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var zs=(new r.Component).refs;function qs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Hs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ou(),i=au(e),s=Bs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(lu(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ou(),i=au(e),s=Bs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(lu(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ou(),r=au(e),i=Bs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(lu(t,e,r,n),Ms(t,e,r))}};function Ws(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Gs(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=xs(s):(i=Di(t)?Ri:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Xs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zs,_s(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=xs(s):(s=Di(t)?Ri:Ti.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(qs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Hs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ys(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===zs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Zs(s)===t.type)?((r=i(t,n.props)).ref=Ys(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=Ys(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=ju(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=Ys(e,null,t),n.return=e,n;case E:return(t=qu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||B(t))return(t=ju(t,e.mode,n,null)).return=e,t;Js(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||B(n))return null!==i?null:h(e,t,n,r,null);Js(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);Js(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),is&&Zi(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Zi(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,m),u}function g(i,a,l,u){var c=B(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var A=f(i,m,v.value,u);if(null===A){null===m&&(m=y);break}e&&m&&null===A.alternate&&t(i,m),a=o(A,a,g),null===h?c=A:h.sibling=A,h=A,m=y}if(v.done)return n(i,m),is&&Zi(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return is&&Zi(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===I){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&Zs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=Ys(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===I?((s=ju(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Fu(o.type,o.key,o.props,null,r.mode,l)).ref=Ys(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qu(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(B(o))return g(r,s,o,l);Js(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=zu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var eo=$s(!0),to=$s(!1),no={},ro=Ci(no),io=Ci(no),so=Ci(no);function oo(e){if(e===no)throw Error(s(174));return e}function ao(e,t){switch(xi(so,t),xi(io,e),xi(ro,no),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(ro),xi(ro,t)}function lo(){Si(ro),Si(io),Si(so)}function uo(e){oo(so.current);var t=oo(ro.current),n=le(t,e.type);t!==n&&(xi(io,e),xi(ro,n))}function co(e){io.current===e&&(Si(ro),Si(io))}var ho=Ci(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function mo(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var go=b.ReactCurrentDispatcher,yo=b.ReactCurrentBatchConfig,vo=0,Ao=null,bo=null,wo=null,Eo=!1,Io=!1,Co=0,So=0;function xo(){throw Error(s(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(vo=o,Ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=null===e||null===e.memoizedState?ha:fa,e=n(r,i),Io){o=0;do{if(Io=!1,Co=0,25<=o)throw Error(s(301));o+=1,wo=bo=null,t.updateQueue=null,go.current=pa,e=n(r,i)}while(Io)}if(go.current=ca,t=null!==bo&&null!==bo.next,vo=0,wo=bo=Ao=null,Eo=!1,t)throw Error(s(300));return e}function No(){var e=0!==Co;return Co=0,e}function Ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wo?Ao.memoizedState=wo=e:wo=wo.next=e,wo}function Po(){if(null===bo){var e=Ao.alternate;e=null!==e?e.memoizedState:null}else e=bo.next;var t=null===wo?Ao.memoizedState:wo.next;if(null!==t)wo=t,bo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(bo=e).memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},null===wo?Ao.memoizedState=wo=e:wo=wo.next=e}return wo}function Do(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=Po(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=bo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((vo&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,Ao.lanes|=h,Ql|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(Sa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,Ao.lanes|=o,Ql|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lo(e){var t=Po(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(Sa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(){}function Oo(e,t){var n=Ao,r=Po(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,Sa=!0),r=r.queue,Ko(Uo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==wo&&1&wo.memoizedState.tag){if(n.flags|=2048,zo(9,Vo.bind(null,n,r,i,t),void 0,null),null===Bl)throw Error(s(349));0!==(30&vo)||Mo(n,t,i)}return i}function Mo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ao.updateQueue)?(t={lastEffect:null,stores:null},Ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vo(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&jo(e)}function Uo(e,t,n){return n((function(){Fo(t)&&jo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Ps(e,1);null!==t&&lu(t,e,1,-1)}function Qo(e){var t=Ro();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},t.queue=e,e=e.dispatch=oa.bind(null,Ao,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ao.updateQueue)?(t={lastEffect:null,stores:null},Ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qo(){return Po().memoizedState}function Ho(e,t,n,r){var i=Ro();Ao.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=Po();r=void 0===r?null:r;var s=void 0;if(null!==bo){var o=bo.memoizedState;if(s=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=zo(t,n,s,r))}Ao.flags|=e,i.memoizedState=zo(1|t,n,s,r)}function Go(e,t){return Ho(8390656,8,e,t)}function Ko(e,t){return Wo(2048,8,e,t)}function Xo(e,t){return Wo(4,2,e,t)}function Yo(e,t){return Wo(4,4,e,t)}function Jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Jo.bind(null,t,e),n)}function $o(){}function ea(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ta(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function na(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),Ao.lanes|=n,Ql|=n,e.baseState=!0),t)}function ra(e,t){var n=At;At=0!==n&&4>n?n:4,e(!0);var r=yo.transition;yo.transition={};try{e(!1),t()}finally{At=n,yo.transition=r}}function ia(){return Po().memoizedState}function sa(e,t,n){var r=au(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aa(e))la(t,n);else if(null!==(n=Rs(e,t,n,r))){lu(n,e,r,ou()),ua(n,t,r)}}function oa(e,t,n){var r=au(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aa(e))la(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Ns){}null!==(n=Rs(e,t,i,r))&&(lu(n,e,r,i=ou()),ua(n,t,r))}}function aa(e){var t=e.alternate;return e===Ao||null!==t&&t===Ao}function la(e,t){Io=Eo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ua(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ca={readContext:xs,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ha={readContext:xs,useCallback:function(e,t){return Ro().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,Jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Ro();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ro();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sa.bind(null,Ao,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ro().memoizedState=e},useState:Qo,useDebugValue:$o,useDeferredValue:function(e){return Ro().memoizedState=e},useTransition:function(){var e=Qo(!1),t=e[0];return e=ra.bind(null,e[1]),Ro().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ao,i=Ro();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Bl)throw Error(s(349));0!==(30&vo)||Mo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Go(Uo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Vo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ro(),t=Bl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=Co++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=So++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fa={readContext:xs,useCallback:ea,useContext:xs,useEffect:Ko,useImperativeHandle:Zo,useInsertionEffect:Xo,useLayoutEffect:Yo,useMemo:ta,useReducer:_o,useRef:qo,useState:function(){return _o(Do)},useDebugValue:$o,useDeferredValue:function(e){return na(Po(),bo.memoizedState,e)},useTransition:function(){return[_o(Do)[0],Po().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Oo,useId:ia,unstable_isNewReconciler:!1},pa={readContext:xs,useCallback:ea,useContext:xs,useEffect:Ko,useImperativeHandle:Zo,useInsertionEffect:Xo,useLayoutEffect:Yo,useMemo:ta,useReducer:Lo,useRef:qo,useState:function(){return Lo(Do)},useDebugValue:$o,useDeferredValue:function(e){var t=Po();return null===bo?t.memoizedState=e:na(t,bo.memoizedState,e)},useTransition:function(){return[Lo(Do)[0],Po().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Oo,useId:ia,unstable_isNewReconciler:!1};function ma(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var va="function"===typeof WeakMap?WeakMap:Map;function Aa(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Jl=r),ya(0,t)},n}function ba(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ya(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ya(0,t),"function"!==typeof r&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function wa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new va;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pu.bind(null,e,t,n),t.then(e,e))}function Ea(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ia(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ca=b.ReactCurrentOwner,Sa=!1;function xa(e,t,n,r){t.child=null===e?to(t,null,n,r):eo(t,e.child,n,r)}function ka(e,t,n,r,i){n=n.render;var s=t.ref;return Cs(t,i),r=To(e,t,n,r,s,i),n=No(),null===e||Sa?(is&&n&&es(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ya(e,t,i))}function Ta(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Na(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ya(e,t,i)}return t.flags|=1,(e=Uu(s,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ya(e,t,i);0!==(131072&e.flags)&&(Sa=!0)}}return Da(e,t,n,r,i)}function Ra(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ul,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ul,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Ul,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Ul,Vl),Vl|=r;return xa(e,t,i,n),t.child}function Pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,n,r,i){var s=Di(n)?Ri:Ti.current;return s=Pi(t,s),Cs(t,i),n=To(e,t,n,r,s,i),r=No(),null===e||Sa?(is&&r&&es(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ya(e,t,i))}function _a(e,t,n,r,i){if(Di(n)){var s=!0;Oi(t)}else s=!1;if(Cs(t,i),null===t.stateNode)Xa(e,t),Gs(t,n,r),Xs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=xs(u):u=Pi(t,u=Di(n)?Ri:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&Ks(t,o,r,u),Ds=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ds?("function"===typeof c&&(qs(t,n,c,r),l=t.memoizedState),(a=Ds||Ws(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ls(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gs(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=xs(l):l=Pi(t,l=Di(n)?Ri:Ti.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ks(t,o,r,l),Ds=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ds?("function"===typeof f&&(qs(t,n,f,r),p=t.memoizedState),(u=Ds||Ws(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return La(e,t,n,r,s,i)}function La(e,t,n,r,i,s){Pa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ya(e,t,s);r=t.stateNode,Ca.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=eo(t,e.child,null,s),t.child=eo(t,null,a,s)):xa(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ao(e,t.containerInfo)}function Oa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xa(e,t,n,r),t.child}var Ma,Va,Ua,Fa,ja={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,o=ho.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(ho,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Qu(l,i,0,null),e=ju(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Qa(n),t.memoizedState=ja,e):qa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ha(e,t,a,r=ga(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Qu({mode:"visible",children:r.children},i,0,null),(o=ju(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&eo(t,e.child,null,a),t.child.memoizedState=Qa(a),t.memoizedState=ja,o);if(0===(1&t.mode))return Ha(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ha(e,t,a,r=ga(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),Sa||l){if(null!==(r=Bl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ps(e,i),lu(r,e,i,-1))}return wu(),Ha(e,t,a,r=ga(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Ki++]=Yi,Gi[Ki++]=Ji,Gi[Ki++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=qa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Uu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Uu(r,a):(a=ju(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Qa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,i}return e=(a=e.child).sibling,i=Uu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qa(e,t){return(t=Qu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ha(e,t,n,r){return null!==r&&ps(r),eo(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ga(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ka(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ho.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n,t);else if(19===e.tag)Wa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ho,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,s);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ya(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ql|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ja(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Za(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Za(t),null;case 1:case 17:return Di(t.type)&&_i(),Za(t),null;case 3:return r=t.stateNode,lo(),Si(Ni),Si(Ti),mo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(du(ss),ss=null))),Va(e,t),Za(t),null;case 5:co(t);var i=oo(so.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Za(t),null}if(e=oo(ro.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Br.length;i++)Ur(Br[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ae(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Br.length;i++)Ur(Br[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&A(e,o,c,l))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Za(t),null;case 6:if(e&&null!=t.stateNode)Fa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=oo(so.current),oo(ro.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Za(t),null;case 13:if(Si(ho),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Za(t),o=!1}else null!==ss&&(du(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ho.current)?0===Fl&&(Fl=3):wu())),null!==t.updateQueue&&(t.flags|=4),Za(t),null);case 4:return lo(),Va(e,t),null===e&&Qr(t.stateNode.containerInfo),Za(t),null;case 10:return Es(t.type._context),Za(t),null;case 19:if(Si(ho),null===(o=t.memoizedState))return Za(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ja(o,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=fo(e))){for(t.flags|=128,Ja(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ho,1&ho.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Kl&&(t.flags|=128,r=!0,Ja(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ja(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Za(t),null}else 2*Je()-o.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Ja(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ho.current,xi(ho,r?1&n|2:1&n),t):(Za(t),null);case 22:case 23:return yu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(Za(t),6&t.subtreeFlags&&(t.flags|=8192)):Za(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function el(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&_i(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return lo(),Si(Ni),Si(Ti),mo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return co(t),null;case 13:if(Si(ho),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ho),null;case 4:return lo(),null;case 10:return Es(t.type._context),null;case 22:case 23:return yu(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},Ua=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oo(ro.current);var s,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Fa=function(e,t,n,r){n!==r&&(t.flags|=4)};var tl=!1,nl=!1,rl="function"===typeof WeakSet?WeakSet:Set,il=null;function sl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ru(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){Ru(e,t,r)}}var al=!1;function ll(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ol(t,n,s)}i=i.next}while(i!==r)}}function ul(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function hl(e){var t=e.alternate;null!==t&&(e.alternate=null,hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}var gl=null,yl=!1;function vl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:nl||sl(n,t);case 6:var r=gl,i=yl;gl=null,vl(e,t,n),yl=i,null!==(gl=r)&&(yl?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(yl?(e=gl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Qt(e)):li(gl,n.stateNode));break;case 4:r=gl,i=yl,gl=n.stateNode.containerInfo,yl=!0,vl(e,t,n),gl=r,yl=i;break;case 0:case 11:case 14:case 15:if(!nl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ol(n,t,o),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!nl&&(sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ru(n,t,a)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(nl=(r=nl)||null!==n.memoizedState,vl(e,t,n),nl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rl),t.forEach((function(t){var r=Lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,yl=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,yl=!0;break e}l=l.return}if(null===gl)throw Error(s(160));Al(o,a,i),gl=null,yl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(Ns){Ru(i,t,Ns)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)El(t,e),t=t.sibling}function El(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),Il(e),4&r){try{ll(3,e,e.return),ul(3,e)}catch(g){Ru(e,e.return,g)}try{ll(5,e,e.return)}catch(g){Ru(e,e.return,g)}}break;case 1:wl(t,e),Il(e),512&r&&null!==n&&sl(n,n.return);break;case 5:if(wl(t,e),Il(e),512&r&&null!==n&&sl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ru(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),Ae(l,a);var c=Ae(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):A(i,h,d,c)}switch(l){case"input":Z(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Ru(e,e.return,g)}}break;case 6:if(wl(t,e),Il(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ru(e,e.return,g)}}break;case 3:if(wl(t,e),Il(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(g){Ru(e,e.return,g)}break;case 4:default:wl(t,e),Il(e);break;case 13:wl(t,e),Il(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Gl=Je())),4&r&&bl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(nl=(c=nl)||h,wl(t,e),nl=c):wl(t,e),Il(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(il=e,h=e.child;null!==h;){for(d=il=h;null!==il;){switch(p=(f=il).child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:sl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ru(r,n,g)}}break;case 5:sl(f,f.return);break;case 22:if(null!==f.memoizedState){kl(d);continue}}null!==p?(p.return=f,il=p):kl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Ru(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Ru(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),Il(e),4&r&&bl(e);case 21:}}function Il(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ml(e,fl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;pl(e,fl(e),o);break;default:throw Error(s(161))}}catch(Ss){Ru(e,e.return,Ss)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,n){il=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==il;){var i=il,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||tl;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||nl;a=tl;var u=nl;if(tl=o,(nl=l)&&!u)for(il=i;null!==il;)l=(o=il).child,22===o.tag&&null!==o.memoizedState?Tl(i):null!==l?(l.return=o,il=l):Tl(i);for(;null!==s;)il=s,Sl(s,t,n),s=s.sibling;il=i,tl=a,nl=u}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,il=s):xl(e)}}function xl(e){for(;null!==il;){var t=il;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:nl||ul(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!nl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Qt(d)}}}break;default:throw Error(s(163))}nl||512&t.flags&&cl(t)}catch(Vs){Ru(t,t.return,Vs)}}if(t===e){il=null;break}if(null!==(n=t.sibling)){n.return=t.return,il=n;break}il=t.return}}function kl(e){for(;null!==il;){var t=il;if(t===e){il=null;break}var n=t.sibling;if(null!==n){n.return=t.return,il=n;break}il=t.return}}function Tl(e){for(;null!==il;){var t=il;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ul(4,t)}catch(Ss){Ru(t,n,Ss)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Ss){Ru(t,i,Ss)}}var s=t.return;try{cl(t)}catch(Ss){Ru(t,s,Ss)}break;case 5:var o=t.return;try{cl(t)}catch(Ss){Ru(t,o,Ss)}}}catch(Ss){Ru(t,t.return,Ss)}if(t===e){il=null;break}var a=t.sibling;if(null!==a){a.return=t.return,il=a;break}il=t.return}}var Nl,Rl=Math.ceil,Pl=b.ReactCurrentDispatcher,Dl=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,Ll=0,Bl=null,Ol=null,Ml=0,Vl=0,Ul=Ci(0),Fl=0,jl=null,Ql=0,zl=0,ql=0,Hl=null,Wl=null,Gl=0,Kl=1/0,Xl=null,Yl=!1,Jl=null,Zl=null,$l=!1,eu=null,tu=0,nu=0,ru=null,iu=-1,su=0;function ou(){return 0!==(6&Ll)?Je():-1!==iu?iu:iu=Je()}function au(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Ml?Ml&-Ml:null!==ms.transition?(0===su&&(su=mt()),su):0!==(e=At)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function lu(e,t,n,r){if(50<nu)throw nu=0,ru=null,Error(s(185));yt(e,n,r),0!==(2&Ll)&&e===Bl||(e===Bl&&(0===(2&Ll)&&(zl|=n),4===Fl&&fu(e,Ml)),uu(e,r),1===n&&0===Ll&&0===(1&t.mode)&&(Kl=Je()+500,Ui&&Qi()))}function uu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Bl?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(pu.bind(null,e)):ji(pu.bind(null,e)),oi((function(){0===(6&Ll)&&Qi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Bu(n,cu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cu(e,t){if(iu=-1,su=0,0!==(6&Ll))throw Error(s(327));var n=e.callbackNode;if(Tu()&&e.callbackNode!==n)return null;var r=dt(e,e===Bl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Eu(e,r);else{t=r;var i=Ll;Ll|=2;var o=bu();for(Bl===e&&Ml===t||(Xl=null,Kl=Je()+500,vu(e,t));;)try{Cu();break}catch(l){Au(e,l)}ws(),Pl.current=o,Ll=i,null!==Ol?t=0:(Bl=null,Ml=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=hu(e,i))),1===t)throw n=jl,vu(e,0),fu(e,r),uu(e,Je()),n;if(6===t)fu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Eu(e,r))&&(0!==(o=pt(e))&&(r=o,t=hu(e,o))),1===t))throw n=jl,vu(e,0),fu(e,r),uu(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:ku(e,Wl,Xl);break;case 3:if(fu(e,r),(130023424&r)===r&&10<(t=Gl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ou(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(ku.bind(null,e,Wl,Xl),t);break}ku(e,Wl,Xl);break;case 4:if(fu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rl(r/1960))-r)){e.timeoutHandle=ri(ku.bind(null,e,Wl,Xl),r);break}ku(e,Wl,Xl);break;default:throw Error(s(329))}}}return uu(e,Je()),e.callbackNode===n?cu.bind(null,e):null}function hu(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(vu(e,t).flags|=256),2!==(e=Eu(e,t))&&(t=Wl,Wl=n,null!==t&&du(t)),e}function du(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function fu(e,t){for(t&=~ql,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function pu(e){if(0!==(6&Ll))throw Error(s(327));Tu();var t=dt(e,0);if(0===(1&t))return uu(e,Je()),null;var n=Eu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=hu(e,r))}if(1===n)throw n=jl,vu(e,0),fu(e,t),uu(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Wl,Xl),uu(e,Je()),null}function mu(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(Kl=Je()+500,Ui&&Qi())}}function gu(e){null!==eu&&0===eu.tag&&0===(6&Ll)&&Tu();var t=Ll;Ll|=1;var n=_l.transition,r=At;try{if(_l.transition=null,At=1,e)return e()}finally{At=r,_l.transition=n,0===(6&(Ll=t))&&Qi()}}function yu(){Vl=Ul.current,Si(Ul)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:lo(),Si(Ni),Si(Ti),mo();break;case 5:co(r);break;case 4:lo();break;case 13:case 19:Si(ho);break;case 10:Es(r.type._context);break;case 22:case 23:yu()}n=n.return}if(Bl=e,Ol=e=Uu(e.current,null),Ml=Vl=t,Fl=0,jl=null,ql=zl=Ql=0,Wl=Hl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function Au(e,t){for(;;){var n=Ol;try{if(ws(),go.current=ca,Eo){for(var r=Ao.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Eo=!1}if(vo=0,wo=bo=Ao=null,Io=!1,Co=0,Dl.current=null,null===n||null===n.return){Fl=1,jl=t,Ol=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ea(a);if(null!==p){p.flags&=-257,Ia(p,a,l,0,t),1&p.mode&&wa(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){wa(o,c,t),wu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=Ea(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ia(y,a,l,0,t),ps(ma(u,l));break e}}o=u=ma(u,l),4!==Fl&&(Fl=2),null===Hl?Hl=[o]:Hl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,Aa(0,u,t));break e;case 1:l=u;var v=o.type,A=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Zl||!Zl.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,ba(o,l,t));break e}}o=o.return}while(null!==o)}xu(n)}catch(Qs){t=Qs,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function bu(){var e=Pl.current;return Pl.current=ca,null===e?ca:e}function wu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Bl||0===(268435455&Ql)&&0===(268435455&zl)||fu(Bl,Ml)}function Eu(e,t){var n=Ll;Ll|=2;var r=bu();for(Bl===e&&Ml===t||(Xl=null,vu(e,t));;)try{Iu();break}catch(i){Au(e,i)}if(ws(),Ll=n,Pl.current=r,null!==Ol)throw Error(s(261));return Bl=null,Ml=0,Fl}function Iu(){for(;null!==Ol;)Su(Ol)}function Cu(){for(;null!==Ol&&!Xe();)Su(Ol)}function Su(e){var t=Nl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?xu(e):Ol=t,Dl.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Vl)))return void(Ol=n)}else{if(null!==(n=el(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Fl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Fl&&(Fl=5)}function ku(e,t,n){var r=At,i=_l.transition;try{_l.transition=null,At=1,function(e,t,n,r){do{Tu()}while(null!==eu);if(0!==(6&Ll))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Bl&&(Ol=Bl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Bu(tt,(function(){return Tu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var a=At;At=1;var l=Ll;Ll|=4,Dl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(da){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,il=t;null!==il;)if(e=(t=il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,il=e;else for(;null!==il;){t=il;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,A=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(da){Ru(t,t.return,da)}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}m=al,al=!1}(e,n),El(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,Cl(n,e,i),Ye(),Ll=l,At=a,_l.transition=o}else e.current=n;if($l&&($l=!1,eu=e,tu=i),o=e.pendingLanes,0===o&&(Zl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),uu(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Jl,Jl=null,e;0!==(1&tu)&&0!==e.tag&&Tu(),o=e.pendingLanes,0!==(1&o)?e===ru?nu++:(nu=0,ru=e):nu=0,Qi()}(e,t,n,r)}finally{_l.transition=i,At=r}return null}function Tu(){if(null!==eu){var e=bt(tu),t=_l.transition,n=At;try{if(_l.transition=null,At=16>e?16:e,null===eu)var r=!1;else{if(e=eu,eu=null,tu=0,0!==(6&Ll))throw Error(s(331));var i=Ll;for(Ll|=4,il=e.current;null!==il;){var o=il,a=o.child;if(0!==(16&il.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(il=c;null!==il;){var h=il;switch(h.tag){case 0:case 11:case 15:ll(8,h,o)}var d=h.child;if(null!==d)d.return=h,il=d;else for(;null!==il;){var f=(h=il).sibling,p=h.return;if(hl(h),h===c){il=null;break}if(null!==f){f.return=p,il=f;break}il=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}il=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,il=a;else e:for(;null!==il;){if(0!==(2048&(o=il).flags))switch(o.tag){case 0:case 11:case 15:ll(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,il=v;break e}il=o.return}}var A=e.current;for(il=A;null!==il;){var b=(a=il).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,il=b;else e:for(a=A;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:ul(9,l)}}catch(Qs){Ru(l,l.return,Qs)}if(l===a){il=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,il=w;break e}il=l.return}}if(Ll=i,Qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Qs){}r=!0}return r}finally{At=n,_l.transition=t}}return!1}function Nu(e,t,n){e=Os(e,t=Aa(0,t=ma(n,t),1),1),t=ou(),null!==e&&(yt(e,1,t),uu(e,t))}function Ru(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zl||!Zl.has(r))){t=Os(t,e=ba(t,e=ma(n,e),1),1),e=ou(),null!==t&&(yt(t,1,e),uu(t,e));break}}t=t.return}}function Pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ou(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&(Ml&n)===n&&(4===Fl||3===Fl&&(130023424&Ml)===Ml&&500>Je()-Gl?vu(e,0):ql|=n),uu(e,t)}function Du(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ou();null!==(e=Ps(e,t))&&(yt(e,t,n),uu(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Du(e,n)}function Lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Du(e,n)}function Bu(e,t){return Ge(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Ou(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Vu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return ju(n.children,i,o,t);case C:a=8,i|=8;break;case S:return(e=Mu(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Mu(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Mu(19,n,t,i)).elementType=R,e.lanes=o,e;case _:return Qu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case k:a=9;break e;case T:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ju(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function qu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gu(e,t,n,r,i,s,o,a,l){return e=new Hu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Mu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(s),e}function Ku(e){if(!e)return ki;e:{if(Qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Bi(e,n,t)}return t}function Xu(e,t,n,r,i,s,o,a,l){return(e=Gu(n,r,!0,e,0,s,0,a,l)).context=Ku(null),n=e.current,(s=Bs(r=ou(),i=au(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,yt(e,i,r),uu(e,r),e}function Yu(e,t,n,r){var i=t.current,s=ou(),o=au(i);return n=Ku(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(lu(e,i,o,s),Ms(e,i,o)),o}function Ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)Sa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:Ba(t),fs();break;case 5:uo(t);break;case 1:Di(t.type)&&Oi(t);break;case 4:ao(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ho,1&ho.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(xi(ho,1&ho.current),null!==(e=Ya(e,t,n))?e.sibling:null);xi(ho,1&ho.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ka(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n)}return Ya(e,t,n)}(e,t,n);Sa=0!==(131072&e.flags)}else Sa=!1,is&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xa(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Cs(t,n),i=To(null,t,r,e,i,n);var o=No();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_s(t),i.updater=Hs,t.stateNode=i,i._reactInternals=t,Xs(t,r,e,n),t=La(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Da(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=ka(null,t,r,e,n);break e;case 14:t=Ta(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ba(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ls(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oa(e,t,r,n,i=ma(Error(s(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ma(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=to(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ya(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return uo(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Pa(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return za(e,t,n);case 4:return ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=eo(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,xi(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ya(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Bs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cs(t,n),r=r(i=xs(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ta(e,t,r,i=gs(r.type,i),n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Xa(e,t),t.tag=1,Di(r)?(e=!0,Oi(t)):e=!1,Cs(t,n),Gs(t,r,i),Xs(t,r,i,n),La(null,t,r,!0,e,n);case 19:return Ka(e,t,n);case 22:return Ra(e,t,n)}throw Error(s(156,t.tag))};var ec="function"===typeof reportError?reportError:function(e){console.error(e)};function tc(e){this._internalRoot=e}function nc(e){this._internalRoot=e}function rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(){}function oc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Ju(o);a.call(e)}}Yu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Ju(o);s.call(e)}}var o=Xu(t,r,e,0,null,!1,0,"",sc);return e._reactRootContainer=o,e[pi]=o.current,Qr(8===e.nodeType?e.parentNode:e),gu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ju(l);a.call(e)}}var l=Gu(e,0,!1,null,0,!1,0,"",sc);return e._reactRootContainer=l,e[pi]=l.current,Qr(8===e.nodeType?e.parentNode:e),gu((function(){Yu(t,l,n,r)})),l}(n,t,e,i,r);return Ju(o)}nc.prototype.render=tc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Yu(e,t,null,null)},nc.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gu((function(){Yu(null,e,null,null)})),t[pi]=null}},nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),uu(t,Je()),0===(6&Ll)&&(Kl=Je()+500,Qi()))}break;case 13:gu((function(){var t=Ps(e,1);if(null!==t){var n=ou();lu(t,e,1,n)}})),$u(e,1)}},Et=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)lu(t,e,134217728,ou());$u(e,134217728)}},It=function(e){if(13===e.tag){var t=au(e),n=Ps(e,t);if(null!==n)lu(n,e,t,ou());$u(e,t)}},Ct=function(){return At},St=function(e,t){var n=At;try{return At=e,t()}finally{At=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=mu,Ne=gu;var ac={usingClientEntryPoint:!1,Events:[Ai,bi,wi,xe,ke,mu]},lc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uc={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{it=cc.inject(uc),st=cc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ac,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!rc(e))throw Error(s(299));var n=!1,r="",i=ec;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Qr(8===e.nodeType?e.parentNode:e),new tc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return gu(e)},t.hydrate=function(e,t,n){if(!ic(t))throw Error(s(200));return oc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!rc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=ec;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Xu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new nc(t)},t.render=function(e,t,n){if(!ic(t))throw Error(s(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(s(40));return!!e._reactRootContainer&&(gu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=mu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return oc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function A(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=A.prototype=new v;b.constructor=A,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:I.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var u=0;u<e.length;u++){var c=s+T(a=e[u],u);l+=N(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=s+T(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},_={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:_,ReactCurrentOwner:I};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=A,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,_(E);else{var t=r(c);null!==t&&L(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(x),x=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,C=!1,S=null,x=-1,k=5,T=-1;function N(){return!(t.unstable_now()-T<k)}function R(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?I():(C=!1,S=null)}}else C=!1}if("function"===typeof A)I=function(){A(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=R,I=function(){D.postMessage(null)}}else I=function(){y(R,0)};function _(e){S=e,C||(C=!0,I())}function L(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,_(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(x),x=-1):g=!0,L(w,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,_(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".c6d3df48.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="neuropets:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/NeuroPets/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkneuropets=self.webpackChunkneuropets||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{FirebaseError:()=>Pe,SDK_VERSION:()=>sn,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>Jt,_apps:()=>Kt,_clearComponents:()=>tn,_components:()=>Xt,_getProvider:()=>$t,_registerComponent:()=>Zt,_removeServiceInstance:()=>en,deleteApp:()=>un,getApp:()=>an,getApps:()=>ln,initializeApp:()=>on,onLog:()=>hn,registerVersion:()=>cn,setLogLevel:()=>dn});var i,s=n(43),o=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,p=i.Pop,m=null,g=y();function y(){return(c.state||{idx:null}).idx}function v(){p=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function A(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,c.replaceState(a({},c.state,{idx:g}),""));let b={get action(){return p},get location(){return e(s,c)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),m=e,()=>{s.removeEventListener(l,v),m=null}},createHref:e=>t(s,e),createURL:A,encodeLocation(e){let t=A(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=d(b.location,e,t);n&&n(r,e),g=y()+1;let a=h(r,g),l=b.createHref(r);try{c.pushState(a,"",l)}catch(u){s.location.assign(l)}o&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=i.Replace;let r=d(b.location,e,t);n&&n(r,e),g=y();let s=h(r,g),a=b.createHref(r);c.replaceState(s,"",a),o&&m&&m({action:p,location:b.location,delta:0})},go:e=>c.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=T(i[o],R(r));return s}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=B([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:k(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=A(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:\w+$/,w=3,E=2,I=1,C=10,S=-2,x=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=S),t&&(r+=E),n.filter((e=>!x(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?I:C)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;s.push({params:r,pathname:B([i,u.pathname]),pathnameBase:O(B([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=B([i,u.pathnameBase]))}return s}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(r||null==l)s=n;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:V(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],j=(new Set(F),["get",...F]);new Set(j),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}const z=s.createContext(null);const q=s.createContext(null);const H=s.createContext(null);const W=s.createContext(null);const G=s.createContext({outlet:null,matches:[]});const K=s.createContext(null);function X(){return null!=s.useContext(W)}function Y(){return X()||u(!1),s.useContext(W).location}function J(e){s.useContext(H).static||s.useLayoutEffect(e)}function Z(){return null!=s.useContext(z)?function(){let{router:e}=ae(se.UseNavigateStable),t=ue(oe.UseNavigateStable),n=s.useRef(!1);J((()=>{n.current=!0}));let r=s.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Q({fromRouteId:t},i)))}),[e,t]);return r}():function(){X()||u(!1);let{basename:e,navigator:t}=s.useContext(H),{matches:n}=s.useContext(G),{pathname:r}=Y(),i=JSON.stringify(_(n).map((e=>e.pathnameBase))),o=s.useRef(!1);J((()=>{o.current=!0}));let a=s.useCallback((function(n,s){if(void 0===s&&(s={}),!o.current)return;if("number"===typeof n)return void t.go(n);let a=L(n,JSON.parse(i),r,"path"===s.relative);"/"!==e&&(a.pathname="/"===a.pathname?e:B([e,a.pathname])),(s.replace?t.replace:t.push)(a,s.state,s)}),[e,t,i,r]);return a}()}function $(e,t,n){X()||u(!1);let{navigator:r}=s.useContext(H),{matches:o}=s.useContext(G),a=o[o.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let h,d=Y();if(t){var f;let e="string"===typeof t?p(t):t;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||u(!1),h=e}else h=d;let m=h.pathname||"/",g=y(e,{pathname:"/"===c?m:m.slice(c.length)||"/"});let v=ie(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:B([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:B([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n);return t&&v?s.createElement(W.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},v):v}function ee(){let e=function(){var e;let t=s.useContext(K),n=le(oe.UseRouteError),r=ue(oe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const te=s.createElement(ee,null);class ne extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?s.createElement(G.Provider,{value:this.props.routeContext},s.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(z);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(G.Provider,{value:t},r)}function ie(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}let o=e,a=null==(r=n)?void 0:r.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,i)=>{let l=r.route.id?null==a?void 0:a[r.route.id]:null,u=null;n&&(u=r.route.errorElement||te);let c=t.concat(o.slice(0,i+1)),h=()=>{let t;return t=l?u:r.route.element?r.route.element:e,s.createElement(re,{match:r,routeContext:{outlet:e,matches:c},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(ne,{location:n.location,revalidation:n.revalidation,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()}),null)}var se,oe;function ae(e){let t=s.useContext(z);return t||u(!1),t}function le(e){let t=s.useContext(q);return t||u(!1),t}function ue(e){let t=function(){let e=s.useContext(G);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(se||(se={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(oe||(oe={}));function ce(e){let{to:t,replace:n,state:r,relative:i}=e;X()||u(!1);let o=s.useContext(q),a=Z();return s.useEffect((()=>{o&&"idle"!==o.navigation.state||a(t,{replace:n,state:r,relative:i})})),null}function he(e){u(!1)}function de(e){let{basename:t="/",children:n=null,location:r,navigationType:o=i.Pop,navigator:a,static:l=!1}=e;X()&&u(!1);let c=t.replace(/^\/*/,"/"),h=s.useMemo((()=>({basename:c,navigator:a,static:l})),[c,a,l]);"string"===typeof r&&(r=p(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:y="default"}=r,v=s.useMemo((()=>{let e=P(d,c);return null==e?null:{location:{pathname:e,search:f,hash:m,state:g,key:y},navigationType:o}}),[c,d,f,m,g,y,o]);return null==v?null:s.createElement(H.Provider,{value:h},s.createElement(W.Provider,{children:n,value:v}))}function fe(e){let{children:t,location:n}=e;return $(me(t),n)}var pe;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(pe||(pe={}));new Promise((()=>{}));s.Component;function me(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,me(e.props.children,i));e.type!==he&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=me(e.props.children,i)),n.push(o)})),n}const ge=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ge(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new ve;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(e){return function(e){const t=ge(e);return ye.encodeByteArray(t,!0)}(e).replace(/\./g,"")},be=function(e){try{return ye.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function we(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=we(e[n],t[n]));return e}const Ee=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ie=()=>{try{return Ee()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/NeuroPets",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&be(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Ce=e=>{var t,n;return null===(n=null===(t=Ie())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Se=()=>{var e;return null===(e=Ie())||void 0===e?void 0:e.config},xe=e=>{var t;return null===(t=Ie())||void 0===t?void 0:t[`_${e}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Te(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return!function(){var e;const t=null===(e=Ie())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Pe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(_e,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Pe(n,s,t)}}const _e=/\{\$([^}]+)}/g;function Le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Be(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Oe(n)&&Oe(s)){if(!Be(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Oe(e){return null!==e&&"object"===typeof e}function Me(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ve(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ue(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Fe(e,t){const n=new je(e,t);return n.subscribe.bind(n)}class je{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qe),void 0===r.error&&(r.error=Qe),void 0===r.complete&&(r.complete=Qe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Qe(){}function ze(e){return e&&e._delegate?e._delegate:e}class qe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const He="[DEFAULT]";class We{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ke;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(hA){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===He?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(hA){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.component?this.component.multipleInstances?e:He:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new We(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ke=[];var Xe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xe||(Xe={}));const Ye={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Je=Xe.INFO,Ze={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},$e=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ze[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class et{constructor(e){this.name=e,this._logLevel=Je,this._logHandler=$e,this._userLogHandler=null,Ke.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...t),this._logHandler(this,Xe.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...t),this._logHandler(this,Xe.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...t),this._logHandler(this,Xe.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...t),this._logHandler(this,Xe.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...t),this._logHandler(this,Xe.ERROR,...t)}}let tt,nt;const rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,at=new WeakMap;let lt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return it.get(e);if("objectStoreNames"===t)return e.objectStoreNames||st.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ht(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ut(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(nt||(nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dt(this),n),ht(rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(e.apply(dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(dt(this),t,...r);return st.set(s,t.sort?t.sort():[t]),ht(s)}}function ct(e){return"function"===typeof e?ut(e):(e instanceof IDBTransaction&&function(e){if(it.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));it.set(e,t)}(e),t=e,(tt||(tt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,lt):e);var t}function ht(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ht(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&rt.set(t,e)})).catch((()=>{})),at.set(t,e),t}(e);if(ot.has(e))return ot.get(e);const t=ct(e);return t!==e&&(ot.set(e,t),at.set(t,e)),t}const dt=e=>at.get(e);const ft=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],mt=new Map;function gt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(mt.get(t))return mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ft.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return mt.set(t,s),s}var yt;yt=e=>({...e,get:(t,n,r)=>gt(t,n)||e.get(t,n,r),has:(t,n)=>!!gt(t,n)||e.has(t,n)}),lt=yt(lt);class vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const At="@firebase/app",bt="0.9.13",wt=new et("@firebase/app"),Et="@firebase/app-compat",It="@firebase/analytics-compat",Ct="@firebase/analytics",St="@firebase/app-check-compat",xt="@firebase/app-check",kt="@firebase/auth",Tt="@firebase/auth-compat",Nt="@firebase/database",Rt="@firebase/database-compat",Pt="@firebase/functions",Dt="@firebase/functions-compat",_t="@firebase/installations",Lt="@firebase/installations-compat",Bt="@firebase/messaging",Ot="@firebase/messaging-compat",Mt="@firebase/performance",Vt="@firebase/performance-compat",Ut="@firebase/remote-config",Ft="@firebase/remote-config-compat",jt="@firebase/storage",Qt="@firebase/storage-compat",zt="@firebase/firestore",qt="@firebase/firestore-compat",Ht="firebase",Wt="[DEFAULT]",Gt={[At]:"fire-core",[Et]:"fire-core-compat",[Ct]:"fire-analytics",[It]:"fire-analytics-compat",[xt]:"fire-app-check",[St]:"fire-app-check-compat",[kt]:"fire-auth",[Tt]:"fire-auth-compat",[Nt]:"fire-rtdb",[Rt]:"fire-rtdb-compat",[Pt]:"fire-fn",[Dt]:"fire-fn-compat",[_t]:"fire-iid",[Lt]:"fire-iid-compat",[Bt]:"fire-fcm",[Ot]:"fire-fcm-compat",[Mt]:"fire-perf",[Vt]:"fire-perf-compat",[Ut]:"fire-rc",[Ft]:"fire-rc-compat",[jt]:"fire-gcs",[Qt]:"fire-gcs-compat",[zt]:"fire-fst",[qt]:"fire-fst-compat","fire-js":"fire-js",[Ht]:"fire-js-all"},Kt=new Map,Xt=new Map;function Yt(e,t){try{e.container.addComponent(t)}catch(n){wt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jt(e,t){e.container.addOrOverwriteComponent(t)}function Zt(e){const t=e.name;if(Xt.has(t))return wt.debug(`There were multiple attempts to register component ${t}.`),!1;Xt.set(t,e);for(const n of Kt.values())Yt(n,e);return!0}function $t(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function en(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wt;$t(e,t).clearInstance(n)}function tn(){Xt.clear()}const nn=new De("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const sn="9.23.0";function on(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw nn.create("bad-app-name",{appName:String(i)});if(n||(n=Se()),!n)throw nn.create("no-options");const s=Kt.get(i);if(s){if(Be(n,s.options)&&Be(r,s.config))return s;throw nn.create("duplicate-app",{appName:i})}const o=new Ge(i);for(const l of Xt.values())o.addComponent(l);const a=new rn(n,r,o);return Kt.set(i,a),a}function an(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;const t=Kt.get(e);if(!t&&e===Wt&&Se())return on();if(!t)throw nn.create("no-app",{appName:e});return t}function ln(){return Array.from(Kt.values())}async function un(e){const t=e.name;Kt.has(t)&&(Kt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function cn(e,t,n){var r;let i=null!==(r=Gt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void wt.warn(e.join(" "))}Zt(new qe(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function hn(e,t){if(null!==e&&"function"!==typeof e)throw nn.create("invalid-log-argument");!function(e,t){for(const n of Ke){let r=null;t&&t.level&&(r=Ye[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Xe[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function dn(e){var t;t=e,Ke.forEach((e=>{e.setLogLevel(t)}))}const fn="firebase-heartbeat-store";let pn=null;function mn(){return pn||(pn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ht(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(ht(o.result),e.oldVersion,e.newVersion,ht(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fn)}}).catch((e=>{throw nn.create("idb-open",{originalErrorMessage:e.message})}))),pn}async function gn(e,t){try{const n=(await mn()).transaction(fn,"readwrite"),r=n.objectStore(fn);await r.put(t,yn(e)),await n.done}catch(n){if(n instanceof Pe)wt.warn(n.message);else{const e=nn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});wt.warn(e.message)}}}function yn(e){return`${e.name}!${e.options.appId}`}class vn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=An();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=An(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),wn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ae(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function An(){return(new Date).toISOString().substring(0,10)}class bn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Re()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await mn();return await t.transaction(fn).objectStore(fn).get(yn(e))}catch(t){if(t instanceof Pe)wt.warn(t.message);else{const e=nn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});wt.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return gn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return gn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function wn(e){return Ae(JSON.stringify({version:2,heartbeats:e})).length}var En;En="",Zt(new qe("platform-logger",(e=>new vt(e)),"PRIVATE")),Zt(new qe("heartbeat",(e=>new vn(e)),"PRIVATE")),cn(At,bt,En),cn(At,bt,"esm2017"),cn("fire-js","");function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function Cn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sn=Cn,xn=new De("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kn=new et("@firebase/auth");function Tn(e){if(kn.logLevel<=Xe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kn.error(`Auth (${sn}): ${e}`,...n)}}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Dn(e,...n)}function Rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Dn(e,...n)}function Pn(e,t,n){const r=Object.assign(Object.assign({},Sn()),{[t]:n});return new De("auth","Firebase",r).create(t,{appName:e.name})}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xn.create(e,...n)}function _n(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Dn(t,...r)}}function Ln(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tn(t),new Error(t)}function Bn(e,t){e||Ln(t)}function On(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mn(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Un(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Fn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Un()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jn(e,t){Bn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Qn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qn=new Fn(3e4,6e4);function Hn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Wn(e,t,n,r){return Gn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Me(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Qn.fetch()(Xn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Gn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zn),t);try{const t=new Yn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Jn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Jn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Jn(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Pn(e,a,o);Nn(e,a)}}catch(i){if(i instanceof Pe)throw i;Nn(e,"network-request-failed",{message:String(i)})}}async function Kn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Wn(e,t,n,r,i);return"mfaPendingCredential"in s&&Nn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Xn(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?jn(e.config,i):`${e.config.apiScheme}://${i}`}class Yn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Rn(this.auth,"network-request-failed"))),qn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(e,t,r);return i.customData._tokenResponse=n,i}function Zn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function $n(e){return 1e3*Number(e)}function er(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tn("JWT malformed, contained fewer than 3 sections"),null;try{const e=be(n);return e?JSON.parse(e):(Tn("Failed to decode base64 JWT payload"),null)}catch(i){return Tn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function tr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Pe&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class nr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class rr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ir(e){var t;const n=e.auth,r=await e.getIdToken(),i=await tr(e,async function(e,t){return Wn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_n(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=In(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_n(e.idToken,"internal-error"),_n("undefined"!==typeof e.idToken,"internal-error"),_n("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=er(e);return _n(t,"internal-error"),_n("undefined"!==typeof t.exp,"internal-error"),_n("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _n(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gn(e,{},(async()=>{const n=Me({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Xn(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Qn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new sr;return n&&(_n("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_n("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_n("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sr,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function or(e,t){_n("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ar{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=In(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await tr(this,this.stsTokenManager.getToken(this.auth,e));return _n(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ze(e),r=await n.getIdToken(t),i=er(r);_n(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zn($n(i.auth_time)),issuedAtTime:Zn($n(i.iat)),expirationTime:Zn($n(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ze(e);await ir(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_n(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_n(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ir(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await tr(this,async function(e,t){return Wn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:A,isAnonymous:b,providerData:w,stsTokenManager:E}=t;_n(v&&E,e,"internal-error");const I=sr.fromJSON(this.name,E);_n("string"===typeof v,e,"internal-error"),or(c,e.name),or(h,e.name),_n("boolean"===typeof A,e,"internal-error"),_n("boolean"===typeof b,e,"internal-error"),or(d,e.name),or(f,e.name),or(p,e.name),or(m,e.name),or(g,e.name),or(y,e.name);const C=new ar({uid:v,auth:e,email:h,emailVerified:A,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(C.providerData=w.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new sr;r.updateFromServerResponse(t);const i=new ar({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ir(i),i}}const lr=new Map;function ur(e){Bn(e instanceof Function,"Expected a class definition");let t=lr.get(e);return t?(Bn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lr.set(e,t),t)}class cr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cr.type="NONE";const hr=cr;function dr(e,t,n){return`firebase:${e}:${t}:${n}`}class fr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=dr(this.userKey,r.apiKey,i),this.fullPersistenceKey=dr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new fr(ur(hr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ur(hr);const s=dr(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=ar._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(hA){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(hA){}}))),new fr(i,e,n)):new fr(i,e,n)}}function pr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(br(t))return"Blackberry";if(wr(t))return"Webos";if(gr(t))return"Safari";if((t.includes("chrome/")||yr(t))&&!t.includes("edge/"))return"Chrome";if(Ar(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/firefox\//i.test(e)}function gr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/crios\//i.test(e)}function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/iemobile/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/android/i.test(e)}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/blackberry/i.test(e)}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/webos/i.test(e)}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ir(){return function(){const e=Te();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();return Er(e)||Ar(e)||wr(e)||br(e)||/windows phone/i.test(e)||vr(e)}function Sr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pr(Te());break;case"Worker":t=`${pr(Te())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${sn}/${r}`}async function xr(e,t){return Wn(e,"GET","/v2/recaptchaConfig",Hn(e,t))}function kr(e){return void 0!==e&&void 0!==e.enterprise}class Tr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Nr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Rn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Rr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Pr{constructor(e){this.type="recaptcha-enterprise",this.auth=Br(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;kr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{xr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Tr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&kr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Nr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Dr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Pr(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class _r{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Lr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Or(this),this.idTokenSubscription=new Or(this),this.beforeStateQueue=new _r(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await fr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _n(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ir(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ze(e):null;return t&&_n(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_n(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ur(e))}))}async initializeRecaptchaConfig(){const e=await xr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Tr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Pr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new De("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ur(e)||this._popupRedirectResolver;_n(t,this,"argument-error"),this.redirectPersistenceManager=await fr.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return _n(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _n(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(kn.logLevel<=Xe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kn.warn(`Auth (${sn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Br(e){return ze(e)}class Or{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fe((e=>this.observer=e))}get next(){return _n(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mr(e,t,n){const r=Br(e);_n(r._canInitEmulator,r,"emulator-config-failed"),_n(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Vr(t),{host:o,port:a}=function(e){const t=Vr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ur(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ur(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ur(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,t){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function jr(e,t){return Wn(e,"POST","/v1/accounts:update",t)}async function Qr(e,t){return Kn(e,"POST","/v1/accounts:signInWithPassword",Hn(e,t))}class zr extends Fr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zr(e,t,"password")}static _fromEmailAndCode(e,t){return new zr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Dr(e,n,"signInWithPassword");return Qr(e,t)}return Qr(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Dr(e,n,"signInWithPassword");return Qr(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithEmailLink",Hn(e,t))}(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return jr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithEmailLink",Hn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qr(e,t){return Kn(e,"POST","/v1/accounts:signInWithIdp",Hn(e,t))}class Hr extends Fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=In(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Hr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return qr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Me(t)}return e}}const Wr={USER_NOT_FOUND:"user-not-found"};class Gr extends Fr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithPhoneNumber",Hn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kn(e,"POST","/v1/accounts:signInWithPhoneNumber",Hn(e,t));if(n.temporaryProof)throw Jn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithPhoneNumber",Hn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Wr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kr{constructor(e){var t,n,r,i,s,o;const a=Ve(Ue(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);_n(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ve(Ue(e)).link,n=t?Ve(Ue(t)).deep_link_id:null,r=Ve(Ue(e)).deep_link_id;return(r?Ve(Ue(r)).link:null)||r||n||t||e}(e);try{return new Kr(t)}catch(hA){return null}}}class Xr{constructor(){this.providerId=Xr.PROVIDER_ID}static credential(e,t){return zr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kr.parseLink(t);return _n(n,"argument-error"),zr._fromEmailAndCode(e,n.code,n.tenantId)}}Xr.PROVIDER_ID="password",Xr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Xr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jr extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends Jr{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch(hA){return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zr.PROVIDER_ID="facebook.com";class $r extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hr._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $r.credential(n,r)}catch(hA){return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com",$r.PROVIDER_ID="google.com";class ei extends Jr{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ei.credential(t.oauthAccessToken)}catch(hA){return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com",ei.PROVIDER_ID="github.com";class ti extends Jr{constructor(){super("twitter.com")}static credential(e,t){return Hr._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ti.credential(n,r)}catch(hA){return null}}}async function ni(e,t){return Kn(e,"POST","/v1/accounts:signUp",Hn(e,t))}ti.TWITTER_SIGN_IN_METHOD="twitter.com",ti.PROVIDER_ID="twitter.com";class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ar._fromIdTokenResponse(e,n,r),s=ii(n);return new ri({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ii(n);return new ri({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ii(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class si extends Pe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,si.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new si(e,t,n,r)}}function oi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw si._fromErrorAndOperation(e,n,t,r);throw n}))}async function ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await tr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ri._forOperation(e,"link",r)}async function li(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await tr(e,oi(r,i,t,e),n);_n(s.idToken,r,"internal-error");const o=er(s.idToken);_n(o,r,"internal-error");const{sub:a}=o;return _n(e.uid===a,r,"user-mismatch"),ri._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&Nn(r,"user-mismatch"),s}}async function ui(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await oi(e,r,t),s=await ri._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ci(e,t){return ui(Br(e),t)}new WeakMap;const hi="__sak";class di{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hi,"1"),this.storage.removeItem(hi),Promise.resolve(!0)):Promise.resolve(!1)}catch(hA){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fi extends di{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Te();return gr(e)||Er(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Cr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ir()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fi.type="LOCAL";const pi=fi;class mi extends di{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mi.type="SESSION";const gi=mi;class yi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new yi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yi.receivers=[];class Ai{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=vi("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function bi(){return window}function wi(){return"undefined"!==typeof bi().WorkerGlobalScope&&"function"===typeof bi().importScripts}const Ei="firebaseLocalStorageDb",Ii="firebaseLocalStorage",Ci="fbase_key";class Si{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function xi(e,t){return e.transaction([Ii],t?"readwrite":"readonly").objectStore(Ii)}function ki(){const e=indexedDB.open(Ei,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ii,{keyPath:Ci})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ii)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ei);return new Si(e).toPromise()}(),t(await ki()))}))}))}async function Ti(e,t,n){const r=xi(e,!0).put({[Ci]:t,value:n});return new Si(r).toPromise()}function Ni(e,t){const n=xi(e,!0).delete(t);return new Si(n).toPromise()}class Ri{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ki()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yi._getInstance(wi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ai(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(hA){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ki();return await Ti(e,hi,"1"),await Ni(e,hi),!0}catch(hA){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ti(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=xi(e,!1).get(t),r=await new Si(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ni(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=xi(e,!1).getAll();return new Si(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ri.type="LOCAL";const Pi=Ri;Rr("rcb"),new Fn(3e4,6e4);const Di="recaptcha";async function _i(e,t,n){var r;const i=await n.verify();try{let s;if(_n("string"===typeof i,e,"argument-error"),_n(n.type===Di,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_n("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Wn(e,"POST","/v2/accounts/mfaEnrollment:start",Hn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{_n("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;_n(n,e,"missing-multi-factor-info");const o=await function(e,t){return Wn(e,"POST","/v2/accounts/mfaSignIn:start",Hn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Wn(e,"POST","/v1/accounts:sendVerificationCode",Hn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Li{constructor(e){this.providerId=Li.PROVIDER_ID,this.auth=Br(e)}verifyPhoneNumber(e,t){return _i(this.auth,e,ze(t))}static credential(e,t){return Gr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Li.credentialFromTaggedObject(t)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gr._fromTokenResponse(n,r):null}}function Bi(e,t){return t?ur(t):(_n(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Li.PROVIDER_ID="phone",Li.PHONE_SIGN_IN_METHOD="phone";class Oi extends Fr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mi(e){return ui(e.auth,new Oi(e),e.bypassAuthState)}function Vi(e){const{auth:t,user:n}=e;return _n(n,t,"internal-error"),li(n,new Oi(e),e.bypassAuthState)}async function Ui(e){const{auth:t,user:n}=e;return _n(n,t,"internal-error"),ai(n,new Oi(e),e.bypassAuthState)}class Fi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mi;case"linkViaPopup":case"linkViaRedirect":return Ui;case"reauthViaPopup":case"reauthViaRedirect":return Vi;default:Nn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ji=new Fn(2e3,1e4);class Qi extends Fi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Qi.currentPopupAction&&Qi.currentPopupAction.cancel(),Qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _n(e,this.auth,"internal-error"),e}async onExecution(){Bn(1===this.filter.length,"Popup operations only handle one event");const e=vi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Rn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ji.get())};e()}}Qi.currentPopupAction=null;const zi=new Map;class qi extends Fi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Gi(t),r=Wi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}zi.set(this.auth._key(),e)}return this.bypassAuthState||zi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Hi(e,t){zi.set(e._key(),t)}function Wi(e){return ur(e._redirectPersistence)}function Gi(e){return dr("pendingRedirect",e.config.apiKey,e.name)}async function Ki(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Br(e),i=Bi(r,t),s=new qi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Xi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ji(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ji(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yi(e))}saveEventToCache(e){this.cachedEventUids.add(Yi(e)),this.lastProcessedEventTime=Date.now()}}function Yi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ji(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$i=/^https?/;async function es(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(ts(n))return}catch(hA){}Nn(e,"unauthorized-domain")}function ts(e){const t=On(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$i.test(n))return!1;if(Zi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ns=new Fn(3e4,6e4);function rs(){const e=bi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let is=null;function ss(e){return is=is||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){rs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rs(),n(Rn(e,"network-request-failed"))},timeout:ns.get()})}if(null===(i=null===(r=bi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=bi().gapi)||void 0===s?void 0:s.load)){const t=Rr("iframefcb");return bi()[t]=()=>{gapi.load?o():n(Rn(e,"network-request-failed"))},Nr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw is=null,e}))}(e),is}const os=new Fn(5e3,15e3),as={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function us(e){const t=e.config;_n(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:sn},i=ls.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Me(r).slice(1)}`}const cs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ds(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cs),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Te().toLowerCase();n&&(a=yr(u)?"_blank":n),mr(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Er(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new hs(null);const h=window.open(t||"",a,c);_n(h,e,"popup-blocked");try{h.focus()}catch(d){}return new hs(h)}const fs="__/auth/handler",ps="emulator/auth/handler",ms=encodeURIComponent("fac");async function gs(e,t,n,r,i,s){_n(e.config.authDomain,e,"auth-domain-config-required"),_n(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:sn,eventId:i};if(t instanceof Yr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Jr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${ms}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${fs}`;return jn(t,ps)}(e)}?${Me(a).slice(1)}${u}`}const ys="webStorageSupport";const vs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gi,this._completeRedirectFn=Ki,this._overrideRedirectResult=Hi}async _openPopup(e,t,n,r){var i;Bn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ds(e,await gs(e,t,n,On(),r),vi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bi().location.href=e}(await gs(e,t,n,On(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ss(e),n=bi().gapi;return _n(n,e,"internal-error"),t.open({where:document.body,url:us(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:as,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Rn(e,"network-request-failed"),s=bi().setTimeout((()=>{r(i)}),os.get());function o(){bi().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Xi(e);return t.register("authEvent",(t=>{_n(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ys,{type:ys},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ys];void 0!==i&&t(!!i),Nn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=es(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cr()||gr()||Er()}};var As="@firebase/auth",bs="0.23.2";class ws{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_n(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Es=xe("authIdTokenMaxAge")||300;let Is=null;var Cs;Cs="Browser",Zt(new qe("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_n(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Cs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr(Cs)},u=new Lr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ur);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Zt(new qe("auth-internal",(e=>(e=>new ws(e))(Br(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),cn(As,bs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Cs)),cn(As,bs,"esm2017");cn("firebase","9.23.0","app");var Ss,xs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ks={},Ts=Ts||{},Ns=xs||self;function Rs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ps(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ds="closure_uid_"+(1e9*Math.random()>>>0),_s=0;function Ls(e,t,n){return e.call.apply(e.bind,arguments)}function Bs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Os(e,t,n){return(Os=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ls:Bs).apply(null,arguments)}function Ms(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ds)&&e[Ds]||(e[Ds]=++_s))},Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function js(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qs(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Rs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function zs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zs.prototype.h=function(){this.defaultPrevented=!0};var qs=function(){if(!Ns.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ns.addEventListener("test",(()=>{}),t),Ns.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Hs(e){return/^[\s\xa0]*$/.test(e)}function Ws(){var e=Ns.navigator;return e&&(e=e.userAgent)?e:""}function Gs(e){return-1!=Ws().indexOf(e)}function Ks(e){return Ks[" "](e),e}Ks[" "]=function(){};var Xs,Ys,Js=Gs("Opera"),Zs=Gs("Trident")||Gs("MSIE"),$s=Gs("Edge"),eo=$s||Zs,to=Gs("Gecko")&&!(-1!=Ws().toLowerCase().indexOf("webkit")&&!Gs("Edge"))&&!(Gs("Trident")||Gs("MSIE"))&&!Gs("Edge"),no=-1!=Ws().toLowerCase().indexOf("webkit")&&!Gs("Edge");function ro(){var e=Ns.document;return e?e.documentMode:void 0}e:{var io="",so=function(){var e=Ws();return to?/rv:([^\);]+)(\)|;)/.exec(e):$s?/Edge\/([\d\.]+)/.exec(e):Zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):no?/WebKit\/(\S+)/.exec(e):Js?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(so&&(io=so?so[1]:""),Zs){var oo=ro();if(null!=oo&&oo>parseFloat(io)){Xs=String(oo);break e}}Xs=io}if(Ns.document&&Zs){var ao=ro();Ys=ao||(parseInt(Xs,10)||void 0)}else Ys=void 0;var lo=Ys;function uo(e,t){if(zs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(to){e:{try{Ks(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:co[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uo.$.h.call(this)}}Vs(uo,zs);var co={2:"touch",3:"pen",4:"mouse"};uo.prototype.h=function(){uo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ho="closure_listenable_"+(1e6*Math.random()|0),fo=0;function po(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++fo,this.fa=this.ia=!1}function mo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function go(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function yo(e){const t={};for(const n in e)t[n]=e[n];return t}const vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ao(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<vo.length;t++)n=vo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bo(e){this.src=e,this.g={},this.h=0}function wo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Fs(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(mo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Eo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}bo.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Eo(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new po(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Io="closure_lm_"+(1e6*Math.random()|0),Co={};function So(e,t,n,r,i){if(r&&r.once)return ko(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)So(e,t[s],n,r,i);return null}return n=Lo(n),e&&e[ho]?e.O(t,n,Ps(r)?!!r.capture:!!r,i):xo(e,t,n,!1,r,i)}function xo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ps(i)?!!i.capture:!!i,a=Do(e);if(a||(e[Io]=a=new bo(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Po;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qs||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ko(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ko(e,t[s],n,r,i);return null}return n=Lo(n),e&&e[ho]?e.P(t,n,Ps(r)?!!r.capture:!!r,i):xo(e,t,n,!0,r,i)}function To(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)To(e,t[s],n,r,i);else r=Ps(r)?!!r.capture:!!r,n=Lo(n),e&&e[ho]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Eo(s=e.g[t],n,r,i))&&(mo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Do(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Eo(t,n,r,i)),(n=-1<e?t[e]:null)&&No(n))}function No(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ho])wo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Do(t))?(wo(n,e),0==n.h&&(n.src=null,t[Io]=null)):mo(e)}}}function Ro(e){return e in Co?Co[e]:Co[e]="on"+e}function Po(e,t){if(e.fa)e=!0;else{t=new uo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&No(e),e=n.call(r,t)}return e}function Do(e){return(e=e[Io])instanceof bo?e:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lo(e){return"function"===typeof e?e:(e[_o]||(e[_o]=function(t){return e.handleEvent(t)}),e[_o])}function Bo(){Us.call(this),this.i=new bo(this),this.S=this,this.J=null}function Oo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new zs(t,e);else if(t instanceof zs)t.target=t.target||e;else{var i=t;Ao(t=new zs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Mo(o,r,!0,t)&&i}if(i=Mo(o=t.g=e,r,!0,t)&&i,i=Mo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Mo(o=t.g=n[s],r,!1,t)&&i}function Mo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&wo(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Vs(Bo,Us),Bo.prototype[ho]=!0,Bo.prototype.removeEventListener=function(e,t,n,r){To(this,e,t,n,r)},Bo.prototype.N=function(){if(Bo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mo(n[r]);delete t.g[e],t.h--}}this.J=null},Bo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Bo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vo=Ns.JSON.stringify;function Uo(){var e=Wo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new jo),(e=>e.reset()));class jo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function zo(e){Ns.setTimeout((()=>{throw e}),0)}let qo,Ho=!1,Wo=new class{constructor(){this.h=this.g=null}add(e,t){const n=Fo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Go=()=>{const e=Ns.Promise.resolve(void 0);qo=()=>{e.then(Ko)}};var Ko=()=>{for(var e;e=Uo();){try{e.h.call(e.g)}catch(n){zo(n)}var t=Fo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ho=!1};function Xo(e,t){Bo.call(this),this.h=e||1,this.g=t||Ns,this.j=Os(this.qb,this),this.l=Date.now()}function Yo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Jo(e,t,n){if("function"===typeof e)n&&(e=Os(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Os(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ns.setTimeout(e,t||0)}function Zo(e){e.g=Jo((()=>{e.g=null,e.i&&(e.i=!1,Zo(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Vs(Xo,Bo),(Ss=Xo.prototype).ga=!1,Ss.T=null,Ss.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oo(this,"tick"),this.ga&&(Yo(this),this.start()))}},Ss.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ss.N=function(){Xo.$.N.call(this),Yo(this),delete this.g};class $o extends Us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(Ns.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(e){Us.call(this),this.h=e,this.g={}}Vs(ea,Us);var ta=[];function na(e,t,n,r){Array.isArray(n)||(n&&(ta[0]=n.toString()),n=ta);for(var i=0;i<n.length;i++){var s=So(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ra(e){go(e.g,(function(e,t){this.g.hasOwnProperty(t)&&No(e)}),e),e.g={}}function ia(){this.g=!0}function sa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Vo(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}ea.prototype.N=function(){ea.$.N.call(this),ra(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ia.prototype.Ea=function(){this.g=!1},ia.prototype.info=function(){};var oa={},aa=null;function la(){return aa=aa||new Bo}function ua(e){zs.call(this,oa.Ta,e)}function ca(e){const t=la();Oo(t,new ua(t))}function ha(e,t){zs.call(this,oa.STAT_EVENT,e),this.stat=t}function da(e){const t=la();Oo(t,new ha(t,e))}function fa(e,t){zs.call(this,oa.Ua,e),this.size=t}function pa(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ns.setTimeout((function(){e()}),t)}oa.Ta="serverreachability",Vs(ua,zs),oa.STAT_EVENT="statevent",Vs(ha,zs),oa.Ua="timingevent",Vs(fa,zs);var ma={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ga={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ya(){}function va(e){return e.h||(e.h=e.i())}function Aa(){}ya.prototype.h=null;var ba,wa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ea(){zs.call(this,"d")}function Ia(){zs.call(this,"c")}function Ca(){}function Sa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ea(this),this.P=ka,e=eo?125:void 0,this.V=new Xo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xa}function xa(){this.i=null,this.g="",this.h=!1}Vs(Ea,zs),Vs(Ia,zs),Vs(Ca,ya),Ca.prototype.g=function(){return new XMLHttpRequest},Ca.prototype.i=function(){return{}},ba=new Ca;var ka=45e3,Ta={},Na={};function Ra(e,t,n){e.L=1,e.v=Xa(qa(t)),e.s=n,e.S=!0,Pa(e,null)}function Pa(e,t){e.G=Date.now(),Ba(e),e.A=qa(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ll(n.i,"t",r),e.C=0,n=e.l.J,e.h=new xa,e.g=uu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new $o(Os(e.Pa,e,e.g),e.O)),na(e.U,e.g,"readystatechange",e.nb),t=e.I?yo(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ca(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Da(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function _a(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=La(e,n),r==Na){4==t&&(e.o=4,da(14),i=!1),sa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ta){e.o=4,da(15),sa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sa(e.j,e.m,r,null),Fa(e,r)}Da(e)&&r!=Na&&r!=Ta&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,da(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tu(t),t.M=!0,da(11))):(sa(e.j,e.m,n,"[Invalid Chunked Response]"),Ua(e),Va(e))}function La(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Na:(n=Number(t.substring(n,r)),isNaN(n)?Ta:(r+=1)+n>t.length?Na:(t=t.slice(r,r+n),e.C=r+n,t))}function Ba(e){e.Y=Date.now()+e.P,Oa(e,e.P)}function Oa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pa(Os(e.lb,e),t)}function Ma(e){e.B&&(Ns.clearTimeout(e.B),e.B=null)}function Va(e){0==e.l.H||e.J||iu(e.l,e)}function Ua(e){Ma(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Yo(e.V),ra(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ml(n.i,e)))if(!e.K&&ml(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ru(n),Gl(n)}eu(n),da(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=pa(Os(n.ib,n),6e3));if(1>=pl(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else ou(n,11)}else if((e.K||n.g==e)&&ru(n),!Hs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gl(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ka(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=lu(r,r.J?r.pa:null,r.Y),o.K){yl(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ma(a),Ba(a)),r.g=o}else $l(r);0<n.j.length&&Xl(n)}else"stop"!=u[0]&&"close"!=u[0]||ou(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ou(n,7):Wl(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}ca()}catch(u){}}function ja(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Rs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Rs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Rs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ss=Sa.prototype).setTimeout=function(e){this.P=e},Ss.nb=function(e){e=e.target;const t=this.M;t&&3==Fl(e)?t.l():this.Pa(e)},Ss.Pa=function(e){try{if(e==this.g)e:{const c=Fl(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||eo||this.g&&(this.h.h||this.g.ja()||jl(this.g)))){this.J||4!=c||7==t||ca(),Ma(this);var n=this.g.da();this.ca=n;t:if(Da(this)){var r=jl(this.g);e="";var i=r.length,s=4==Fl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ua(this),Va(this);var o="";break t}this.h.i=new Ns.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hs(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,da(12),Ua(this),Va(this);break e}sa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,n)}this.S?(_a(this,c,o),eo&&this.i&&3==c&&(na(this.U,this.V,"tick",this.mb),this.V.start())):(sa(this.j,this.m,o,null),Fa(this,o)),4==c&&Ua(this),this.i&&!this.J&&(4==c?iu(this.l,this):(this.i=!1,Ba(this)))}else(function(e){const t={};e=(e.g&&2<=Fl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Hs(e[r]))continue;var n=Qo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,da(12)):(this.o=0,da(13)),Ua(this),Va(this)}}}catch(c){}},Ss.mb=function(){if(this.g){var e=Fl(this.g),t=this.g.ja();this.C<t.length&&(Ma(this),_a(this,e,t),this.i&&4!=e&&Ba(this))}},Ss.cancel=function(){this.J=!0,Ua(this)},Ss.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ca(),da(17)),Ua(this),this.o=2,Va(this)):Oa(this,this.Y-e)};var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof za){this.h=e.h,Ha(this,e.j),this.s=e.s,this.g=e.g,Wa(this,e.m),this.l=e.l;var t=e.i,n=new il;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ga(this,n),this.o=e.o}else e&&(t=String(e).match(Qa))?(this.h=!1,Ha(this,t[1]||"",!0),this.s=Ya(t[2]||""),this.g=Ya(t[3]||"",!0),Wa(this,t[4]),this.l=Ya(t[5]||"",!0),Ga(this,t[6]||"",!0),this.o=Ya(t[7]||"")):(this.h=!1,this.i=new il(null,this.h))}function qa(e){return new za(e)}function Ha(e,t,n){e.j=n?Ya(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ga(e,t,n){t instanceof il?(e.i=t,function(e,t){t&&!e.j&&(sl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ol(this,t),ll(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ja(t,nl)),e.i=new il(t,e.h))}function Ka(e,t,n){e.i.set(t,n)}function Xa(e){return Ka(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ya(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ja(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Za),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Za(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}za.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ja(t,$a,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ja(t,$a,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ja(n,"/"==n.charAt(0)?tl:el,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ja(n,rl)),e.join("")};var $a=/[#\/\?@]/g,el=/[#\?:]/g,tl=/[#\?]/g,nl=/[#\?@]/g,rl=/#/g;function il(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ol(e,t){sl(e),t=ul(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function al(e,t){return sl(e),t=ul(e,t),e.g.has(t)}function ll(e,t,n){ol(e,t),0<n.length&&(e.i=null,e.g.set(ul(e,t),js(n)),e.h+=n.length)}function ul(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ss=il.prototype).add=function(e,t){sl(this),this.i=null,e=ul(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ss.forEach=function(e,t){sl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ss.ta=function(){sl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ss.Z=function(e){sl(this);let t=[];if("string"===typeof e)al(this,e)&&(t=t.concat(this.g.get(ul(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ss.set=function(e,t){return sl(this),this.i=null,al(this,e=ul(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ss.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ss.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var cl=class{constructor(e,t){this.g=e,this.map=t}};function hl(e){this.l=e||dl,Ns.PerformanceNavigationTiming?e=0<(e=Ns.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ns.g&&Ns.g.Ka&&Ns.g.Ka()&&Ns.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dl=10;function fl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pl(e){return e.h?1:e.g?e.g.size:0}function ml(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gl(e,t){e.g?e.g.add(t):e.h=t}function yl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return js(e.i)}hl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Al,bl=class{stringify(e){return Ns.JSON.stringify(e,void 0)}parse(e){return Ns.JSON.parse(e,void 0)}};function wl(){this.g=new bl}function El(e,t,n){const r=n||"";try{ja(e,(function(e,n){let i=e;Ps(e)&&(i=Vo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Il(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Cl(e){this.l=e.fc||null,this.j=e.ob||!1}function Sl(e,t){Bo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vs(Cl,ya),Cl.prototype.g=function(){return new Sl(this.l,this.j)},Cl.prototype.i=(Al={},function(){return Al}),Vs(Sl,Bo);var xl=0;function kl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Tl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nl(e)}function Nl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ss=Sl.prototype).open=function(e,t){if(this.readyState!=xl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nl(this)},Ss.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ns).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ss.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tl(this)),this.readyState=xl},Ss.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ns.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ss.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tl(this):Nl(this),3==this.readyState&&kl(this)}},Ss.Za=function(e){this.g&&(this.response=this.responseText=e,Tl(this))},Ss.Ya=function(e){this.g&&(this.response=e,Tl(this))},Ss.ka=function(){this.g&&Tl(this)},Ss.setRequestHeader=function(e,t){this.v.append(e,t)},Ss.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ss.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rl=Ns.JSON.parse;function Pl(e){Bo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dl,this.L=this.M=!1}Vs(Pl,Bo);var Dl="",_l=/^https?$/i,Ll=["POST","PUT"];function Bl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ol(e),Vl(e)}function Ol(e){e.F||(e.F=!0,Oo(e,"complete"),Oo(e,"error"))}function Ml(e){if(e.h&&"undefined"!=typeof Ts&&(!e.C[1]||4!=Fl(e)||2!=e.da()))if(e.v&&4==Fl(e))Jo(e.La,0,e);else if(Oo(e,"readystatechange"),4==Fl(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Qa)[1]||null;!i&&Ns.self&&Ns.self.location&&(i=Ns.self.location.protocol.slice(0,-1)),r=!_l.test(i?i.toLowerCase():"")}n=r}if(n)Oo(e,"complete"),Oo(e,"success");else{e.m=6;try{var s=2<Fl(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Ol(e)}}finally{Vl(e)}}}function Vl(e,t){if(e.g){Ul(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Oo(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ul(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ns.clearTimeout(e.A),e.A=null)}function Fl(e){return e.g?e.g.readyState:0}function jl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Dl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Wu){return null}}function Ql(e){let t="";return go(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ql(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ka(e,t,n))}function ql(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hl(e){this.Ga=0,this.j=[],this.l=new ia,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ql("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ql("baseRetryDelayMs",5e3,e),this.hb=ql("retryDelaySeedMs",1e4,e),this.eb=ql("forwardChannelMaxRetries",2,e),this.xa=ql("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new hl(e&&e.concurrentRequestLimit),this.Ja=new wl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Wl(e){if(Kl(e),3==e.H){var t=e.W++,n=qa(e.I);if(Ka(n,"SID",e.K),Ka(n,"RID",t),Ka(n,"TYPE","terminate"),Jl(e,n),(t=new Sa(e,e.l,t)).L=2,t.v=Xa(qa(n)),n=!1,Ns.navigator&&Ns.navigator.sendBeacon)try{n=Ns.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Ns.Image&&((new Image).src=t.v,n=!0),n||(t.g=uu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ba(t)}au(e)}function Gl(e){e.g&&(tu(e),e.g.cancel(),e.g=null)}function Kl(e){Gl(e),e.u&&(Ns.clearTimeout(e.u),e.u=null),ru(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ns.clearTimeout(e.m),e.m=null)}function Xl(e){if(!fl(e.i)&&!e.m){e.m=!0;var t=e.Na;qo||Go(),Ho||(qo(),Ho=!0),Wo.add(t,e),e.C=0}}function Yl(e,t){var n;n=t?t.m:e.W++;const r=qa(e.I);Ka(r,"SID",e.K),Ka(r,"RID",n),Ka(r,"AID",e.V),Jl(e,r),e.o&&e.s&&zl(r,e.o,e.s),n=new Sa(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Zl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gl(e.i,n),Ra(n,r,t)}function Jl(e,t){e.na&&go(e.na,(function(e,n){Ka(t,n,e)})),e.h&&ja({},(function(e,n){Ka(t,n,e)}))}function Zl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Os(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{El(a,e,"req"+n+"_")}catch(rc){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $l(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;qo||Go(),Ho||(qo(),Ho=!0),Wo.add(t,e),e.A=0}}function eu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=pa(Os(e.Ma,e),su(e,e.A)),e.A++,!0)}function tu(e){null!=e.B&&(Ns.clearTimeout(e.B),e.B=null)}function nu(e){e.g=new Sa(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=qa(e.wa);Ka(t,"RID","rpc"),Ka(t,"SID",e.K),Ka(t,"AID",e.V),Ka(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ka(t,"TO",e.qa),Ka(t,"TYPE","xmlhttp"),Jl(e,t),e.o&&e.s&&zl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Xa(qa(t)),n.s=null,n.S=!0,Pa(n,e)}function ru(e){null!=e.v&&(Ns.clearTimeout(e.v),e.v=null)}function iu(e,t){var n=null;if(e.g==t){ru(e),tu(e),e.g=null;var r=2}else{if(!ml(e.i,t))return;n=t.F,yl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Oo(r=la(),new fa(r,n)),Xl(e)}else $l(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(pl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=pa(Os(e.Na,e,t),su(e,e.C)),e.C++,!0))}(e,t)||2==r&&eu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ou(e,5);break;case 4:ou(e,10);break;case 3:ou(e,6);break;default:ou(e,2)}}function su(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ou(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Os(e.pb,e);n||(n=new za("//www.google.com/images/cleardot.gif"),Ns.location&&"http"==Ns.location.protocol||Ha(n,"https"),Xa(n)),function(e,t){const n=new ia;if(Ns.Image){const r=new Image;r.onload=Ms(Il,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ms(Il,n,r,"TestLoadImage: error",!1,t),r.onabort=Ms(Il,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ms(Il,n,r,"TestLoadImage: timeout",!1,t),Ns.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else da(2);e.H=0,e.h&&e.h.za(t),au(e),Kl(e)}function au(e){if(e.H=0,e.ma=[],e.h){const t=vl(e.i);0==t.length&&0==e.j.length||(Qs(e.ma,t),Qs(e.ma,e.j),e.i.i.length=0,js(e.j),e.j.length=0),e.h.ya()}}function lu(e,t,n){var r=n instanceof za?qa(n):new za(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Wa(r,r.m);else{var i=Ns.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new za(null);r&&Ha(s,r),t&&(s.g=t),i&&Wa(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Ka(r,n,t),Ka(r,"VER",e.ra),Jl(e,r),r}function uu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Pl(new Cl({ob:!0})):new Pl(e.va)).Oa(e.J),t}function cu(){}function hu(){if(Zs&&!(10<=Number(lo)))throw Error("Environmental error: no available transport.")}function du(e,t){Bo.call(this),this.g=new Hl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Hs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mu(this)}function fu(e){Ea.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pu(){Ia.call(this),this.status=1}function mu(e){this.g=e}function gu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function vu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ss=Pl.prototype).Oa=function(e){this.M=e},Ss.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ba.g(),this.C=this.u?va(this.u):va(ba),this.g.onreadystatechange=Os(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Bl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Ns.FormData&&e instanceof Ns.FormData,!(0<=Fs(Ll,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ul(this),0<this.B&&((this.L=function(e){return Zs&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Os(this.ua,this)):this.A=Jo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Bl(this,s)}},Ss.ua=function(){"undefined"!=typeof Ts&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oo(this,"timeout"),this.abort(8))},Ss.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oo(this,"complete"),Oo(this,"abort"),Vl(this))},Ss.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vl(this,!0)),Pl.$.N.call(this)},Ss.La=function(){this.s||(this.G||this.v||this.l?Ml(this):this.kb())},Ss.kb=function(){Ml(this)},Ss.isActive=function(){return!!this.g},Ss.da=function(){try{return 2<Fl(this)?this.g.status:-1}catch(Al){return-1}},Ss.ja=function(){try{return this.g?this.g.responseText:""}catch(Al){return""}},Ss.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rl(t)}},Ss.Ia=function(){return this.m},Ss.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ss=Hl.prototype).ra=8,Ss.H=1,Ss.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Sa(this,this.l,e);let s=this.s;if(this.U&&(s?(s=yo(s),Ao(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zl(this,i,t),Ka(n=qa(this.I),"RID",e),Ka(n,"CVER",22),this.F&&Ka(n,"X-HTTP-Session-Id",this.F),Jl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ql(s)))+"&"+t:this.o&&zl(n,this.o,s)),gl(this.i,i),this.bb&&Ka(n,"TYPE","init"),this.P?(Ka(n,"$req",t),Ka(n,"SID","null"),i.aa=!0,Ra(i,n,null)):Ra(i,n,t),this.H=2}}else 3==this.H&&(e?Yl(this,e):0==this.j.length||fl(this.i)||Yl(this))},Ss.Ma=function(){if(this.u=null,nu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=pa(Os(this.jb,this),e)}},Ss.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,da(10),Gl(this),nu(this))},Ss.ib=function(){null!=this.v&&(this.v=null,Gl(this),eu(this),da(19))},Ss.pb=function(e){e?(this.l.info("Successfully pinged google.com"),da(2)):(this.l.info("Failed to ping google.com"),da(1))},Ss.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ss=cu.prototype).Ba=function(){},Ss.Aa=function(){},Ss.za=function(){},Ss.ya=function(){},Ss.isActive=function(){return!0},Ss.Va=function(){},hu.prototype.g=function(e,t){return new du(e,t)},Vs(du,Bo),du.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;da(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lu(e,null,e.Y),Xl(e)},du.prototype.close=function(){Wl(this.g)},du.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Vo(e),e=n);t.j.push(new cl(t.fb++,e)),3==t.H&&Xl(t)},du.prototype.N=function(){this.g.h=null,delete this.j,Wl(this.g),delete this.g,du.$.N.call(this)},Vs(fu,Ea),Vs(pu,Ia),Vs(mu,cu),mu.prototype.Ba=function(){Oo(this.g,"a")},mu.prototype.Aa=function(e){Oo(this.g,new fu(e))},mu.prototype.za=function(e){Oo(this.g,new pu)},mu.prototype.ya=function(){Oo(this.g,"b")},Vs(gu,(function(){this.blockSize=-1})),gu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)yu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){yu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){yu(this,r),i=0;break}}this.h=i,this.i+=t},gu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Au={};function bu(e){return-128<=e&&128>e?function(e,t){var n=Au;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new vu([0|e],0>e?-1:0)})):new vu([0|e],0>e?-1:0)}function wu(e){if(isNaN(e)||!isFinite(e))return Iu;if(0>e)return Tu(wu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Eu;return new vu(t,0)}var Eu=4294967296,Iu=bu(0),Cu=bu(1),Su=bu(16777216);function xu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ku(e){return-1==e.h}function Tu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new vu(n,~e.h).add(Cu)}function Nu(e,t){return e.add(Tu(t))}function Ru(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Pu(e,t){this.g=e,this.h=t}function Du(e,t){if(xu(t))throw Error("division by zero");if(xu(e))return new Pu(Iu,Iu);if(ku(e))return t=Du(Tu(e),t),new Pu(Tu(t.g),Tu(t.h));if(ku(t))return t=Du(e,Tu(t)),new Pu(Tu(t.g),t.h);if(30<e.g.length){if(ku(e)||ku(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Cu,r=t;0>=r.X(e);)n=_u(n),r=_u(r);var i=Lu(n,1),s=Lu(r,1);for(r=Lu(r,2),n=Lu(n,2);!xu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Lu(r,1),n=Lu(n,1)}return t=Nu(e,i.R(t)),new Pu(i,t)}for(i=Iu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=wu(n)).R(t);ku(o)||0<o.X(e);)o=(s=wu(n-=r)).R(t);xu(s)&&(s=Cu),i=i.add(s),e=Nu(e,o)}return new Pu(i,e)}function _u(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new vu(n,e.h)}function Lu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new vu(i,e.h)}(Ss=vu.prototype).ea=function(){if(ku(this))return-Tu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Eu+r)*t,t*=Eu}return e},Ss.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xu(this))return"0";if(ku(this))return"-"+Tu(this).toString(e);for(var t=wu(Math.pow(e,6)),n=this,r="";;){var i=Du(n,t).g,s=((0<(n=Nu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ss.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ss.X=function(e){return ku(e=Nu(this,e))?-1:xu(e)?0:1},Ss.abs=function(){return ku(this)?Tu(this):this},Ss.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new vu(n,-2147483648&n[n.length-1]?-1:0)},Ss.R=function(e){if(xu(this)||xu(e))return Iu;if(ku(this))return ku(e)?Tu(this).R(Tu(e)):Tu(Tu(this).R(e));if(ku(e))return Tu(this.R(Tu(e)));if(0>this.X(Su)&&0>e.X(Su))return wu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Ru(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ru(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ru(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ru(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new vu(n,0)},Ss.gb=function(e){return Du(this,e).h},Ss.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new vu(n,this.h&e.h)},Ss.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new vu(n,this.h|e.h)},Ss.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new vu(n,this.h^e.h)},hu.prototype.createWebChannel=hu.prototype.g,du.prototype.send=du.prototype.u,du.prototype.open=du.prototype.m,du.prototype.close=du.prototype.close,ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,ga.COMPLETE="complete",Aa.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",Bo.prototype.listen=Bo.prototype.O,Pl.prototype.listenOnce=Pl.prototype.P,Pl.prototype.getLastError=Pl.prototype.Sa,Pl.prototype.getLastErrorCode=Pl.prototype.Ia,Pl.prototype.getStatus=Pl.prototype.da,Pl.prototype.getResponseJson=Pl.prototype.Wa,Pl.prototype.getResponseText=Pl.prototype.ja,Pl.prototype.send=Pl.prototype.ha,Pl.prototype.setWithCredentials=Pl.prototype.Oa,gu.prototype.digest=gu.prototype.l,gu.prototype.reset=gu.prototype.reset,gu.prototype.update=gu.prototype.j,vu.prototype.add=vu.prototype.add,vu.prototype.multiply=vu.prototype.R,vu.prototype.modulo=vu.prototype.gb,vu.prototype.compare=vu.prototype.X,vu.prototype.toNumber=vu.prototype.ea,vu.prototype.toString=vu.prototype.toString,vu.prototype.getBits=vu.prototype.D,vu.fromNumber=wu,vu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Tu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=wu(Math.pow(n,8)),i=Iu,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=wu(Math.pow(n,o)),i=i.R(o).add(wu(a))):i=(i=i.R(r)).add(wu(a))}return i};var Bu=ks.createWebChannelTransport=function(){return new hu},Ou=ks.getStatEventTarget=function(){return la()},Mu=ks.ErrorCode=ma,Vu=ks.EventType=ga,Uu=ks.Event=oa,Fu=ks.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ju=ks.FetchXmlHttpFactory=Cl,Qu=ks.WebChannel=Aa,zu=ks.XhrIo=Pl,qu=ks.Md5=gu,Hu=ks.Integer=vu;const Wu="@firebase/firestore";class Gu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gu.UNAUTHENTICATED=new Gu(null),Gu.GOOGLE_CREDENTIALS=new Gu("google-credentials-uid"),Gu.FIRST_PARTY=new Gu("first-party-uid"),Gu.MOCK_USER=new Gu("mock-user");let Ku="9.23.0";const Xu=new et("@firebase/firestore");function Yu(){return Xu.logLevel}function Ju(e){if(Xu.logLevel<=Xe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ec);Xu.debug(`Firestore (${Ku}): ${e}`,...i)}}function Zu(e){if(Xu.logLevel<=Xe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ec);Xu.error(`Firestore (${Ku}): ${e}`,...i)}}function $u(e){if(Xu.logLevel<=Xe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ec);Xu.warn(`Firestore (${Ku}): ${e}`,...i)}}function ec(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function tc(){const e=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Zu(e),new Error(e)}function nc(e,t){e||tc()}function rc(e,t){return e}const ic={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sc extends Pe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ac{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gu.UNAUTHENTICATED)))}shutdown(){}}class uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class cc{constructor(e){this.t=e,this.currentUser=Gu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new oc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oc,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Ju("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ju("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ju("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nc("string"==typeof t.accessToken),new ac(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nc(null===e||"string"==typeof e),new Gu(e)}}class hc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Gu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new hc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Gu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ju("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,Ju("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ju("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ju("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nc("string"==typeof e.token),this.T=e.token,new fc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class gc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=mc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function yc(e,t){return e<t?-1:e>t?1:0}function vc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ac(e){return e+"\0"}class bc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sc(ic.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sc(ic.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sc(ic.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sc(ic.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bc.fromMillis(Date.now())}static fromDate(e){return bc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yc(this.nanoseconds,e.nanoseconds):yc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wc(e)}static min(){return new wc(new bc(0,0))}static max(){return new wc(new bc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ec{constructor(e,t,n){void 0===t?t=0:t>e.length&&tc(),void 0===n?n=e.length-t:n>e.length-t&&tc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ec.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ic extends Ec{construct(e,t,n){return new Ic(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new sc(ic.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ic(e)}static emptyPath(){return new Ic([])}}const Cc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sc extends Ec{construct(e,t,n){return new Sc(e,t,n)}static isValidIdentifier(e){return Cc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sc(ic.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sc(ic.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sc(ic.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new sc(ic.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sc(t)}static emptyPath(){return new Sc([])}}class xc{constructor(e){this.path=e}static fromPath(e){return new xc(Ic.fromString(e))}static fromName(e){return new xc(Ic.fromString(e).popFirst(5))}static empty(){return new xc(Ic.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ic.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ic.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xc(new Ic(e.slice()))}}class kc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Tc(e){return e.fields.find((e=>2===e.kind))}function Nc(e){return e.fields.filter((e=>2!==e.kind))}kc.UNKNOWN_ID=-1;class Rc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pc(0,Lc.min())}}function Dc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wc.fromTimestamp(1e9===r?new bc(n+1,0):new bc(n,r));return new Lc(i,xc.empty(),t)}function _c(e){return new Lc(e.readTime,e.key,-1)}class Lc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Lc(wc.min(),xc.empty(),-1)}static max(){return new Lc(wc.max(),xc.empty(),-1)}}function Bc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xc.comparator(e.documentKey,t.documentKey),0!==n?n:yc(e.largestBatchId,t.largestBatchId))}const Oc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vc(e){if(e.code!==ic.FAILED_PRECONDITION||e.message!==Oc)throw e;Ju("LocalStore","Unexpectedly lost primary lease")}class Uc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Uc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Uc?t:Uc.resolve(t)}catch(e){return Uc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Uc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Uc.reject(t)}static resolve(e){return new Uc(((t,n)=>{t(e)}))}static reject(e){return new Uc(((t,n)=>{n(e)}))}static waitFor(e){return new Uc(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Uc.resolve(!1);for(const n of e)t=t.next((e=>e?Uc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Uc(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Uc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Fc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new oc,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new zc(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Kc(t.target.error);this.v.reject(new zc(e,n))}}static open(e,t,n,r){try{return new Fc(t,e.transaction(r,n))}catch(e){throw new zc(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ju("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Hc(t)}}class jc{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===jc.S(Te())&&Zu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ju("SimpleDb","Removing database:",e),Wc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Re())return!1;if(jc.C())return!0;const e=Te(),t=jc.S(e),n=0<t&&t<10,r=jc.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/NeuroPets",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Ju("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new zc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sc(ic.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new sc(ic.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new zc(e,r))},r.onupgradeneeded=e=>{Ju("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Ju("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=Fc.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Uc.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Ju("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Qc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Wc(this.L.delete())}}class zc extends sc{constructor(e,t){super(ic.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qc(e){return"IndexedDbTransactionError"===e.name}class Hc{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ju("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ju("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wc(n)}add(e){return Ju("SimpleDb","ADD",this.store.name,e,e),Wc(this.store.add(e))}get(e){return Wc(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ju("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ju("SimpleDb","DELETE",this.store.name,e),Wc(this.store.delete(e))}count(){return Ju("SimpleDb","COUNT",this.store.name),Wc(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Uc(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Uc(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Ju("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Uc(((n,r)=>{t.onerror=e=>{const t=Kc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Uc(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Qc(i),o=t(i.primaryKey,i.value,s);if(o instanceof Uc){const e=o.catch((e=>(s.done(),Uc.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>Uc.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wc(e){return new Uc(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Kc(e.target.error);n(t)}}))}let Gc=!1;function Kc(e){const t=jc.S(Te());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gc||(Gc=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Xc{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Ju("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ju("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){qc(e)?Ju("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Vc(e)}await this.et(6e4)}))}}class Yc{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Uc.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ju("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(Ju("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=_c(t);Bc(r,n)>0&&(n=r)})),new Lc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Jc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Zc(e){return null==e}function $c(e){return 0===e&&1/e==-1/0}function eh(e){return"number"==typeof e&&Number.isInteger(e)&&!$c(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function th(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rh(t)),t=nh(e.get(n),t);return rh(t)}function nh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function rh(e){return e+"\x01\x01"}function ih(e){const t=e.length;if(nc(t>=2),2===t)return nc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ic.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&tc(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:tc()}s=t+2}return new Ic(r)}Jc.ct=-1;const sh=["userId","batchId"];function oh(e,t){return[e,th(t)]}function ah(e,t,n){return[e,th(t),n]}const lh={},uh=["prefixPath","collectionGroup","readTime","documentId"],ch=["prefixPath","collectionGroup","documentId"],hh=["collectionGroup","readTime","prefixPath","documentId"],dh=["canonicalId","targetId"],fh=["targetId","path"],ph=["path","targetId"],mh=["collectionId","parent"],gh=["indexId","uid"],yh=["uid","sequenceNumber"],vh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ah=["indexId","uid","orderedDocumentKey"],bh=["userId","collectionPath","documentId"],wh=["userId","collectionPath","largestBatchId"],Eh=["userId","collectionGroup","largestBatchId"],Ih=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ch=[...Ih,"documentOverlays"],Sh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xh=Sh,kh=[...xh,"indexConfiguration","indexState","indexEntries"];class Th extends Mc{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Nh(e,t){const n=rc(e);return jc.M(n.ht,t)}function Rh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ph(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class _h{constructor(e,t){this.comparator=e,this.root=t||Bh.EMPTY}insert(e,t){return new _h(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bh.BLACK,null,null))}remove(e){return new _h(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Bh.RED,this.left=null!=r?r:Bh.EMPTY,this.right=null!=i?i:Bh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Bh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Bh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Bh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tc();if(this.right.isRed())throw tc();const e=this.left.check();if(e!==this.right.check())throw tc();return e+(this.isRed()?0:1)}}Bh.EMPTY=null,Bh.RED=!0,Bh.BLACK=!1,Bh.EMPTY=new class{constructor(){this.size=0}get key(){throw tc()}get value(){throw tc()}get color(){throw tc()}get left(){throw tc()}get right(){throw tc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Bh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oh{constructor(e){this.comparator=e,this.data=new _h(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mh(this.data.getIterator())}getIteratorFrom(e){return new Mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Oh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Oh(this.comparator);return t.data=e,t}}class Mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vh(e){return e.hasNext()?e.getNext():void 0}class Uh{constructor(e){this.fields=e,e.sort(Sc.comparator)}static empty(){return new Uh([])}unionWith(e){let t=new Oh(Sc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Uh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Fh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fh("Invalid base64 string: "+e):e}}(e);return new jh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jh.EMPTY_BYTE_STRING=new jh("");const Qh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zh(e){if(nc(!!e),"string"==typeof e){let t=0;const n=Qh.exec(e);if(nc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qh(e.seconds),nanos:qh(e.nanos)}}function qh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hh(e){return"string"==typeof e?jh.fromBase64String(e):jh.fromUint8Array(e)}function Wh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gh(e){const t=e.mapValue.fields.__previous_value__;return Wh(t)?Gh(t):t}function Kh(e){const t=zh(e.mapValue.fields.__local_write_time__.timestampValue);return new bc(t.seconds,t.nanos)}class Xh{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Yh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yh&&e.projectId===this.projectId&&e.database===this.database}}const Jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zh={nullValue:"NULL_VALUE"};function $h(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wh(e)?4:fd(e)?9007199254740991:10:tc()}function ed(e,t){if(e===t)return!0;const n=$h(e);if(n!==$h(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Kh(e).isEqual(Kh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=zh(e.timestampValue),r=zh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hh(e.bytesValue).isEqual(Hh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qh(e.geoPointValue.latitude)===qh(t.geoPointValue.latitude)&&qh(e.geoPointValue.longitude)===qh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qh(e.integerValue)===qh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qh(e.doubleValue),r=qh(t.doubleValue);return n===r?$c(n)===$c(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vc(e.arrayValue.values||[],t.arrayValue.values||[],ed);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rh(n)!==Rh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ed(n[i],r[i])))return!1;return!0}(e,t);default:return tc()}}function td(e,t){return void 0!==(e.values||[]).find((e=>ed(e,t)))}function nd(e,t){if(e===t)return 0;const n=$h(e),r=$h(t);if(n!==r)return yc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qh(e.integerValue||e.doubleValue),r=qh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rd(e.timestampValue,t.timestampValue);case 4:return rd(Kh(e),Kh(t));case 5:return yc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hh(e),r=Hh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=yc(n[i],r[i]);if(0!==e)return e}return yc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=yc(qh(e.latitude),qh(t.latitude));return 0!==n?n:yc(qh(e.longitude),qh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=nd(n[i],r[i]);if(e)return e}return yc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jh.mapValue&&t===Jh.mapValue)return 0;if(e===Jh.mapValue)return 1;if(t===Jh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=yc(r[o],s[o]);if(0!==e)return e;const t=nd(n[r[o]],i[s[o]]);if(0!==t)return t}return yc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw tc()}}function rd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yc(e,t);const n=zh(e),r=zh(t),i=yc(n.seconds,r.seconds);return 0!==i?i:yc(n.nanos,r.nanos)}function id(e){return sd(e)}function sd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=zh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xc.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=sd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${sd(e.fields[i])}`;return n+"}"}(e.mapValue):tc();var t,n}function od(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ad(e){return!!e&&"integerValue"in e}function ld(e){return!!e&&"arrayValue"in e}function ud(e){return!!e&&"nullValue"in e}function cd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hd(e){return!!e&&"mapValue"in e}function dd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ph(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=dd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function pd(e){return"nullValue"in e?Zh:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?od(Yh.empty(),xc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:tc()}function md(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?od(Yh.empty(),xc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Jh:tc()}function gd(e,t){const n=nd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yd(e,t){const n=nd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class vd{constructor(e){this.value=e}static empty(){return new vd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(t)}setAll(e){let t=Sc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=dd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ed(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];hd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ph(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new vd(dd(this.value))}}function Ad(e){const t=[];return Ph(e.fields,((e,n)=>{const r=new Sc([e]);if(hd(n)){const e=Ad(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Uh(t)}class bd{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new bd(e,0,wc.min(),wc.min(),wc.min(),vd.empty(),0)}static newFoundDocument(e,t,n,r){return new bd(e,1,t,wc.min(),n,r,0)}static newNoDocument(e,t){return new bd(e,2,t,wc.min(),wc.min(),vd.empty(),0)}static newUnknownDocument(e,t){return new bd(e,3,t,wc.min(),wc.min(),vd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wd{constructor(e,t){this.position=e,this.inclusive=t}}function Ed(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?xc.comparator(xc.fromName(o.referenceValue),n.key):nd(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Id(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ed(e.position[n],t.position[n]))return!1;return!0}class Cd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Sd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xd{}class kd extends xd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Md(e,t,n):"array-contains"===t?new jd(e,n):"in"===t?new Qd(e,n):"not-in"===t?new zd(e,n):"array-contains-any"===t?new qd(e,n):new kd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Vd(e,n):new Ud(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nd(t,this.value)):null!==t&&$h(this.value)===$h(t)&&this.matchesComparison(nd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Td extends xd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Td(e,t)}matches(e){return Nd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nd(e){return"and"===e.op}function Rd(e){return"or"===e.op}function Pd(e){return Dd(e)&&Nd(e)}function Dd(e){for(const t of e.filters)if(t instanceof Td)return!1;return!0}function _d(e){if(e instanceof kd)return e.field.canonicalString()+e.op.toString()+id(e.value);if(Pd(e))return e.filters.map((e=>_d(e))).join(",");{const t=e.filters.map((e=>_d(e))).join(",");return`${e.op}(${t})`}}function Ld(e,t){return e instanceof kd?function(e,t){return t instanceof kd&&e.op===t.op&&e.field.isEqual(t.field)&&ed(e.value,t.value)}(e,t):e instanceof Td?function(e,t){return t instanceof Td&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ld(n,t.filters[r])),!0)}(e,t):void tc()}function Bd(e,t){const n=e.filters.concat(t);return Td.create(n,e.op)}function Od(e){return e instanceof kd?function(e){return`${e.field.canonicalString()} ${e.op} ${id(e.value)}`}(e):e instanceof Td?function(e){return e.op.toString()+" {"+e.getFilters().map(Od).join(" ,")+"}"}(e):"Filter"}class Md extends kd{constructor(e,t,n){super(e,t,n),this.key=xc.fromName(n.referenceValue)}matches(e){const t=xc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vd extends kd{constructor(e,t){super(e,"in",t),this.keys=Fd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ud extends kd{constructor(e,t){super(e,"not-in",t),this.keys=Fd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>xc.fromName(e.referenceValue)))}class jd extends kd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ld(t)&&td(t.arrayValue,this.value)}}class Qd extends kd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&td(this.value.arrayValue,t)}}class zd extends kd{constructor(e,t){super(e,"not-in",t)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!td(this.value.arrayValue,t)}}class qd extends kd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ld(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>td(this.value.arrayValue,e)))}}class Hd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function Wd(e){return new Hd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Gd(e){const t=rc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>_d(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>id(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>id(e))).join(",")),t.dt=e}return t.dt}function Kd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ld(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Id(e.startAt,t.startAt)&&Id(e.endAt,t.endAt)}function Xd(e){return xc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Yd(e,t){return e.filters.filter((e=>e instanceof kd&&e.field.isEqual(t)))}function Jd(e,t,n){let r=Zh,i=!0;for(const s of Yd(e,t)){let e=Zh,t=!0;switch(s.op){case"<":case"<=":e=pd(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Zh}gd({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];gd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Zd(e,t,n){let r=Jh,i=!0;for(const s of Yd(e,t)){let e=Jh,t=!0;switch(s.op){case">=":case">":e=md(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Jh}yd({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];yd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class $d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function ef(e,t,n,r,i,s,o,a){return new $d(e,t,n,r,i,s,o,a)}function tf(e){return new $d(e)}function nf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sf(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function of(e){return null!==e.collectionGroup}function af(e){const t=rc(e);if(null===t.wt){t.wt=[];const e=sf(t),n=rf(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Cd(e)),t.wt.push(new Cd(Sc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Cd(Sc.keyField(),e))}}}return t.wt}function lf(e){const t=rc(e);if(!t._t)if("F"===t.limitType)t._t=Wd(t.path,t.collectionGroup,af(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of af(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Cd(i.field,t))}const n=t.endAt?new wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wd(t.startAt.position,t.startAt.inclusive):null;t._t=Wd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function uf(e,t){t.getFirstInequalityField(),sf(e);const n=e.filters.concat([t]);return new $d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cf(e,t,n){return new $d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hf(e,t){return Kd(lf(e),lf(t))&&e.limitType===t.limitType}function df(e){return`${Gd(lf(e))}|lt:${e.limitType}`}function ff(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Od(e))).join(", ")}]`),Zc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>id(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>id(e))).join(",")),`Target(${t})`}(lf(e))}; limitType=${e.limitType})`}function pf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of af(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ed(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,af(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ed(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,af(e),t))}(e,t)}function mf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gf(e){return(t,n)=>{let r=!1;for(const i of af(e)){const e=yf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function yf(e,t,n){const r=e.field.isKeyField()?xc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?nd(r,i):tc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tc()}}class vf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ph(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Dh(this.inner)}size(){return this.innerSize}}const Af=new _h(xc.comparator);function bf(){return Af}const wf=new _h(xc.comparator);function Ef(){let e=wf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function If(e){let t=wf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Cf(){return xf()}function Sf(){return xf()}function xf(){return new vf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const kf=new _h(xc.comparator),Tf=new Oh(xc.comparator);function Nf(){let e=Tf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Rf=new Oh(yc);function Pf(){return Rf}function Df(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function _f(e){return{integerValue:""+e}}function Lf(e,t){return eh(t)?_f(t):Df(e,t)}class Bf{constructor(){this._=void 0}}function Of(e,t,n){return e instanceof Uf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Wh(t)&&(t=Gh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ff?jf(e,t):e instanceof Qf?zf(e,t):function(e,t){const n=Vf(e,t),r=Hf(n)+Hf(e.gt);return ad(n)&&ad(e.gt)?_f(r):Df(e.serializer,r)}(e,t)}function Mf(e,t,n){return e instanceof Ff?jf(e,t):e instanceof Qf?zf(e,t):n}function Vf(e,t){return e instanceof qf?ad(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Uf extends Bf{}class Ff extends Bf{constructor(e){super(),this.elements=e}}function jf(e,t){const n=Wf(t);for(const r of e.elements)n.some((e=>ed(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Qf extends Bf{constructor(e){super(),this.elements=e}}function zf(e,t){let n=Wf(t);for(const r of e.elements)n=n.filter((e=>!ed(e,r)));return{arrayValue:{values:n}}}class qf extends Bf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Hf(e){return qh(e.integerValue||e.doubleValue)}function Wf(e){return ld(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gf{constructor(e,t){this.field=e,this.transform=t}}class Kf{constructor(e,t){this.version=e,this.transformResults=t}}class Xf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xf}static exists(e){return new Xf(void 0,e)}static updateTime(e){return new Xf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jf{}function Zf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lp(e.key,Xf.none()):new rp(e.key,e.data,Xf.none());{const n=e.data,r=vd.empty();let i=new Oh(Sc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ip(e.key,r,new Uh(i.toArray()),Xf.none())}}function $f(e,t,n){e instanceof rp?function(e,t,n){const r=e.value.clone(),i=op(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ip?function(e,t,n){if(!Yf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=op(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ep(e,t,n,r){return e instanceof rp?function(e,t,n,r){if(!Yf(e.precondition,t))return n;const i=e.value.clone(),s=ap(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ip?function(e,t,n,r){if(!Yf(e.precondition,t))return n;const i=ap(e.fieldTransforms,r,t),s=t.data;return s.setAll(sp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Yf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Vf(r.transform,e||null);null!=i&&(null===n&&(n=vd.empty()),n.set(r.field,i))}return n||null}function np(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ff&&t instanceof Ff||e instanceof Qf&&t instanceof Qf?vc(e.elements,t.elements,ed):e instanceof qf&&t instanceof qf?ed(e.gt,t.gt):e instanceof Uf&&t instanceof Uf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rp extends Jf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ip extends Jf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function op(e,t,n){const r=new Map;nc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Mf(o,a,n[i]))}return r}function ap(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Of(e,s,t))}return r}class lp extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class up extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$f(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Sf();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Zf(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(wc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nf())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,((e,t)=>np(e,t)))&&vc(this.baseMutations,e.baseMutations,((e,t)=>np(e,t)))}}class hp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nc(e.mutations.length===n.length);let r=kf;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hp(e,t,n,r)}}class dp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fp{constructor(e,t){this.count=e,this.unchangedNames=t}}var pp,mp;function gp(e){switch(e){default:return tc();case ic.CANCELLED:case ic.UNKNOWN:case ic.DEADLINE_EXCEEDED:case ic.RESOURCE_EXHAUSTED:case ic.INTERNAL:case ic.UNAVAILABLE:case ic.UNAUTHENTICATED:return!1;case ic.INVALID_ARGUMENT:case ic.NOT_FOUND:case ic.ALREADY_EXISTS:case ic.PERMISSION_DENIED:case ic.FAILED_PRECONDITION:case ic.ABORTED:case ic.OUT_OF_RANGE:case ic.UNIMPLEMENTED:case ic.DATA_LOSS:return!0}}function yp(e){if(void 0===e)return Zu("GRPC error has no .code"),ic.UNKNOWN;switch(e){case pp.OK:return ic.OK;case pp.CANCELLED:return ic.CANCELLED;case pp.UNKNOWN:return ic.UNKNOWN;case pp.DEADLINE_EXCEEDED:return ic.DEADLINE_EXCEEDED;case pp.RESOURCE_EXHAUSTED:return ic.RESOURCE_EXHAUSTED;case pp.INTERNAL:return ic.INTERNAL;case pp.UNAVAILABLE:return ic.UNAVAILABLE;case pp.UNAUTHENTICATED:return ic.UNAUTHENTICATED;case pp.INVALID_ARGUMENT:return ic.INVALID_ARGUMENT;case pp.NOT_FOUND:return ic.NOT_FOUND;case pp.ALREADY_EXISTS:return ic.ALREADY_EXISTS;case pp.PERMISSION_DENIED:return ic.PERMISSION_DENIED;case pp.FAILED_PRECONDITION:return ic.FAILED_PRECONDITION;case pp.ABORTED:return ic.ABORTED;case pp.OUT_OF_RANGE:return ic.OUT_OF_RANGE;case pp.UNIMPLEMENTED:return ic.UNIMPLEMENTED;case pp.DATA_LOSS:return ic.DATA_LOSS;default:return tc()}}(mp=pp||(pp={}))[mp.OK=0]="OK",mp[mp.CANCELLED=1]="CANCELLED",mp[mp.UNKNOWN=2]="UNKNOWN",mp[mp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mp[mp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mp[mp.NOT_FOUND=5]="NOT_FOUND",mp[mp.ALREADY_EXISTS=6]="ALREADY_EXISTS",mp[mp.PERMISSION_DENIED=7]="PERMISSION_DENIED",mp[mp.UNAUTHENTICATED=16]="UNAUTHENTICATED",mp[mp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mp[mp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mp[mp.ABORTED=10]="ABORTED",mp[mp.OUT_OF_RANGE=11]="OUT_OF_RANGE",mp[mp.UNIMPLEMENTED=12]="UNIMPLEMENTED",mp[mp.INTERNAL=13]="INTERNAL",mp[mp.UNAVAILABLE=14]="UNAVAILABLE",mp[mp.DATA_LOSS=15]="DATA_LOSS";class vp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ap}static getOrCreateInstance(){return null===Ap&&(Ap=new vp),Ap}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Ap=null;function bp(){return new TextEncoder}const wp=new Hu([4294967295,4294967295],0);function Ep(e){const t=bp().encode(e),n=new qu;return n.update(t),new Uint8Array(n.digest())}function Ip(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hu([n,r],0),new Hu([i,s],0)]}class Cp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sp(`Invalid padding: ${t}`);if(n<0)throw new Sp(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Sp(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Sp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Hu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Hu.fromNumber(n)));return 1===r.compare(wp)&&(r=new Hu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ep(e),[n,r]=Ip(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Cp(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Ep(e),[n,r]=Ip(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,kp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xp(wc.min(),r,new _h(yc),bf(),Nf())}}class kp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new kp(n,t,Nf(),Nf(),Nf())}}class Tp{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Np{constructor(e,t){this.targetId=e,this.Vt=t}}class Rp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Pp{constructor(){this.St=0,this.Dt=Lp(),this.Ct=jh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Nf(),t=Nf(),n=Nf();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tc()}})),new kp(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Lp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Dp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bf(),this.zt=_p(),this.Wt=new _h(yc)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:tc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Xd(s))if(0===r){const e=new xc(s.path);this.Yt(n,e,bd.newNoDocument(e,wc.min()))}else nc(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=vp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Hh(i).toUint8Array()}catch(e){if(e instanceof Fh)return $u("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Cp(a,s,o)}catch(e){return $u(e instanceof Sp?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Xd(i.target)){const t=new xc(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,bd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Nf();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new xp(e,t,this.Wt,this.jt,n);return this.jt=bf(),this.zt=_p(),this.Wt=new _h(yc),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Pp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Oh(yc),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ju("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Pp),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _p(){return new _h(xc.comparator)}function Lp(){return new _h(xc.comparator)}const Bp={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mp={and:"AND",or:"OR"};class Vp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(e,t){return e.useProto3Json||Zc(t)?t:{value:t}}function Fp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qp(e,t){return Fp(e,t.toTimestamp())}function zp(e){return nc(!!e),wc.fromTimestamp(function(e){const t=zh(e);return new bc(t.seconds,t.nanos)}(e))}function qp(e,t){return function(e){return new Ic(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Hp(e){const t=Ic.fromString(e);return nc(fm(t)),t}function Wp(e,t){return qp(e.databaseId,t.path)}function Gp(e,t){const n=Hp(t);if(n.get(1)!==e.databaseId.projectId)throw new sc(ic.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sc(ic.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xc(Jp(n))}function Kp(e,t){return qp(e.databaseId,t)}function Xp(e){const t=Hp(e);return 4===t.length?Ic.emptyPath():Jp(t)}function Yp(e){return new Ic(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jp(e){return nc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zp(e,t,n){return{name:Wp(e,t),fields:n.value.mapValue.fields}}function $p(e,t,n){const r=Gp(e,t.name),i=zp(t.updateTime),s=t.createTime?zp(t.createTime):wc.min(),o=new vd({mapValue:{fields:t.fields}}),a=bd.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function em(e,t){let n;if(t instanceof rp)n={update:Zp(e,t.key,t.value)};else if(t instanceof lp)n={delete:Wp(e,t.key)};else if(t instanceof ip)n={update:Zp(e,t.key,t.data),updateMask:dm(t.fieldMask)};else{if(!(t instanceof up))return tc();n={verify:Wp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ff)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw tc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tc()}(e,t.precondition)),n}function tm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Xf.updateTime(zp(e.updateTime)):void 0!==e.exists?Xf.exists(e.exists):Xf.none()}(t.currentDocument):Xf.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)nc("REQUEST_TIME"===t.setToServerValue),n=new Uf;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ff(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Qf(e)}else"increment"in t?n=new qf(e,t.increment):tc();const r=Sc.fromServerFormat(t.fieldPath);return new Gf(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Gp(e,t.update.name),s=new vd({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Uh(t.map((e=>Sc.fromServerFormat(e))))}(t.updateMask);return new ip(i,s,e,n,r)}return new rp(i,s,n,r)}if(t.delete){const r=Gp(e,t.delete);return new lp(r,n)}if(t.verify){const r=Gp(e,t.verify);return new up(r,n)}return tc()}function nm(e,t){return{documents:[Kp(e,t.path)]}}function rm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return hm(Td.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:um(e.field),direction:om(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Up(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function im(e){let t=Xp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=sm(e);return t instanceof Td&&Pd(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Cd(cm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Zc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new wd(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new wd(n,t)}(n.endAt)),ef(t,i,o,s,a,"F",l,u)}function sm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cm(e.unaryFilter.field);return kd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=cm(e.unaryFilter.field);return kd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cm(e.unaryFilter.field);return kd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cm(e.unaryFilter.field);return kd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tc()}}(e):void 0!==e.fieldFilter?function(e){return kd.create(cm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Td.create(e.compositeFilter.filters.map((e=>sm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tc()}}(e.compositeFilter.op))}(e):tc()}function om(e){return Bp[e]}function am(e){return Op[e]}function lm(e){return Mp[e]}function um(e){return{fieldPath:e.canonicalString()}}function cm(e){return Sc.fromServerFormat(e.fieldPath)}function hm(e){return e instanceof kd?function(e){if("=="===e.op){if(cd(e.value))return{unaryFilter:{field:um(e.field),op:"IS_NAN"}};if(ud(e.value))return{unaryFilter:{field:um(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cd(e.value))return{unaryFilter:{field:um(e.field),op:"IS_NOT_NAN"}};if(ud(e.value))return{unaryFilter:{field:um(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:um(e.field),op:am(e.op),value:e.value}}}(e):e instanceof Td?function(e){const t=e.getFilters().map((e=>hm(e)));return 1===t.length?t[0]:{compositeFilter:{op:lm(e.op),filters:t}}}(e):tc()}function dm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class pm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jh.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new pm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mm{constructor(e){this.fe=e}}function gm(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ym(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Wp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fp(e,t.version.toTimestamp()),createTime:Fp(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vm(t.version)};else{if(!t.isUnknownDocument())return tc();r.unknownDocument={path:n.path.toArray(),version:vm(t.version)}}return r}function ym(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vm(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Am(e){const t=new bc(e.seconds,e.nanoseconds);return wc.fromTimestamp(t)}function bm(e,t){const n=(t.baseMutations||[]).map((t=>tm(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>tm(e.fe,t))),i=bc.fromMillis(t.localWriteTimeMs);return new cp(t.batchId,i,n,r)}function wm(e){const t=Am(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Am(e.lastLimboFreeSnapshotVersion):wc.min();let r;var i;return void 0!==e.query.documents?(nc(1===(i=e.query).documents.length),r=lf(tf(Xp(i.documents[0])))):r=function(e){return lf(im(e))}(e.query),new pm(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,jh.fromBase64String(e.resumeToken))}function Em(e,t){const n=vm(t.snapshotVersion),r=vm(t.lastLimboFreeSnapshotVersion);let i;i=Xd(t.target)?nm(e.fe,t.target):rm(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Gd(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Im(e){const t=im({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cf(t,t.limit,"L"):t}function Cm(e,t){return new dp(t.largestBatchId,tm(e.fe,t.overlayMutation))}function Sm(e,t){const n=t.path.lastSegment();return[e,th(t.path.popLast()),n]}function xm(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:vm(r.readTime),documentKey:th(r.documentKey.path),largestBatchId:r.largestBatchId}}class km{getBundleMetadata(e,t){return Tm(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Am(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Tm(e).put({bundleId:(n=t).id,createTime:vm(zp(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Nm(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Im(t.bundledQuery),readTime:Am(t.readTime)};var t}))}saveNamedQuery(e,t){return Nm(e).put(function(e){return{name:e.name,readTime:vm(zp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Tm(e){return Nh(e,"bundles")}function Nm(e){return Nh(e,"namedQueries")}class Rm{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new Rm(e,n)}getOverlay(e,t){return Pm(e).get(Sm(this.userId,t)).next((e=>e?Cm(this.serializer,e):null))}getOverlays(e,t){const n=Cf();return Uc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new dp(t,i);r.push(this.we(e,s))})),Uc.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(th(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Pm(e).J("collectionPathOverlayIndex",r))})),Uc.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Cf(),i=th(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pm(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Cm(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Cf();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pm(e).X({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Cm(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}we(e,t){return Pm(e).put(function(e,t,n){const[r,i,s]=Sm(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:em(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function Pm(e){return Nh(e,"documentOverlays")}class Dm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qh(e.integerValue));else if("doubleValue"in e){const n=qh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),$c(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Hh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?fd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):tc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),xc.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function _m(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Lm(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=_m(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Dm.Ve=new Dm;class Bm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=Lm(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=Lm(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Om{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Mm{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Vm{constructor(){this.je=new Bm,this.ze=new Om(this.je),this.We=new Mm(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Um{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Um(this.indexId,this.documentKey,this.arrayValue,n)}}function Fm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=jm(e.arrayValue,t.arrayValue),0!==n?n:(n=jm(e.directionalValue,t.directionalValue),0!==n?n:xc.comparator(e.documentKey,t.documentKey)))}function jm(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Qm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){nc(e.collectionGroup===this.collectionId);const t=Tc(e);if(void 0!==t&&!this.en(t))return!1;const n=Nc(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[s++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function zm(e){var t,n;if(nc(e instanceof kd||e instanceof Td),e instanceof kd){if(e instanceof Qd){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>kd.create(e.field,"==",t))))||[];return Td.create(r,"or")}return e}const r=e.filters.map((e=>zm(e)));return Td.create(r,e.op)}function qm(e){if(0===e.getFilters().length)return[];const t=Km(zm(e));return nc(Gm(t)),Hm(t)||Wm(t)?[t]:t.getFilters()}function Hm(e){return e instanceof kd}function Wm(e){return e instanceof Td&&Pd(e)}function Gm(e){return Hm(e)||Wm(e)||function(e){if(e instanceof Td&&Rd(e)){for(const t of e.getFilters())if(!Hm(t)&&!Wm(t))return!1;return!0}return!1}(e)}function Km(e){if(nc(e instanceof kd||e instanceof Td),e instanceof kd)return e;if(1===e.filters.length)return Km(e.filters[0]);const t=e.filters.map((e=>Km(e)));let n=Td.create(t,e.op);return n=Jm(n),Gm(n)?n:(nc(n instanceof Td),nc(Nd(n)),nc(n.filters.length>1),n.filters.reduce(((e,t)=>Xm(e,t))))}function Xm(e,t){let n;return nc(e instanceof kd||e instanceof Td),nc(t instanceof kd||t instanceof Td),n=e instanceof kd?t instanceof kd?function(e,t){return Td.create([e,t],"and")}(e,t):Ym(e,t):t instanceof kd?Ym(t,e):function(e,t){if(nc(e.filters.length>0&&t.filters.length>0),Nd(e)&&Nd(t))return Bd(e,t.getFilters());const n=Rd(e)?e:t,r=Rd(e)?t:e,i=n.filters.map((e=>Xm(e,r)));return Td.create(i,"or")}(e,t),Jm(n)}function Ym(e,t){if(Nd(t))return Bd(t,e.getFilters());{const n=t.filters.map((t=>Xm(e,t)));return Td.create(n,"or")}}function Jm(e){if(nc(e instanceof kd||e instanceof Td),e instanceof kd)return e;const t=e.getFilters();if(1===t.length)return Jm(t[0]);if(Dd(e))return e;const n=t.map((e=>Jm(e))),r=[];return n.forEach((t=>{t instanceof kd?r.push(t):t instanceof Td&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Td.create(r,e.op)}class Zm{constructor(){this.rn=new $m}addToCollectionParentIndex(e,t){return this.rn.add(t),Uc.resolve()}getCollectionParents(e,t){return Uc.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Uc.resolve()}deleteFieldIndex(e,t){return Uc.resolve()}getDocumentsMatchingTarget(e,t){return Uc.resolve(null)}getIndexType(e,t){return Uc.resolve(0)}getFieldIndexes(e,t){return Uc.resolve([])}getNextCollectionGroupToUpdate(e){return Uc.resolve(null)}getMinOffset(e,t){return Uc.resolve(Lc.min())}getMinOffsetFromCollectionGroup(e,t){return Uc.resolve(Lc.min())}updateCollectionGroup(e,t,n){return Uc.resolve()}updateIndexEntries(e,t){return Uc.resolve()}}class $m{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Oh(Ic.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Oh(Ic.comparator)).toArray()}}const eg=new Uint8Array(0);class tg{constructor(e,t){this.user=e,this.databaseId=t,this.on=new $m,this.un=new vf((e=>Gd(e)),((e,t)=>Kd(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:th(r)};return ng(e).put(i)}return Uc.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ac(t),""],!1,!0);return ng(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ih(r.parent))}return n}))}addFieldIndex(e,t){const n=ig(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=sg(e);return i.next((e=>{n.put(xm(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=ig(e),r=sg(e),i=rg(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=rg(e);let r=!0;const i=new Map;return Uc.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Nf();const r=[];return Uc.forEach(i,((i,s)=>{var o;Ju("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${Gd(t)}`);const a=function(e,t){const n=Tc(t);if(void 0===n)return null;for(const r of Yd(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of Nc(t))for(const t of Yd(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of Nc(t)){const t=0===i.kind?Jd(e,i.fieldPath,e.startAt):Zd(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new wd(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Nc(t)){const t=0===i.kind?Zd(e,i.fieldPath,e.endAt):Jd(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new wd(n,r)}(s,i),h=this.hn(i,s,u),d=this.hn(i,s,c),f=this.ln(i,s,l),p=this.fn(i.indexId,a,h,u.inclusive,d,c.inclusive,f);return Uc.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=xc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Uc.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:qm(Td.create(e.filters,"and")).map((t=>Wd(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.dn(t[c/l]):eg,h=this.wn(e,a,n[c%l],r),d=this._n(e,a,i[c%l],s),f=o.map((t=>this.wn(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}wn(e,t,n,r){const i=new Um(e,xc.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Um(e,xc.empty(),t,n);return r?i.Je():i}an(e,t){const n=new Qm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Uc.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Oh(Sc.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new Vm;for(const r of Nc(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);Dm.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Vm;return Dm.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Vm;return Dm.Ve._e(od(this.databaseId,t),n.He(function(e){const t=Nc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Vm);let i=0;for(const s of Nc(e)){const e=n[i++];for(const n of r)if(this.yn(t,s.fieldPath)&&ld(e))r=this.pn(r,s,e);else{const t=n.He(s.kind);Dm.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Vm;n.seed(e.Qe()),Dm.Ve._e(s,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof kd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=ig(e),r=sg(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Uc.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Pc(t.sequenceNumber,new Lc(Am(t.readTime),new xc(ih(t.documentKey)),t.largestBatchId)):Pc.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Rc(Sc.fromServerFormat(t),n)}));return new kc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:yc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=ig(e),i=sg(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Uc.forEach(t,(t=>i.put(xm(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Uc.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Uc.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Uc.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Uc.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return rg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return rg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=rg(e);let i=new Oh(Fm);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Um(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Oh(Fm);const r=this.mn(t,e);if(null==r)return n;const i=Tc(t);if(null!=i){const s=e.data.field(i.fieldPath);if(ld(s))for(const i of s.arrayValue.values||[])n=n.add(new Um(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Um(t.indexId,e.key,eg,r));return n}vn(e,t,n,r,i){Ju("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Vh(s),l=Vh(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Vh(o)):t?(i(a),a=Vh(s)):(a=Vh(s),l=Vh(o))}}(r,i,Fm,(r=>{s.push(this.Rn(e,t,n,r))}),(r=>{s.push(this.Pn(e,t,n,r))})),Uc.waitFor(s)}Tn(e){let t=1;return sg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Fm(e,t))).filter(((e,t,n)=>!t||0!==Fm(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Fm(s,e),i=Fm(s,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(s),r.push(s.Je());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,eg,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,eg,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Fm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(og)}getMinOffset(e,t){return Uc.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||tc())))).next(og)}}function ng(e){return Nh(e,"collectionParents")}function rg(e){return Nh(e,"indexEntries")}function ig(e){return Nh(e,"indexConfiguration")}function sg(e){return Nh(e,"indexState")}function og(e){nc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Bc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Lc(t.readTime,t.documentKey,n)}const ag={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lg{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new lg(e,lg.DEFAULT_COLLECTION_PERCENTILE,lg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ug(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{nc(1===a)})));const u=[];for(const c of n.mutations){const e=ah(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return Uc.waitFor(s).next((()=>u))}function cg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw tc();t=e.noDocument}return JSON.stringify(t).length}lg.DEFAULT_COLLECTION_PERCENTILE=10,lg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lg.DEFAULT=new lg(41943040,lg.DEFAULT_COLLECTION_PERCENTILE,lg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lg.DISABLED=new lg(-1,0,0);class hg{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){nc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new hg(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fg(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=pg(e),s=fg(e);return s.add({}).next((o=>{nc("number"==typeof o);const a=new cp(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>em(e.fe,t))),i=n.mutations.map((t=>em(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new Oh(((e,t)=>yc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ah(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,lh))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[o]=a.keys()})),Uc.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return fg(e).get(t).next((e=>e?(nc(e.userId===this.userId),bm(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Uc.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return fg(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(nc(t.batchId>=n),i=bm(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return fg(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fg(e).j("userMutationsIndex",t).next((e=>e.map((e=>bm(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=oh(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return pg(e).X({range:r},((n,r,s)=>{const[o,a,l]=n,u=ih(a);if(o===this.userId&&t.path.isEqual(u))return fg(e).get(l).next((e=>{if(!e)throw tc();nc(e.userId===this.userId),i.push(bm(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Oh(yc);const r=[];return t.forEach((t=>{const i=oh(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=pg(e).X({range:s},((e,r,i)=>{const[s,o,a]=e,l=ih(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Uc.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=oh(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Oh(yc);return pg(e).X({range:s},((e,t,i)=>{const[s,a,l]=e,u=ih(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Dn(e,o)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(fg(e).get(t).next((e=>{if(null===e)throw tc();nc(e.userId===this.userId),n.push(bm(this.serializer,e))})))})),Uc.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return ug(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Uc.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Uc.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return pg(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ih(e[1]);r.push(t)}else n.done()})).next((()=>{nc(0===r.length)}))}))}containsKey(e,t){return dg(e,this.userId,t)}xn(e){return mg(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function dg(e,t,n){const r=oh(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return pg(e).X({range:s,Y:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function fg(e){return Nh(e,"mutations")}function pg(e){return Nh(e,"documentMutations")}function mg(e){return Nh(e,"mutationQueues")}class gg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gg(0)}static Mn(){return new gg(-1)}}class yg{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new gg(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>wc.fromTimestamp(new bc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>vg(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(nc(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return vg(e).X(((s,o)=>{const a=wm(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Uc.waitFor(i))).next((()=>r))}forEachTarget(e,t){return vg(e).X(((e,n)=>{const r=wm(n);t(r)}))}$n(e){return Ag(e).get("targetGlobalKey").next((e=>(nc(null!==e),e)))}On(e,t){return Ag(e).put("targetGlobalKey",t)}Fn(e,t){return vg(e).put(Em(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Gd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return vg(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=wm(n);Kd(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=bg(e);return t.forEach((t=>{const s=th(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Uc.waitFor(r)}removeMatchingKeys(e,t,n){const r=bg(e);return Uc.forEach(t,(t=>{const i=th(t.path);return Uc.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=bg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bg(e);let i=Nf();return r.X({range:n,Y:!0},((e,t,n)=>{const r=ih(e[1]),s=new xc(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=th(t.path),r=IDBKeyRange.bound([n],[Ac(n)],!1,!0);let i=0;return bg(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return vg(e).get(t).next((e=>e?wm(e):null))}}function vg(e){return Nh(e,"targets")}function Ag(e){return Nh(e,"targetGlobal")}function bg(e){return Nh(e,"targetDocuments")}function wg(e,t){let[n,r]=e,[i,s]=t;const o=yc(n,i);return 0===o?yc(r,s):o}class Eg{constructor(e){this.Ln=e,this.buffer=new Oh(wg),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();wg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ig{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Ju("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){qc(e)?Ju("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Vc(e)}await this.Qn(3e5)}))}}class Cg{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Uc.resolve(Jc.ct);const n=new Eg(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ju("LruGarbageCollector","Garbage collection skipped; disabled"),Uc.resolve(ag)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ju("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ag):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ju("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Yu()<=Xe.DEBUG&&Ju("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Uc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Sg(e,t){return new Cg(e,t)}class xg{constructor(e,t){this.db=e,this.garbageCollector=Sg(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return kg(e,n)}removeReference(e,t,n){return kg(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return kg(e,t)}Xn(e,t){return function(e,t){let n=!1;return mg(e).Z((r=>dg(e,r,t).next((e=>(e&&(n=!0),Uc.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,wc.min()),bg(e).delete([0,th(s.path)]))))}));r.push(t)}})).next((()=>Uc.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return kg(e,t)}Yn(e,t){const n=bg(e);let r,i=Jc.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Jc.ct&&t(new xc(ih(r)),i),i=l,r=a):i=Jc.ct})).next((()=>{i!==Jc.ct&&t(new xc(ih(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kg(e,t){return bg(e).put(function(e,t){return{targetId:0,path:th(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Tg{constructor(){this.changes=new vf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Uc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ng{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return _g(e).put(n)}removeEntry(e,t,n){return _g(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ym(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=bd.newInvalidDocument(t);return _g(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Lg(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:bd.newInvalidDocument(t)};return _g(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Lg(t))},((e,r)=>{n={document:this.ts(t,r),size:cg(r)}})).next((()=>n))}getEntries(e,t){let n=bf();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=bf(),r=new _h(xc.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,cg(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Uc.resolve();let r=new Oh(Og);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Lg(r.first()),Lg(r.last())),s=r.getIterator();let o=s.getNext();return _g(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=xc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Og(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.G(Lg(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),ym(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _g(e).j(IDBKeyRange.bound(s,o,!0)).next((e=>{let n=bf();for(const i of e){const e=this.ts(xc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(pf(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=bf();const s=Bg(t,n),o=Bg(t,Lc.max());return _g(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.ts(xc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Pg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Dg(e).get("remoteDocumentGlobalKey").next((e=>(nc(!!e),e)))}Zn(e,t){return Dg(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=$p(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=xc.fromSegments(t.noDocument.path),r=Am(t.noDocument.readTime);n=bd.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return tc();{const e=xc.fromSegments(t.unknownDocument.path),r=Am(t.unknownDocument.version);n=bd.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new bc(e[0],e[1]);return wc.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(wc.min()))return e}return bd.newInvalidDocument(e)}}function Rg(e){return new Ng(e)}class Pg extends Tg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new vf((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Oh(((e,t)=>yc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.us.get(i);if(t.push(this.os.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=gm(this.os.serializer,s);r=r.add(i.path.popLast());const l=cg(a);n+=l-o.size,t.push(this.os.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=gm(this.os.serializer,s.convertToNoDocument(wc.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Uc.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Dg(e){return Nh(e,"remoteDocumentGlobal")}function _g(e){return Nh(e,"remoteDocumentsV14")}function Lg(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Bg(e,t){const n=t.documentKey.path.toArray();return[e,ym(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Og(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=yc(n[s],r[s]),i)return i;return i=yc(n.length,r.length),i||(i=yc(n[n.length-2],r[r.length-2]),i||yc(n[n.length-1],r[r.length-1]))}class Mg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ep(n.mutation,e,Uh.empty(),bc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Nf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nf();const r=Cf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ef();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Cf();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Nf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=bf();const s=xf(),o=xf();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ip)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ep(o.mutation,t,o.mutation.getFieldMask(),bc.now())):s.set(t.key,Uh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Mg(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=xf();let r=new _h(((e,t)=>e-t)),i=Nf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Uh.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Nf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Sf();l.forEach((e=>{if(!i.has(e)){const r=Zf(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Uc.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return xc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):of(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Uc.resolve(Cf());let o=-1,a=i;return s.next((t=>Uc.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Uc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Nf()))).next((e=>({batchId:o,changes:If(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xc(t)).next((e=>{let t=Ef();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ef();return this.indexManager.getCollectionParents(e,r).next((s=>Uc.forEach(s,(s=>{const o=function(e,t){return new $d(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,bd.newInvalidDocument(r)))}));let n=Ef();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&ep(s.mutation,i,Uh.empty(),bc.now()),pf(t,i)&&(n=n.insert(e,i))})),n}))}}class Ug{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Uc.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:zp(n.createTime)}),Uc.resolve()}getNamedQuery(e,t){return Uc.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Im(e.bundledQuery),readTime:zp(e.readTime)}}(t)),Uc.resolve()}}class Fg{constructor(){this.overlays=new _h(xc.comparator),this.ls=new Map}getOverlay(e,t){return Uc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Cf();return Uc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Uc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Uc.resolve()}getOverlaysForCollection(e,t,n){const r=Cf(),i=t.length+1,s=new xc(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Uc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new _h(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Cf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Cf(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Uc.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dp(t,n));let i=this.ls.get(t);void 0===i&&(i=Nf(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class jg{constructor(){this.fs=new Oh(Qg.ds),this.ws=new Oh(Qg._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Qg(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Qg(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new xc(new Ic([])),n=new Qg(t,e),r=new Qg(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new xc(new Ic([])),n=new Qg(t,e),r=new Qg(t,e+1);let i=Nf();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Qg(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Qg{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return xc.comparator(e.key,t.key)||yc(e.As,t.As)}static _s(e,t){return yc(e.As,t.As)||xc.comparator(e.key,t.key)}}class zg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Oh(Qg.ds)}checkEmpty(e){return Uc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cp(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Qg(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Uc.resolve(s)}lookupMutationBatch(e,t){return Uc.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Uc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Uc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Uc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Qg(t,0),r=new Qg(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Uc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Oh(yc);return t.forEach((e=>{const t=new Qg(e,0),r=new Qg(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Uc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xc.isDocumentKey(i)||(i=i.child(""));const s=new Qg(new xc(i),0);let o=new Oh(yc);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),Uc.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Uc.forEach(t.mutations,(r=>{const i=new Qg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Qg(t,0),r=this.Rs.firstAfterOrEqual(n);return Uc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Uc.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qg{constructor(e){this.Ds=e,this.docs=new _h(xc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Uc.resolve(n?n.document.mutableCopy():bd.newInvalidDocument(t))}getEntries(e,t){let n=bf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():bd.newInvalidDocument(e))})),Uc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=bf();const s=t.path,o=new xc(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Bc(_c(o),n)<=0||(r.has(o.key)||pf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Uc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){tc()}Cs(e,t){return Uc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hg(this)}getSize(e){return Uc.resolve(this.size)}}class Hg extends Tg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Uc.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wg{constructor(e){this.persistence=e,this.xs=new vf((e=>Gd(e)),Kd),this.lastRemoteSnapshotVersion=wc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jg,this.targetCount=0,this.Ms=gg.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Uc.resolve()}getLastRemoteSnapshotVersion(e){return Uc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Uc.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Uc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Uc.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new gg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Uc.resolve()}updateTargetData(e,t){return this.Fn(t),Uc.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Uc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Uc.waitFor(i).next((()=>r))}getTargetCount(e){return Uc.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Uc.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Uc.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Uc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Uc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Uc.resolve(n)}containsKey(e,t){return Uc.resolve(this.ks.containsKey(t))}}class Gg{constructor(e,t){this.$s={},this.overlays={},this.Os=new Jc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wg(this),this.indexManager=new Zm,this.remoteDocumentCache=function(e){return new qg(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new mm(t),this.qs=new Ug(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new zg(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ju("MemoryPersistence","Starting transaction:",e);const r=new Kg(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Uc.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Kg extends Mc{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Qs=new jg,this.js=null}static zs(e){return new Xg(e)}get Ws(){if(this.js)return this.js;throw tc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Uc.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Uc.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Uc.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uc.forEach(this.Ws,(n=>{const r=xc.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,wc.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Uc.or([()=>Uc.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Yg{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Fc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sh,{unique:!0}),e.createObjectStore("documentMutations")}(e),Jg(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Uc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Jg(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sh,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Uc.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ys(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(s=s.next((()=>this.Zs(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ei(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:bh});t.createIndex("collectionPathOverlayIndex",wh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Eh,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:uh});t.createIndex("documentKeyIndex",ch),t.createIndex("collectionGroupIndex",hh)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gh}).createIndex("sequenceNumberIndex",yh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vh}).createIndex("documentKeyIndex",Ah,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=cg(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Uc.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Uc.forEach(n,(n=>{nc(n.userId===t.userId);const r=bm(this.serializer,n);return ug(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const s=new Ic(n),o=function(e){return[0,th(e)]}(s);r.push(t.get(o).next((n=>n?Uc.resolve():(n=>t.put({targetId:0,path:th(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Uc.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:mh});const n=t.store("collectionParents"),r=new $m,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:th(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Ic(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,s]=e;const o=ih(r);return i(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=wm(n),i=Em(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new xc(Ic.fromString(o.document.name).popFirst(5)):o.noDocument?xc.fromSegments(o.noDocument.path):o.unknownDocument?xc.fromSegments(o.unknownDocument.path):tc()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Uc.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Rg(this.serializer),i=new Gg(Xg.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Nf();bm(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Uc.forEach(n,((e,n)=>{const s=new Gu(n),o=Rm.de(this.serializer,s),a=i.getIndexManager(s),l=hg.de(s,this.serializer,a,i.referenceDelegate);return new Vg(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Th(t,Jc.ct),e).next()}))}))}}function Jg(e){e.createObjectStore("targetDocuments",{keyPath:fh}).createIndex("documentTargetsIndex",ph,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dh,{unique:!0}),e.createObjectStore("targetGlobal")}const Zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $g{constructor(e,t,n,r,i,s,o,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=s,this.document=o,this.ri=l,this.oi=u,this.ui=c,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!$g.D())throw new sc(ic.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xg(this,r),this.di=t+"main",this.serializer=new mm(a),this.wi=new jc(this.di,this.ui,new Yg(this.serializer)),this.Bs=new yg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rg(this.serializer),this.qs=new km,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Zu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sc(ic.FAILED_PRECONDITION,Zg);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Jc(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ty(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(qc(e))return Ju("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ju("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return ey(e).get("owner").next((e=>Uc.resolve(this.Ri(e))))}Pi(e){return ty(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Nh(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Uc.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Uc.resolve(!0):ey(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new sc(ic.FAILED_PRECONDITION,Zg);return!1}}return!(!this.networkEnabled||!this.inForeground)||ty(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ju("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Th(e,Jc.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>ty(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return hg.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tg(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Rm.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Ju("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.ui)?kh:14===s?xh:13===s?Sh:12===s?Ch:11===s?Ih:void tc();var s;let o;return this.wi.runTransaction(e,r,i,(r=>(o=new Th(r,this.Os?this.Os.next():Jc.ct),"readwrite-primary"===t?this.Ti(o).next((e=>!!e||this.Ei(o))).next((t=>{if(!t)throw Zu(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new sc(ic.FAILED_PRECONDITION,Oc);return n(o)})).next((e=>this.vi(o).next((()=>e)))):this.Oi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Oi(e){return ey(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new sc(ic.FAILED_PRECONDITION,Zg)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ey(e).put("owner",t)}static D(){return jc.D()}Ai(e){const t=ey(e);return t.get("owner").next((e=>this.Ri(e)?(Ju("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Uc.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Zu(`Detected an update time that is in the future: ${e} > ${n}`),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Ne()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ju("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Zu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Zu("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ey(e){return Nh(e,"owner")}function ty(e){return Nh(e,"clientMetadata")}function ny(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ry{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Nf(),r=Nf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ry(e,t.fromCache,n,r)}}class iy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(nf(t))return Uc.resolve(null);let n=lf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=cf(t,null,"F"),n=lf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Nf(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,cf(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return nf(t)||r.isEqual(wc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Yu()<=Xe.DEBUG&&Ju("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ff(t)),this.Wi(e,s,t,Dc(r,-1)))}))}ji(e,t){let n=new Oh(gf(e));return t.forEach(((t,r)=>{pf(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Yu()<=Xe.DEBUG&&Ju("QueryEngine","Using full collection scan to execute query:",ff(t)),this.Ui.getDocumentsMatchingQuery(e,t,Lc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class sy{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new _h(yc),this.Yi=new vf((e=>Gd(e)),Kd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function oy(e,t,n,r){return new sy(e,t,n,r)}async function ay(e,t){const n=rc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Nf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function ly(e){const t=rc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function uy(e,t,n){let r=Nf(),i=Nf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=bf();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(wc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ju("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function cy(e,t){const n=rc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function hy(e,t){const n=rc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Uc.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new pm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function dy(e,t,n){const r=rc(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!qc(e))throw e;Ju("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function fy(e,t,n){const r=rc(e);let i=wc.min(),s=Nf();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=rc(e),i=r.Yi.get(n);return void 0!==i?Uc.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,lf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:wc.min(),n?s:Nf()))).next((e=>(gy(r,mf(t),e),{documents:e,ir:s})))))}function py(e,t){const n=rc(e),r=rc(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function my(e,t){const n=rc(e),r=n.Xi.get(t)||wc.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Dc(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(gy(n,t,e),e)))}function gy(e,t,n){let r=e.Xi.get(t)||wc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function yy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nf();const r=await hy(e,lf(Im(t.bundledQuery))),i=rc(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=zp(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.qs.saveNamedQuery(e,t);const o=r.withResumeToken(jh.EMPTY_BYTE_STRING,s);return i.Ji=i.Ji.insert(o.targetId,o),i.Bs.updateTargetData(e,o).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function vy(e,t){return`firestore_clients_${e}_${t}`}function Ay(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function by(e,t){return`firestore_targets_${e}_${t}`}class wy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new sc(r.error.code,r.error.message))),s?new wy(e,t,r.state,i):(Zu("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ey{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new sc(n.error.code,n.error.message))),i?new Ey(e,n.state,r):(Zu("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Pf();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=eh(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Iy(e,i):(Zu("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cy{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cy(t.clientId,t.onlineState):(Zu("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sy{constructor(){this.activeTargetIds=Pf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xy{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new _h(yc),this.started=!1,this.yr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=vy(this.persistenceKey,this.wr),this.Ir=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Sy),this.Tr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Rr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(vy(this.persistenceKey,n));if(e){const t=Iy.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(by(this.persistenceKey,e));if(n){const r=Ey.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(by(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ju("SharedClientState","READ",e,t),t}setItem(e,t){Ju("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ju("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Ju("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Zu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Jc.ct;if(null!=e)try{const n=JSON.parse(e);nc("number"==typeof n),t=n}catch(e){Zu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Jc.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new wy(this.currentUser,e,t,n),i=Ay(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=Ay(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=by(this.persistenceKey,e),i=new Ey(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return Iy.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wy.ar(new Gu(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return Ey.ar(r,t)}br(e){return Cy.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Ju("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Wr(s,o).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Pf();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ky{constructor(){this.Hr=new Sy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Sy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ty{Yr(e){}shutdown(){}}class Ny{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ju("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ju("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ry=null;function Py(){return null===Ry?Ry=268435456+Math.round(2147483648*Math.random()):Ry++,"0x"+Ry.toString(16)}const Dy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _y{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ly="WebChannelConnection";class By extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Py(),o=this.To(e,t);Ju("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(Ju("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw $u("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ku,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Dy[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Py();return new Promise(((s,o)=>{const a=new zu;a.setWithCredentials(!0),a.listenOnce(Vu.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Mu.NO_ERROR:const t=a.getResponseJson();Ju(Ly,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Mu.TIMEOUT:Ju(Ly,`RPC '${e}' ${i} timed out`),o(new sc(ic.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const n=a.getStatus();if(Ju(Ly,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ic).indexOf(t)>=0?t:ic.UNKNOWN}(t.status);o(new sc(e,t.message))}else o(new sc(ic.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new sc(ic.UNAVAILABLE,"Connection failed."));break;default:tc()}}finally{Ju(Ly,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Ju(Ly,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Py(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bu(),o=Ou(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new ju({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Ju(Ly,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new _y({ro:t=>{d?Ju(Ly,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Ju(Ly,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),Ju(Ly,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Qu.EventType.OPEN,(()=>{d||Ju(Ly,`RPC '${e}' stream ${r} transport opened.`)})),p(c,Qu.EventType.CLOSE,(()=>{d||(d=!0,Ju(Ly,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(c,Qu.EventType.ERROR,(t=>{d||(d=!0,$u(Ly,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new sc(ic.UNAVAILABLE,"The operation could not be completed")))})),p(c,Qu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];nc(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ju(Ly,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=pp[e];if(void 0!==t)return yp(t)}(t),i=o.message;void 0===n&&(n=ic.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new sc(n,i)),c.close()}else Ju(Ly,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(o,Uu.STAT_EVENT,(t=>{t.stat===Fu.PROXY?Ju(Ly,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Fu.NOPROXY&&Ju(Ly,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function Oy(){return"undefined"!=typeof window?window:null}function My(){return"undefined"!=typeof document?document:null}function Vy(e){return new Vp(e,!0)}class Uy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ju("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fy{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Uy(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===ic.RESOURCE_EXHAUSTED?(Zu(t.toString()),Zu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===ic.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new sc(ic.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Ju("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Ju("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jy extends Fy{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(nc(void 0===t||"string"==typeof t),jh.fromBase64String(t||"")):(nc(void 0===t||t instanceof Uint8Array),jh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ic.UNKNOWN:yp(e.code);return new sc(t,e.message||"")}(o);n=new Rp(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gp(e,r.document.name),s=zp(r.document.updateTime),o=r.document.createTime?zp(r.document.createTime):wc.min(),a=new vd({mapValue:{fields:r.document.fields}}),l=bd.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Tp(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gp(e,r.document),s=r.readTime?zp(r.readTime):wc.min(),o=bd.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tp([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gp(e,r.document),s=r.removedTargetIds||[];n=new Tp([],s,i,null)}else{if(!("filter"in t))return tc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new fp(r,i),o=e.targetId;n=new Np(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?wc.min():t.readTime?zp(t.readTime):wc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Yp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Xd(r)?{documents:nm(e,r)}:{query:rm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jp(e,t.resumeToken);const r=Up(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(wc.min())>0){n.readTime=Fp(e,t.snapshotVersion.toTimestamp());const r=Up(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Yp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Qy extends Fy{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(nc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(nc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?zp(e.updateTime):zp(t);return n.isEqual(wc.min())&&(n=zp(t)),new Kf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=zp(e.commitTime);return this.listener.cu(n,t)}return nc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>em(this.serializer,e)))};this.Wo(t)}}class zy extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new sc(ic.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ic.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sc(ic.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ic.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sc(ic.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class qy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Zu(t),this.mu=!1):Ju("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{ev(this)&&(Ju("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=rc(e);t.vu.add(4),await Gy(t),t.bu.set("Unknown"),t.vu.delete(4),await Wy(t)}(this))}))})),this.bu=new qy(n,r)}}async function Wy(e){if(ev(e))for(const t of e.Ru)await t(!0)}async function Gy(e){for(const t of e.Ru)await t(!1)}function Ky(e,t){const n=rc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),$y(n)?Zy(n):vv(n).Ko()&&Yy(n,t))}function Xy(e,t){const n=rc(e),r=vv(n);n.Au.delete(t),r.Ko()&&Jy(n,t),0===n.Au.size&&(r.Ko()?r.jo():ev(n)&&n.bu.set("Unknown"))}function Yy(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vv(e).su(t)}function Jy(e,t){e.Vu.qt(t),vv(e).iu(t)}function Zy(e){e.Vu=new Dp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),vv(e).start(),e.bu.gu()}function $y(e){return ev(e)&&!vv(e).Uo()&&e.Au.size>0}function ev(e){return 0===rc(e).vu.size}function tv(e){e.Vu=void 0}async function nv(e){e.Au.forEach(((t,n)=>{Yy(e,t)}))}async function rv(e,t){tv(e),$y(e)?(e.bu.Iu(t),Zy(e)):e.bu.set("Unknown")}async function iv(e,t,n){if(e.bu.set("Online"),t instanceof Rp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ju("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sv(e,n)}else if(t instanceof Tp?e.Vu.Ht(t):t instanceof Np?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(wc.min()))try{const t=await ly(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(jh.EMPTY_BYTE_STRING,r.snapshotVersion)),Jy(e,t);const i=new pm(r.target,t,n,r.sequenceNumber);Yy(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ju("RemoteStore","Failed to raise snapshot:",t),await sv(e,t)}}async function sv(e,t,n){if(!qc(t))throw t;e.vu.add(1),await Gy(e),e.bu.set("Offline"),n||(n=()=>ly(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ju("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Wy(e)}))}function ov(e,t){return t().catch((n=>sv(e,n,t)))}async function av(e){const t=rc(e),n=Av(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;lv(t);)try{const e=await cy(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,uv(t,e)}catch(e){await sv(t,e)}cv(t)&&hv(t)}function lv(e){return ev(e)&&e.Eu.length<10}function uv(e,t){e.Eu.push(t);const n=Av(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function cv(e){return ev(e)&&!Av(e).Uo()&&e.Eu.length>0}function hv(e){Av(e).start()}async function dv(e){Av(e).hu()}async function fv(e){const t=Av(e);for(const n of e.Eu)t.uu(n.mutations)}async function pv(e,t,n){const r=e.Eu.shift(),i=hp.from(r,t,n);await ov(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await av(e)}async function mv(e,t){t&&Av(e).ou&&await async function(e,t){if(gp(n=t.code)&&n!==ic.ABORTED){const n=e.Eu.shift();Av(e).Qo(),await ov(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await av(e)}var n}(e,t),cv(e)&&hv(e)}async function gv(e,t){const n=rc(e);n.asyncQueue.verifyOperationInProgress(),Ju("RemoteStore","RemoteStore received new credentials");const r=ev(n);n.vu.add(3),await Gy(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Wy(n)}async function yv(e,t){const n=rc(e);t?(n.vu.delete(2),await Wy(n)):t||(n.vu.add(2),await Gy(n),n.bu.set("Unknown"))}function vv(e){return e.Su||(e.Su=function(e,t,n){const r=rc(e);return r.fu(),new jy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:nv.bind(null,e),ao:rv.bind(null,e),nu:iv.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),$y(e)?Zy(e):e.bu.set("Unknown")):(await e.Su.stop(),tv(e))}))),e.Su}function Av(e){return e.Du||(e.Du=function(e,t,n){const r=rc(e);return r.fu(),new Qy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:dv.bind(null,e),ao:mv.bind(null,e),au:fv.bind(null,e),cu:pv.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await av(e)):(await e.Du.stop(),e.Eu.length>0&&(Ju("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class bv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new oc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new bv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sc(ic.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(e,t){if(Zu("AsyncQueue",`${t}: ${e}`),qc(e))return new sc(ic.UNAVAILABLE,`${t}: ${e}`);throw e}class Ev{constructor(e){this.comparator=e?(t,n)=>e(t,n)||xc.comparator(t.key,n.key):(e,t)=>xc.comparator(e.key,t.key),this.keyedMap=Ef(),this.sortedSet=new _h(this.comparator)}static emptySet(e){return new Ev(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ev))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ev;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Iv{constructor(){this.Cu=new _h(xc.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):tc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Cv{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Cv(e,t,Ev.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sv{constructor(){this.Nu=void 0,this.listeners=[]}}class xv{constructor(){this.queries=new vf((e=>df(e)),hf),this.onlineState="Unknown",this.ku=new Set}}async function kv(e,t){const n=rc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Sv),i)try{s.Nu=await n.onListen(r)}catch(e){const n=wv(e,`Initialization of query '${ff(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Pv(n)}async function Tv(e,t){const n=rc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Nv(e,t){const n=rc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Pv(n)}function Rv(e,t,n){const r=rc(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Pv(e){e.ku.forEach((e=>{e.next()}))}class Dv{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Cv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Cv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _v{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Lv{constructor(e){this.serializer=e}rr(e){return Gp(this.serializer,e)}ur(e){return e.metadata.exists?$p(this.serializer,e.document,!1):bd.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return zp(e)}}class Bv{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ov(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=Ic.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new Lv(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Nf()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=rc(e);let s=Nf(),o=bf();for(const u of n){const e=t.rr(u.metadata.name);u.document&&(s=s.add(e));const n=t.ur(u);n.setReadTime(t.cr(u.metadata.readTime)),o=o.insert(e,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await hy(i,function(e){return lf(tf(Ic.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>uy(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Bs.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new Lv(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await yy(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function Ov(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Mv{constructor(e){this.key=e}}class Vv{constructor(e){this.key=e}}class Uv{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Nf(),this.mutatedKeys=Nf(),this.tc=gf(e),this.ec=new Ev(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Iv,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=pf(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new Cv(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Iv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Nf(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Vv(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Mv(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Nf();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Cv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jv{constructor(e){this.key=e,this.fc=!1}}class Qv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new vf((e=>df(e)),hf),this._c=new Map,this.mc=new Set,this.gc=new _h(xc.comparator),this.yc=new Map,this.Ic=new jg,this.Tc={},this.Ec=new Map,this.Ac=gg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function zv(e,t){const n=mA(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await hy(n.localStore,lf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await qv(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Ky(n.remoteStore,e)}return i}async function qv(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await fy(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return tA(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await fy(e.localStore,t,!0),o=new Uv(t,s.ir),a=o.sc(s.documents),l=kp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);tA(e,n,u.cc);const c=new Fv(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function Hv(e,t){const n=rc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!hf(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dy(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Xy(n.remoteStore,r.targetId),$v(n,r.targetId)})).catch(Vc)):($v(n,r.targetId),await dy(n.localStore,r.targetId,!0))}async function Wv(e,t){const n=rc(e);try{const e=await function(e,t){const n=rc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(jh.EMPTY_BYTE_STRING,wc.min()).withLastLimboFreeSnapshotVersion(wc.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))}));let a=bf(),l=Nf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(uy(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(wc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Uc.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(nc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?nc(r.fc):e.removedDocuments.size>0&&(nc(r.fc),r.fc=!1))})),await iA(n,e,t)}catch(e){await Vc(e)}}function Gv(e,t,n){const r=rc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=rc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Pv(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kv(e,t,n){const r=rc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new _h(xc.comparator);e=e.insert(s,bd.newNoDocument(s,wc.min()));const n=Nf().add(s),i=new xp(wc.min(),new Map,new _h(yc),e,n);await Wv(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),rA(r)}else await dy(r.localStore,t,!1).then((()=>$v(r,t,n))).catch(Vc)}async function Xv(e,t){const n=rc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=rc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Uc.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);nc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Zv(n,r,null),Jv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iA(n,e)}catch(e){await Vc(e)}}async function Yv(e,t,n){const r=rc(e);try{const e=await function(e,t){const n=rc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Zv(r,t,n),Jv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await iA(r,e)}catch(n){await Vc(n)}}function Jv(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Zv(e,t,n){const r=rc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function $v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||eA(e,t)}))}function eA(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Xy(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),rA(e))}function tA(e,t,n){for(const r of n)r instanceof Mv?(e.Ic.addReference(r.key,t),nA(e,r)):r instanceof Vv?(Ju("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||eA(e,r.key)):tc()}function nA(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ju("SyncEngine","New document in limbo: "+n),e.mc.add(r),rA(e))}function rA(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new xc(Ic.fromString(t)),r=e.Ac.next();e.yc.set(r,new jv(n)),e.gc=e.gc.insert(n,r),Ky(e.remoteStore,new pm(lf(tf(n.path)),r,"TargetPurposeLimboResolution",Jc.ct))}}async function iA(e,t,n){const r=rc(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=ry.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=rc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Uc.forEach(t,(t=>Uc.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Uc.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!qc(e))throw e;Ju("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function sA(e,t){const n=rc(e);if(!n.currentUser.isEqual(t)){Ju("SyncEngine","User change. New user:",t.toKey());const e=await ay(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new sc(ic.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await iA(n,e.er)}}function oA(e,t){const n=rc(e),r=n.yc.get(t);if(r&&r.fc)return Nf().add(r.key);{let e=Nf();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function aA(e,t){const n=rc(e),r=await fy(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&tA(n,t.targetId,i.cc),i}async function lA(e,t){const n=rc(e);return my(n.localStore,t).then((e=>iA(n,e)))}async function uA(e,t,n,r){const i=rc(e),s=await function(e,t){const n=rc(e),r=rc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Uc.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await av(i.remoteStore):"acknowledged"===n||"rejected"===n?(Zv(i,t,r||null),Jv(i,t),function(e,t){rc(rc(e).mutationQueue).Cn(t)}(i.localStore,t)):tc(),await iA(i,s)):Ju("SyncEngine","Cannot apply mutation batch with id: "+t)}async function cA(e,t,n){const r=rc(e),i=[],s=[];for(const o of t){let e;const t=r._c.get(o);if(t&&0!==t.length){e=await hy(r.localStore,lf(t[0]));for(const e of t){const t=r.wc.get(e),n=await aA(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await py(r.localStore,o);e=await hy(r.localStore,t),await qv(r,hA(t),o,!1,e.resumeToken)}i.push(e)}return r.dc.nu(s),i}function hA(e){return ef(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dA(e){const t=rc(e);return rc(rc(t.localStore).persistence).$i()}async function fA(e,t,n,r){const i=rc(e);if(i.vc)return void Ju("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await my(i.localStore,mf(s[0])),r=xp.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,jh.EMPTY_BYTE_STRING);await iA(i,e,r);break}case"rejected":await dy(i.localStore,t,!0),$v(i,t,r);break;default:tc()}}async function pA(e,t,n){const r=mA(e);if(r.vc){for(const e of t){if(r._c.has(e)){Ju("SyncEngine","Adding an already active target "+e);continue}const t=await py(r.localStore,e),n=await hy(r.localStore,t);await qv(r,hA(t),n.targetId,!1,n.resumeToken),Ky(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await dy(r.localStore,e,!1).then((()=>{Xy(r.remoteStore,e),$v(r,e)})).catch(Vc)}}function mA(e){const t=rc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kv.bind(null,t),t.dc.nu=Nv.bind(null,t.eventManager),t.dc.Pc=Rv.bind(null,t.eventManager),t}function gA(e){const t=rc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yv.bind(null,t),t}class yA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return oy(this.persistence,new iy,e.initialUser,this.serializer)}createPersistence(e){return new Gg(Xg.zs,this.serializer)}createSharedClientState(e){return new ky}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class vA extends yA{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await gA(this.Vc.syncEngine),await av(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return oy(this.persistence,new iy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Ig(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Yc(t,this.persistence);return new Xc(e.asyncQueue,n)}createPersistence(e){const t=ny(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lg.withCacheSize(this.cacheSizeBytes):lg.DEFAULT;return new $g(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Oy(),My(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ky}}class AA extends vA{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof xy&&(this.sharedClientState.syncEngine={jr:uA.bind(null,t),zr:fA.bind(null,t),Wr:pA.bind(null,t),$i:dA.bind(null,t),Qr:lA.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=rc(e);if(mA(n),gA(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await cA(n,e.toArray());n.vc=!0,await yv(n.remoteStore,!0);for(const r of t)Ky(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>($v(n,i),dy(n.localStore,i,!0)))),Xy(n.remoteStore,i)})),await t,await cA(n,e),function(e){const t=rc(e);t.yc.forEach(((e,n)=>{Xy(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new _h(xc.comparator)}(n),n.vc=!1,await yv(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Oy();if(!xy.D(t))throw new sc(ic.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=ny(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class bA{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Gv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sA.bind(null,this.syncEngine),await yv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xv}createDatastore(e){const t=Vy(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new By(r));var r;return function(e,t,n,r){return new zy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Gv(this.syncEngine,e,0),s=Ny.D()?new Ny:new Ty,new Hy(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Qv(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=rc(e);Ju("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Gy(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function wA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Zu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class IA{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new oc,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Gu)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc(`length string (${t}) is not valid number`);const r=await this.$c(n);return new _v(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class CA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sc(ic.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=rc(e),r=Yp(n.serializer)+"/documents",i={documents:t.map((e=>Wp(n.serializer,e)))},s=await n.vo("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){nc(!!t.found),t.found.name,t.found.updateTime;const n=Gp(e,t.found.name),r=zp(t.found.updateTime),i=t.found.createTime?zp(t.found.createTime):wc.min(),s=new vd({mapValue:{fields:t.found.fields}});return bd.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){nc(!!t.missing),nc(!!t.readTime);const n=Gp(e,t.missing),r=zp(t.readTime);return bd.newNoDocument(n,r)}(e,t):tc()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());nc(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=xc.fromPath(t);this.mutations.push(new up(n,this.precondition(n)))})),await async function(e,t){const n=rc(e),r=Yp(n.serializer)+"/documents",i={writes:t.map((e=>em(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tc();t=wc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sc(ic.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wc.min())?Xf.exists(!1):Xf.updateTime(t):Xf.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wc.min()))throw new sc(ic.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xf.updateTime(t)}return Xf.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SA{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new Uy(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new CA(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Zc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gp(t)}return!1}}class xA{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gu.UNAUTHENTICATED,this.clientId=gc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ju("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ju("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sc(ic.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kA(e,t){e.asyncQueue.verifyOperationInProgress(),Ju("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ay(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function TA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RA(e);Ju("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>gv(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>gv(t.remoteStore,n))),e._onlineComponents=t}function NA(e){return"FirebaseError"===e.name?e.code===ic.FAILED_PRECONDITION||e.code===ic.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function RA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ju("FirestoreClient","Using user provided OfflineComponentProvider");try{await kA(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!NA(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await kA(e,new yA)}}else Ju("FirestoreClient","Using default OfflineComponentProvider"),await kA(e,new yA);return e._offlineComponents}async function PA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ju("FirestoreClient","Using user provided OnlineComponentProvider"),await TA(e,e._uninitializedComponentsProvider._online)):(Ju("FirestoreClient","Using default OnlineComponentProvider"),await TA(e,new bA))),e._onlineComponents}function DA(e){return RA(e).then((e=>e.persistence))}function _A(e){return RA(e).then((e=>e.localStore))}function LA(e){return PA(e).then((e=>e.remoteStore))}function BA(e){return PA(e).then((e=>e.syncEngine))}function OA(e){return PA(e).then((e=>e.datastore))}async function MA(e){const t=await PA(e),n=t.eventManager;return n.onListen=zv.bind(null,t.syncEngine),n.onUnlisten=Hv.bind(null,t.syncEngine),n}function VA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new oc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new EA({next:s=>{t.enqueueAndForget((()=>Tv(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new sc(ic.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new sc(ic.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Dv(tf(n.path),s,{includeMetadataChanges:!0,Ku:!0});return kv(e,o)}(await MA(e),e.asyncQueue,t,n,r))),r.promise}function UA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new oc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new EA({next:n=>{t.enqueueAndForget((()=>Tv(e,o))),n.fromCache&&"server"===r.source?i.reject(new sc(ic.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dv(n,s,{includeMetadataChanges:!0,Ku:!0});return kv(e,o)}(await MA(e),e.asyncQueue,t,n,r))),r.promise}function FA(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?bp().encode(e):e,function(e,t){return new IA(e,t)}(function(e,t){if(e instanceof Uint8Array)return wA(e,t);if(e instanceof ArrayBuffer)return wA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Vy(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=rc(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=rc(e),r=zp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ov(r));const i=new Bv(r,e.localStore,t.serializer);let s=await t.bc();for(;s;){const e=await i.zu(s);e&&n._updateProgress(e),s=await t.bc()}const o=await i.complete();return await iA(e,o.Ju,void 0),await function(e,t){const n=rc(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Hu)}catch(e){return $u("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await BA(e),i,r)}))}function jA(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const QA=new Map;function zA(e,t,n){if(!n)throw new sc(ic.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qA(e,t,n,r){if(!0===t&&!0===r)throw new sc(ic.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function HA(e){if(!xc.isDocumentKey(e))throw new sc(ic.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function WA(e){if(xc.isDocumentKey(e))throw new sc(ic.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function GA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":tc()}function KA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sc(ic.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=GA(e);throw new sc(ic.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function XA(e,t){if(t<=0)throw new sc(ic.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class YA{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sc(ic.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sc(ic.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jA(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sc(ic.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new sc(ic.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new sc(ic.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class JA{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sc(ic.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sc(ic.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lc;switch(e.type){case"firstParty":return new dc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sc(ic.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QA.get(e);t&&(Ju("ComponentProvider","Removing Datastore"),QA.delete(e),t.terminate())}(this),Promise.resolve()}}function ZA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=KA(e,JA))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new sc(ic.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gu(s)}e._authCredentials=new uc(new ac(t,n))}}class $A{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $A(this.firestore,e,this._key)}}class eb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new eb(this.firestore,e,this._query)}}class tb extends eb{constructor(e,t,n){super(e,t,tf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $A(this.firestore,null,new xc(e))}withConverter(e){return new tb(this.firestore,e,this._path)}}function nb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ze(e),zA("collection","path",t),e instanceof JA){const n=Ic.fromString(t,...r);return WA(n),new tb(e,null,n)}{if(!(e instanceof $A||e instanceof tb))throw new sc(ic.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ic.fromString(t,...r));return WA(n),new tb(e.firestore,null,n)}}function rb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ze(e),1===arguments.length&&(t=gc.A()),zA("doc","path",t),e instanceof JA){const n=Ic.fromString(t,...r);return HA(n),new $A(e,null,new xc(n))}{if(!(e instanceof $A||e instanceof tb))throw new sc(ic.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ic.fromString(t,...r));return HA(n),new $A(e.firestore,e instanceof tb?e.converter:null,new xc(n))}}function ib(e,t){return e=ze(e),t=ze(t),(e instanceof $A||e instanceof tb)&&(t instanceof $A||t instanceof tb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sb(e,t){return e=ze(e),t=ze(t),e instanceof eb&&t instanceof eb&&e.firestore===t.firestore&&hf(e._query,t._query)&&e.converter===t.converter}class ob{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Uy(this,"async_queue_retry"),this.Xc=()=>{const e=My();e&&Ju("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=My();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=My();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new oc;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!qc(e))throw e;Ju("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=bv.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&tc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ab(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class lb{constructor(){this._progressObserver={},this._taskCompletionResolver=new oc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ub extends JA{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ob,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||db(this),this._firestoreClient.terminate()}}function cb(e,t){const n="string"==typeof e?e:t||"(default)",r=$t("object"==typeof e?e:an(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Ce(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ZA(r,...e)}return r}function hb(e){return e._firestoreClient||db(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function db(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Xh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,jA(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new xA(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function fb(e,t,n){const r=new oc;return e.asyncQueue.enqueue((async()=>{try{await kA(e,n),await TA(e,t),r.resolve()}catch(e){const n=e;if(!NA(n))throw n;$u("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function pb(e){return function(e){const t=new oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=rc(e);ev(n.remoteStore)||Ju("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=rc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=wv(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await BA(e),t))),t.promise}(hb(e=KA(e,ub)))}function mb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DA(e),n=await LA(e);return t.setNetworkEnabled(!0),function(e){const t=rc(e);return t.vu.delete(0),Wy(t)}(n)}))}(hb(e=KA(e,ub)))}function gb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DA(e),n=await LA(e);return t.setNetworkEnabled(!1),async function(e){const t=rc(e);t.vu.add(0),await Gy(t),t.bu.set("Offline")}(n)}))}(hb(e=KA(e,ub)))}function yb(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=rc(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await _A(e),t)))}(hb(e=KA(e,ub)),t).then((t=>t?new eb(e,null,t.query):null))}function vb(e){if(e._initialized||e._terminated)throw new sc(ic.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ab{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ab(jh.fromBase64String(e))}catch(e){throw new sc(ic.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ab(jh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new sc(ic.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wb{constructor(e){this._methodName=e}}class Eb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sc(ic.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sc(ic.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yc(this._lat,e._lat)||yc(this._long,e._long)}}const Ib=/^__.*__$/;class Cb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ip(e,this.data,this.fieldMask,t,this.fieldTransforms):new rp(e,this.data,t,this.fieldTransforms)}}class Sb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ip(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tc()}}class kb{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Gb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xb(this.ca)&&Ib.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Tb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vy(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kb({ca:e,methodName:t,ga:n,path:Sc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nb(e){const t=e._freezeSettings(),n=Vy(e._databaseId);return new Tb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rb(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);zb("Data must be an object, but it was:",o,r);const a=jb(r,o);let l,u;if(s.merge)l=new Uh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=qb(t,r,n);if(!o.contains(i))throw new sc(ic.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Kb(e,i)||e.push(i)}l=new Uh(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Cb(new vd(a),l,u)}class Pb extends wb{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pb}}function Db(e,t,n){return new kb({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _b extends wb{_toFieldTransform(e){return new Gf(e.path,new Uf)}isEqual(e){return e instanceof _b}}class Lb extends wb{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Db(this,e,!0),n=this.pa.map((e=>Fb(e,t))),r=new Ff(n);return new Gf(e.path,r)}isEqual(e){return this===e}}class Bb extends wb{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Db(this,e,!0),n=this.pa.map((e=>Fb(e,t))),r=new Qf(n);return new Gf(e.path,r)}isEqual(e){return this===e}}class Ob extends wb{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new qf(e.serializer,Lf(e.serializer,this.Ia));return new Gf(e.path,t)}isEqual(e){return this===e}}function Mb(e,t,n,r){const i=e.ya(1,t,n);zb("Data must be an object, but it was:",i,r);const s=[],o=vd.empty();Ph(r,((e,r)=>{const a=Wb(t,e,n);r=ze(r);const l=i.da(a);if(r instanceof Pb)s.push(a);else{const e=Fb(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Uh(s);return new Sb(o,a,i.fieldTransforms)}function Vb(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[qb(t,r,n)],l=[i];if(s.length%2!=0)throw new sc(ic.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(qb(t,s[d])),l.push(s[d+1]);const u=[],c=vd.empty();for(let d=a.length-1;d>=0;--d)if(!Kb(u,a[d])){const e=a[d];let t=l[d];t=ze(t);const n=o.da(e);if(t instanceof Pb)u.push(e);else{const r=Fb(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Uh(u);return new Sb(c,h,o.fieldTransforms)}function Ub(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fb(n,e.ya(r?4:3,t))}function Fb(e,t){if(Qb(e=ze(e)))return zb("Unsupported field value:",t,e),jb(e,t);if(e instanceof wb)return function(e,t){if(!xb(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fb(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ze(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Lf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bc.fromDate(e);return{timestampValue:Fp(t.serializer,n)}}if(e instanceof bc){const n=new bc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fp(t.serializer,n)}}if(e instanceof Eb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ab)return{bytesValue:jp(t.serializer,e._byteString)};if(e instanceof $A){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:qp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${GA(e)}`)}(e,t)}function jb(e,t){const n={};return Dh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ph(e,((e,r)=>{const i=Fb(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Qb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bc||e instanceof Eb||e instanceof Ab||e instanceof $A||e instanceof wb)}function zb(e,t,n){if(!Qb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=GA(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function qb(e,t,n){if((t=ze(t))instanceof bb)return t._internalPath;if("string"==typeof t)return Wb(e,t);throw Gb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Hb=new RegExp("[~\\*/\\[\\]]");function Wb(e,t,n){if(t.search(Hb)>=0)throw Gb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bb(...t.split("."))._internalPath}catch(r){throw Gb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new sc(ic.INVALID_ARGUMENT,a+e+l)}function Kb(e,t){return e.some((e=>e.isEqual(t)))}class Xb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $A(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yb extends Xb{data(){return super.data()}}function Jb(e,t){return"string"==typeof t?Wb(e,t):t instanceof bb?t._internalPath:t._delegate._internalPath}function Zb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sc(ic.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $b{}class ew extends $b{}function tw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof $b&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof rw)).length,n=e.filter((e=>e instanceof nw)).length;if(t>1||t>0&&n>0)throw new sc(ic.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class nw extends ew{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nw(e,t,n)}_apply(e){const t=this._parse(e);return hw(e._query,t),new eb(e.firestore,e.converter,uf(e._query,t))}_parse(e){const t=Nb(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new sc(ic.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){cw(o,s);const t=[];for(const n of o)t.push(uw(r,e,n));a={arrayValue:{values:t}}}else a=uw(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cw(o,s),a=Ub(n,"where",o,"in"===s||"not-in"===s);return kd.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class rw extends $b{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rw(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Td.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hw(n,i),n=uf(n,i)}(e._query,t),new eb(e.firestore,e.converter,uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iw extends ew{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iw(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new sc(ic.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sc(ic.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Cd(t,n);return function(e,t){if(null===rf(e)){const n=sf(e);null!==n&&dw(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new eb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new $d(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class sw extends ew{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new sw(e,t,n)}_apply(e){return new eb(e.firestore,e.converter,cf(e._query,this._limit,this._limitType))}}class ow extends ew{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ow(e,t,n)}_apply(e){const t=lw(e,this.type,this._docOrFields,this._inclusive);return new eb(e.firestore,e.converter,function(e,t){return new $d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class aw extends ew{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new aw(e,t,n)}_apply(e){const t=lw(e,this.type,this._docOrFields,this._inclusive);return new eb(e.firestore,e.converter,function(e,t){return new $d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lw(e,t,n,r){if(n[0]=ze(n[0]),n[0]instanceof Xb)return function(e,t,n,r,i){if(!r)throw new sc(ic.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of af(e))if(o.field.isKeyField())s.push(od(t,r.key));else{const e=r.data.field(o.field);if(Wh(e))throw new sc(ic.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new sc(ic.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new wd(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Nb(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new sc(ic.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new sc(ic.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!of(e)&&-1!==s.indexOf("/"))throw new sc(ic.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Ic.fromString(s));if(!xc.isDocumentKey(n))throw new sc(ic.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new xc(n);a.push(od(t,i))}else{const e=Ub(n,r,s);a.push(e)}}return new wd(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function uw(e,t,n){if("string"==typeof(n=ze(n))){if(""===n)throw new sc(ic.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!of(t)&&-1!==n.indexOf("/"))throw new sc(ic.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ic.fromString(n));if(!xc.isDocumentKey(r))throw new sc(ic.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return od(e,new xc(r))}if(n instanceof $A)return od(e,n._key);throw new sc(ic.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GA(n)}.`)}function cw(e,t){if(!Array.isArray(e)||0===e.length)throw new sc(ic.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hw(e,t){if(t.isInequality()){const n=sf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new sc(ic.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=rf(e);null!==i&&dw(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sc(ic.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new sc(ic.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function dw(e,t,n){if(!n.isEqual(t))throw new sc(ic.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class fw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($h(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ph(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Eb(qh(e.latitude),qh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Gh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kh(e));default:return null}}convertTimestamp(e){const t=zh(e);return new bc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ic.fromString(e);nc(fm(n));const r=new Yh(n.get(1),n.get(3)),i=new xc(n.popFirst(5));return r.isEqual(t)||Zu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function pw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class mw extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ab(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $A(this.firestore,null,t)}}class gw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yw extends Xb{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Jb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vw extends yw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Aw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vw(this._firestore,this._userDataWriter,n.key,n,new gw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sc(ic.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:bw(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tc()}}function ww(e,t){return e instanceof yw&&t instanceof yw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Aw&&t instanceof Aw&&e._firestore===t._firestore&&sb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ew(e){e=KA(e,$A);const t=KA(e.firestore,ub);return VA(hb(t),e._key).then((n=>Pw(t,e,n)))}class Iw extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ab(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $A(this.firestore,null,t)}}function Cw(e){e=KA(e,$A);const t=KA(e.firestore,ub),n=hb(t),r=new Iw(t);return function(e,t){const n=new oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=rc(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new sc(ic.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=wv(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await _A(e),t,n))),n.promise}(n,e._key).then((n=>new yw(t,r,e._key,n,new gw(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Sw(e){e=KA(e,eb);const t=KA(e.firestore,ub),n=hb(t),r=new Iw(t);return function(e,t){const n=new oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await fy(e,t,!0),i=new Uv(t,r.ir),s=i.sc(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=wv(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await _A(e),t,n))),n.promise}(n,e._query).then((n=>new Aw(t,r,e,n)))}function xw(e,t,n){e=KA(e,$A);const r=KA(e.firestore,ub),i=pw(e.converter,t,n);return Rw(r,[Rb(Nb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Xf.none())])}function kw(e,t,n){e=KA(e,$A);const r=KA(e.firestore,ub),i=Nb(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=ze(t))||t instanceof bb?Vb(i,"updateDoc",e._key,t,n,a):Mb(i,"updateDoc",e._key,t),Rw(r,[s.toMutation(e._key,Xf.exists(!0))])}function Tw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=ze(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||ab(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges};if(ab(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof $A)h=KA(e.firestore,ub),d=tf(e._key.path),c={next:t=>{n[l]&&n[l](Pw(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=KA(e,eb);h=KA(t.firestore,ub),d=t._query;const r=new Iw(h);c={next:e=>{n[l]&&n[l](new Aw(h,r,t,e))},error:n[l+1],complete:n[l+2]},Zb(e._query)}return function(e,t,n,r){const i=new EA(r),s=new Dv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>kv(await MA(e),s))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Tv(await MA(e),s)))}}(hb(h),d,u,c)}function Nw(e,t){return function(e,t){const n=new EA(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){rc(e).ku.add(t),t.next()}(await MA(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){rc(e).ku.delete(t)}(await MA(e),n)))}}(hb(e=KA(e,ub)),ab(t)?t:{next:t})}function Rw(e,t){return function(e,t){const n=new oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=gA(e);try{const e=await function(e,t){const n=rc(e),r=bc.now(),i=t.reduce(((e,t)=>e.add(t.key)),Nf());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=bf(),l=Nf();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=tp(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new ip(e.key,t,Ad(t.value.mapValue),Xf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:If(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new _h(yc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await iA(r,e.changes),await av(r.remoteStore)}catch(e){const t=wv(e,"Failed to persist write");n.reject(t)}}(await BA(e),t,n))),n.promise}(hb(e),t)}function Pw(e,t,n){const r=n.docs.get(t._key),i=new Iw(e);return new yw(e,i,t._key,r,new gw(n.hasPendingWrites,n.fromCache),t.converter)}const Dw={maxAttempts:5};class _w{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nb(e)}set(e,t,n){this._verifyNotCommitted();const r=Lw(e,this._firestore),i=pw(r.converter,t,n),s=Rb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Xf.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Lw(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ze(t))||t instanceof bb?Vb(this._dataReader,"WriteBatch.update",r._key,t,n,o):Mb(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Xf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lw(e,this._firestore);return this._mutations=this._mutations.concat(new lp(t._key,Xf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sc(ic.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lw(e,t){if((e=ze(e)).firestore!==t)throw new sc(ic.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Bw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nb(e)}get(e){const t=Lw(e,this._firestore),n=new mw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return tc();const r=e[0];if(r.isFoundDocument())return new Xb(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Xb(this._firestore,n,t._key,null,t.converter);throw tc()}))}set(e,t,n){const r=Lw(e,this._firestore),i=pw(r.converter,t,n),s=Rb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Lw(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ze(t))||t instanceof bb?Vb(this._dataReader,"Transaction.update",r._key,t,n,o):Mb(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Lw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lw(e,this._firestore),n=new Iw(this._firestore);return super.get(e).then((e=>new yw(this._firestore,n,t._key,e._document,new gw(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ku=e}(sn),Zt(new qe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ub(new cc(e.getProvider("auth-internal")),new pc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sc(ic.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),cn(Wu,"3.13.0",e),cn(Wu,"3.13.0","esm2017")}();const Ow=on({apiKey:"AIzaSyC8l0LYbvvZczdessb11nAce9rFRDiZIGM",authDomain:"neuropets-9c731.firebaseapp.com",projectId:"neuropets-9c731",storageBucket:"neuropets-9c731.appspot.com",messagingSenderId:"610747636675",appId:"1:610747636675:web:ee9065011b0776f6443b76",measurementId:"G-2J48ZD9GF7"}),Mw=cb(Ow),Vw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();const t=$t(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$t(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Be(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Nn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vs,persistence:[Pi,pi,gi]}),r=xe("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Es)return;const r=null===t||void 0===t?void 0:t.token;Is!==r&&(Is=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ze(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){ze(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Ce("auth");return s&&Mr(n,`http://${s}`),n}(Ow),Uw=cb(Ow);const Fw=n.p+"static/media/logo.eb6dcd46a5bc9755911424cb9a8cbb38.svg";var jw=n(579);const Qw=function(e){let{setIsSignedIn:t}=e;const[n,r]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),u=Z();return(0,jw.jsxs)("div",{className:"Login",children:[(0,jw.jsx)("img",{className:"NPlogo",src:Fw,alt:"NeuroPets Logo"}),(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsxs)("form",{className:"login-form",onSubmit:e=>{e.preventDefault(),function(e,t,n){return ci(ze(e),Xr.credential(t,n))}(Vw,n,i).then((e=>{t(!0),u("../Home")})).catch((e=>{const t=e.code;"auth/user-not-found"===t?l("Email not found"):"auth/wrong-password"===t&&l("Incorrect password")}))},children:[(0,jw.jsx)("input",{className:"bubbleField",value:n,onChange:e=>r(e.target.value),placeholder:"Username",id:"Username",required:!0}),(0,jw.jsx)("input",{className:"bubbleField",value:i,onChange:e=>o(e.target.value),placeholder:"Password",id:"Password",required:!0}),(0,jw.jsx)("button",{className:"bubbleButton",children:"Log In"})]}),a&&(0,jw.jsxs)("p",{children:[" Error: ",a]})]}),(0,jw.jsx)("div",{className:"createAccountRedirect",children:(0,jw.jsxs)("h3",{children:["Need an acccount? Create one ",(0,jw.jsx)("button",{onClick:e=>{u("../regPage")},className:"createAccountButton",children:"here"})," "]})})]})},zw=e=>{let{onChange:t,placeholder:n}=e;const[r,i]=(0,s.useState)("");return(0,jw.jsx)("input",{className:"bubbleField",type:"text",value:r,onChange:e=>{i(e.target.value),t&&t(e.target.value)},placeholder:n})};async function qw(e){const t=rb(Uw,"all_data",e);try{return(await Ew(t)).data()}catch(n){console.log("Error on getUserInfo: ",n)}}async function Hw(e,t){if(e){const r=rb(Uw,"all_data",e);try{await kw(r,t)}catch(n){console.log(n)}}}const Ww=n.p+"static/media/upperBubble.5ea74255aaffc27db139072af50a3013.svg";const Gw=n.p+"static/media/lowerBubble.6ce264ac47d0de4632a8d99ea42a44f8.svg";const Kw=function(e){let{setIsSignedIn:t}=e;const n=Z(),[r,i]=(0,s.useState)(""),[o,a]=(0,s.useState)(""),[l,u]=(0,s.useState)(""),[c,h]=(0,s.useState)("");return(0,jw.jsxs)("div",{className:"Registration",children:[(0,jw.jsxs)("div",{className:"Imgbox",children:[(0,jw.jsx)("img",{className:"Bubble",src:Ww,alt:"top speech bubble"}),(0,jw.jsx)("img",{className:"Bubble",src:Gw,alt:"bot speech bubble"})]}),(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsx)("p",{className:"SmallBubbleHeader",children:"Create Account"}),(0,jw.jsx)(zw,{placeholder:"Email",onChange:e=>{i(e)}}),(0,jw.jsx)(zw,{placeholder:"Password",onChange:e=>{a(e)}}),(0,jw.jsx)(zw,{placeholder:"Confirm Password",onChange:e=>{u(e)}}),c&&(0,jw.jsxs)("p",{children:[" Error: ",c]}),(0,jw.jsx)("button",{className:"bubbleButton",onClick:e=>{0===r.length||0===o.length||0===l.length?h("Empty field detected"):o!==l||l.length<5?h("Passwords not matching "):async function(e,t,n){var r;const i=Br(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Dr(i,s,"signUpPassword");o=ni(i,e)}else o=ni(i,s).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Dr(i,s,"signUpPassword");return ni(i,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await ri._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(Vw,r,o).then((e=>{var r=e.user;!async function(e,t){const n=rb(Mw,"all_data",e);let r={userid:e,useremail:t,goalArray:[],activeGoal:0,petPoints:0,unlockedAccessories:[!1,!1,!1,!1,!1,!1,!1,!1,!1]};try{await xw(n,r)}catch(i){console.log(i)}}(r.uid,r.email),t(!0),n("../DoctorIntro")})).catch((e=>{var t=e.code;h("auth/email-already-in-use"===t?"Email already in use":"auth/invalid-email"===t?"Enter a valid email address":"auth/weak-password"===t?"Enter a stronger password":"Please refresh your page")}))},children:"Register"})]})]})},Xw=["Eat Healthier","Be More Active","Improve Mental Health","Focus on Relationships","Dedicate Time to a Hobby","Learn an Instrument","Be More Tidy"],Yw=[["Plan meals for the week","Moderate portion sizes today","Drink 3 liters of water","Limit sweets and soda","Eat 5 servings of fruits or vegetables","Eat a high protein meal","Eat only healthy snacks today","Make a home cooked meal","Limit junk food today"],["Take a walk break","Walk or bike to a destination today","Take the stairs when possible","Try a home workout routine","Find new exercises to try","Engage in an active hobby","Hike on a trail","Take 5,000 steps today","Play a casual sport","Spend 2 hours outdoors"],["Smile at people you pass by","Practice meditating for 10 minutes","Write 5 things that make you happy","Take a walk","Perform positive affirmations","Have quality sleep","Reach out to a loved one","Practice deep breathing exercises","Spend time on an interest or hobby","Limit news and media intake"],["Call or text a loved one","Suggest a hangout with your friends","Eat a device free meal with others","Write a heartfelt letter to a loved one","Surprise someone with an act of kindness","Practice active listening","Post a meme in the group chat","Plan a movie or game night with others","Share an activity with a loved one","Offer to help someone with their work or task"],["Reflect on your hobby and set goals for the future","Research or learn about your hobby","Try a new technique for your hobby","Complete a piece within a set time frame","Find a new source of inspiration for a piece","Experiment your style for your next piece","Create a piece inspired by something random","Spend 1 hour practicing your hobby","Share progress of your hobby online","Collaborate with someone on a new piece"],["Record your practice and listen for improvment","Practice on a challenging techinque or piece","Practice your scales and fundamentals","Analyze a song outside of your taste or time","Practice with friends or a group","Improvise over an existing piece","Practice your instrument for 1 hour","Practice reading sheet music","Transcribe and learn a song you enjoy","Learn a new chord or progession"],["Clean all of the dishes and utensils used today","Have a cleaning race with someone you know","Spend 30 minutes cleaning your common space","Choose or create a playlist to clean to","Find 5 items you've misplaced while cleaning","Create a fun cleaning list for the week","Organize a display or shelf to be visually pleasing","Find 5 items to donate or toss while cleaning","Spend 10 minutes speed cleaning a space","Remove all loose trash in your space"]];const Jw=n.p+"static/media/ProfTextA.b80e2cbe0b682563409260ee047e8fb9.svg";const Zw=function(){const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),i=Z(),o=e=>{t(Xw[Number(e)]);const n=document.getElementsByClassName("presetbtn");for(let t=0;t<n.length;t++)n[t].style.backgroundColor="#374350";document.getElementById(e).style.backgroundColor="#152130"},a=e=>{"customGoal"===e?(document.getElementById("presetGoalDrop").style.display="none","inline-block"===document.getElementById("customGoalDrop").style.display?document.getElementById("customGoalDrop").style.display="none":document.getElementById("customGoalDrop").style.display="inline-block"):(document.getElementById("customGoalDrop").style.display="none","inline-block"===document.getElementById("presetGoalDrop").style.display?document.getElementById("presetGoalDrop").style.display="none":document.getElementById("presetGoalDrop").style.display="inline-block");const n=document.getElementsByClassName("presetbtn");for(let t=0;t<n.length;t++)n[t].style.backgroundColor="#374350";t("")};return(0,jw.jsxs)("div",{className:"CreateGoal",children:[(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsx)("p",{className:"BubbleHeader",children:"Create Goal"}),(0,jw.jsx)("button",{id:"customGoal",className:"bubbleButton accordion",onClick:e=>a(e.target.id),children:"Custom Goal"}),(0,jw.jsx)("textarea",{id:"customGoalDrop",className:"bubbleField",rows:"12",cols:"33",placeholder:"Example: Brush Teeth, Floss, Manage Addiction, Drink Water..",value:e,onChange:e=>t(e.target.value)}),(0,jw.jsx)("button",{id:"presetGoal",className:"bubbleButton accordion",onClick:e=>a(e.target.id),children:"Preset Goal"}),(0,jw.jsxs)("div",{className:"presets",id:"presetGoalDrop",children:[(0,jw.jsx)("button",{id:"0",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Eat Healthier"}),(0,jw.jsx)("button",{id:"1",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Be More Active"}),(0,jw.jsx)("button",{id:"2",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Improve Mental Health"}),(0,jw.jsx)("button",{id:"3",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Focus on Relationships"}),(0,jw.jsx)("button",{id:"4",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Dedicate Time to a Hobby"}),(0,jw.jsx)("button",{id:"5",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Learn an Instrument"}),(0,jw.jsx)("button",{id:"6",className:"bubbleButton presetbtn",onClick:e=>o(e.target.id),children:"Be More Tidy"})]}),n&&(0,jw.jsxs)("p",{style:{margin:0},children:[" Error: ",n]}),(0,jw.jsx)("button",{className:"bubbleButton submission",onClick:t=>{t.preventDefault(),0===e.length?r("Please fill in a goal"):i("/petContract",{state:{goalText:e||{}}})},children:"Continue"})]}),(0,jw.jsx)("img",{className:"ProfessorText",src:Jw,alt:"Professor speech bubble"})]})},$w=new Set,eE=new WeakMap,tE=new WeakMap,nE=new WeakMap,rE=new WeakMap,iE=new WeakMap,sE=new WeakMap,oE=new WeakMap,aE=new WeakSet;let lE;const uE="__aa_tgt",cE="__aa_del",hE=e=>{const t=function(e){const t=e.reduce(((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)]),[]);return!t.every((e=>"#comment"===e.nodeName))&&e.reduce(((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(vE(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){const r=t.target.children.item(n);if(r){if(cE in r)return!1;vE(t.target,r),e.add(r)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){const r=t.removedNodes[n];if(cE in r)return!1;r instanceof Element&&(e.add(r),vE(t.target,r),tE.set(r,[t.previousSibling,t.nextSibling]))}}return e}),new Set)}(e);t&&t.forEach((e=>function(e){var t;const n=e.isConnected,r=eE.has(e);n&&tE.has(e)&&tE.delete(e);nE.has(e)&&(null===(t=nE.get(e))||void 0===t||t.cancel());r&&n?function(e){const t=eE.get(e),n=bE(e);if(!CE(e))return eE.set(e,n);let r;if(!t)return;const i=EE(e);if("function"!==typeof i){const s=t.left-n.left,o=t.top-n.top,[a,l,u,c]=wE(e,t,n),h={transform:`translate(${s}px, ${o}px)`},d={transform:"translate(0, 0)"};a!==l&&(h.width=`${a}px`,d.width=`${l}px`),u!==c&&(h.height=`${u}px`,d.height=`${c}px`),r=e.animate([h,d],{duration:i.duration,easing:i.easing})}else r=new Animation(i(e,"remain",t,n)),r.play();nE.set(e,r),eE.set(e,n),r.addEventListener("finish",fE.bind(null,e))}(e):r&&!n?function(e){var t;if(!tE.has(e)||!eE.has(e))return;const[n,r]=tE.get(e);Object.defineProperty(e,cE,{value:!0}),r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):n&&n.parentNode?n.parentNode.appendChild(e):null===(t=IE(e))||void 0===t||t.appendChild(e);function i(){var t;e.remove(),eE.delete(e),tE.delete(e),nE.delete(e),null===(t=rE.get(e))||void 0===t||t.disconnect()}if(!CE(e))return i();const[s,o,a,l]=function(e){const t=eE.get(e),[n,,r]=wE(e,t,bE(e));let i=e.parentElement;for(;i&&("static"===getComputedStyle(i).position||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),o=eE.get(i)||bE(i),a=Math.round(t.top-o.top)-AE(s.borderTopWidth),l=Math.round(t.left-o.left)-AE(s.borderLeftWidth);return[a,l,n,r]}(e),u=EE(e),c=eE.get(e);let h;Object.assign(e.style,{position:"absolute",top:`${s}px`,left:`${o}px`,width:`${a}px`,height:`${l}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!==typeof u?h=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"}):(h=new Animation(u(e,"remove",c)),h.play());nE.set(e,h),h.addEventListener("finish",i)}(e):function(e){const t=bE(e);eE.set(e,t);const n=EE(e);if(!CE(e))return;let r;"function"!==typeof n?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*n.duration,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play());nE.set(e,r),r.addEventListener("finish",fE.bind(null,e))}(e)}(e)))},dE=e=>{e.forEach((e=>{e.target===lE&&(clearTimeout(oE.get(lE)),oE.set(lE,setTimeout((()=>{$w.forEach((e=>SE(e,(e=>mE((()=>fE(e)))))))}),100))),eE.has(e.target)&&fE(e.target)}))};function fE(e){clearTimeout(oE.get(e));const t=EE(e),n="function"===typeof t?500:t.duration;oE.set(e,setTimeout((async()=>{const t=nE.get(e);try{await(null===t||void 0===t?void 0:t.finished),eE.set(e,bE(e)),function(e){const t=rE.get(e);null===t||void 0===t||t.disconnect();let n=eE.get(e),r=0;n||(n=bE(e),eE.set(e,n));const{offsetWidth:i,offsetHeight:s}=lE,o=[n.top-5,i-(n.left+5+n.width),s-(n.top+5+n.height),n.left-5].map((e=>-1*Math.floor(e)+"px")).join(" "),a=new IntersectionObserver((()=>{++r>1&&fE(e)}),{root:lE,threshold:1,rootMargin:o});a.observe(e),rE.set(e,a)}(e)}catch{}}),n))}function pE(e){setTimeout((()=>{iE.set(e,setInterval((()=>mE(fE.bind(null,e))),2e3))}),Math.round(2e3*Math.random()))}function mE(e){"function"===typeof requestIdleCallback?requestIdleCallback((()=>e())):requestAnimationFrame((()=>e()))}let gE,yE;function vE(e,t){t||uE in e?t&&!(uE in t)&&Object.defineProperty(t,uE,{value:e}):Object.defineProperty(e,uE,{value:e})}function AE(e){return Number(e.replace(/[^0-9.\-]/g,""))}function bE(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function wE(e,t,n){let r=t.width,i=t.height,s=n.width,o=n.height;const a=getComputedStyle(e);if("content-box"===a.getPropertyValue("box-sizing")){const e=AE(a.paddingTop)+AE(a.paddingBottom)+AE(a.borderTopWidth)+AE(a.borderBottomWidth),t=AE(a.paddingLeft)+AE(a.paddingRight)+AE(a.borderRightWidth)+AE(a.borderLeftWidth);r-=t,s-=t,i-=e,o-=e}return[r,s,i,o].map(Math.round)}function EE(e){return uE in e&&sE.has(e[uE])?sE.get(e[uE]):{duration:250,easing:"ease-in-out"}}function IE(e){if(uE in e)return e[uE]}function CE(e){const t=IE(e);return!!t&&aE.has(t)}function SE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((t=>t(e,sE.has(e))));for(let i=0;i<e.children.length;i++){const t=e.children.item(i);t&&n.forEach((e=>e(t,sE.has(t))))}}function xE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(gE&&yE){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&"function"!==typeof t&&!t.disrespectUserMotionPreference||(aE.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),SE(e,fE,pE,(e=>null===yE||void 0===yE?void 0:yE.observe(e))),"function"===typeof t?sE.set(e,t):sE.set(e,{duration:250,easing:"ease-in-out",...t}),gE.observe(e,{childList:!0}),$w.add(e))}return Object.freeze({parent:e,enable:()=>{aE.add(e)},disable:()=>{aE.delete(e)},isEnabled:()=>aE.has(e)})}"undefined"!==typeof window&&(lE=document.documentElement,gE=new MutationObserver(hE),yE=new ResizeObserver(dE),yE.observe(lE));function kE(e){const[t,n]=(0,s.useState)();return[(0,s.useCallback)((t=>{t instanceof HTMLElement?n(xE(t,e)):n(void 0)}),[]),e=>{t&&(e?t.enable():t.disable())}]}const TE=(0,s.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),NE=(0,s.createContext)({}),RE=(0,s.createContext)(null),PE="undefined"!==typeof document,DE=PE?s.useLayoutEffect:s.useEffect,_E=(0,s.createContext)({strict:!1});function LE(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function BE(e){return"string"===typeof e||Array.isArray(e)}function OE(e){return"object"===typeof e&&"function"===typeof e.start}const ME=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VE=["initial",...ME];function UE(e){return OE(e.animate)||VE.some((t=>BE(e[t])))}function FE(e){return Boolean(UE(e)||e.variants)}function jE(e){const{initial:t,animate:n}=function(e,t){if(UE(e)){const{initial:t,animate:n}=e;return{initial:!1===t||BE(t)?t:void 0,animate:BE(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,s.useContext)(NE));return(0,s.useMemo)((()=>({initial:t,animate:n})),[QE(t),QE(n)])}function QE(e){return Array.isArray(e)?e.join(" "):e}const zE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qE={};for(const CR in zE)qE[CR]={isEnabled:e=>zE[CR].some((t=>!!e[t]))};const HE=(0,s.createContext)({}),WE=(0,s.createContext)({}),GE=Symbol.for("motionComponentSymbol");function KE(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:o}=e;t&&function(e){for(const t in e)qE[t]={...qE[t],...e[t]}}(t);const a=(0,s.forwardRef)((function(e,a){let l;const u={...(0,s.useContext)(TE),...e,layoutId:XE(e)},{isStatic:c}=u,h=jE(e),d=i(e,c);if(!c&&PE){h.visualElement=function(e,t,n,r){const{visualElement:i}=(0,s.useContext)(NE),o=(0,s.useContext)(_E),a=(0,s.useContext)(RE),l=(0,s.useContext)(TE).reducedMotion,u=(0,s.useRef)();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const c=u.current;return(0,s.useInsertionEffect)((()=>{c&&c.update(n,a)})),DE((()=>{c&&c.render()})),(0,s.useEffect)((()=>{c&&c.updateFeatures()})),(window.HandoffAppearAnimations?DE:s.useEffect)((()=>{c&&c.animationState&&c.animationState.animateChanges()})),c}(o,d,u,n);const e=(0,s.useContext)(WE),r=(0,s.useContext)(_E).strict;h.visualElement&&(l=h.visualElement.loadFeatures(u,r,t,e))}return s.createElement(NE.Provider,{value:h},l&&h.visualElement?s.createElement(l,{visualElement:h.visualElement,...u}):null,r(o,e,function(e,t,n){return(0,s.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):LE(n)&&(n.current=r))}),[t])}(d,h.visualElement,a),d,c,h.visualElement))}));return a[GE]=o,a}function XE(e){let{layoutId:t}=e;const n=(0,s.useContext)(HE).id;return n&&void 0!==t?n+"-"+t:t}function YE(e){function t(t){return KE(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const JE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZE(e){return"string"===typeof e&&!e.includes("-")&&!!(JE.indexOf(e)>-1||/[A-Z]/.test(e))}const $E={};const eI=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tI=new Set(eI);function nI(e,t){let{layout:n,layoutId:r}=t;return tI.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!$E[e]||"opacity"===e)}const rI=e=>Boolean(e&&e.getVelocity),iI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sI=eI.length;const oI=e=>t=>"string"===typeof t&&t.startsWith(e),aI=oI("--"),lI=oI("var(--"),uI=(e,t)=>t&&"number"===typeof e?t.transform(e):e,cI=(e,t,n)=>Math.min(Math.max(n,e),t),hI={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},dI={...hI,transform:e=>cI(0,1,e)},fI={...hI,default:1},pI=e=>Math.round(1e5*e)/1e5,mI=/(-)?([\d]*\.?[\d])+/g,gI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vI(e){return"string"===typeof e}const AI=e=>({test:t=>vI(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),bI=AI("deg"),wI=AI("%"),EI=AI("px"),II=AI("vh"),CI=AI("vw"),SI={...wI,parse:e=>wI.parse(e)/100,transform:e=>wI.transform(100*e)},xI={...hI,transform:Math.round},kI={borderWidth:EI,borderTopWidth:EI,borderRightWidth:EI,borderBottomWidth:EI,borderLeftWidth:EI,borderRadius:EI,radius:EI,borderTopLeftRadius:EI,borderTopRightRadius:EI,borderBottomRightRadius:EI,borderBottomLeftRadius:EI,width:EI,maxWidth:EI,height:EI,maxHeight:EI,size:EI,top:EI,right:EI,bottom:EI,left:EI,padding:EI,paddingTop:EI,paddingRight:EI,paddingBottom:EI,paddingLeft:EI,margin:EI,marginTop:EI,marginRight:EI,marginBottom:EI,marginLeft:EI,rotate:bI,rotateX:bI,rotateY:bI,rotateZ:bI,scale:fI,scaleX:fI,scaleY:fI,scaleZ:fI,skew:bI,skewX:bI,skewY:bI,distance:EI,translateX:EI,translateY:EI,translateZ:EI,x:EI,y:EI,z:EI,perspective:EI,transformPerspective:EI,opacity:dI,originX:SI,originY:SI,originZ:EI,zIndex:xI,fillOpacity:dI,strokeOpacity:dI,numOctaves:xI};function TI(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const e=t[h];if(aI(h)){s[h]=e;continue}const n=kI[h],r=uI(e,n);if(tI.has(h)){if(l=!0,o[h]=r,!c)continue;e!==(n.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,o="";for(let a=0;a<sI;a++){const t=eI[a];void 0!==e[t]&&(o+=`${iI[t]||t}(${e[t]}) `)}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):s&&n&&(o="none"),o}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}const NI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RI(e,t,n){for(const r in t)rI(t[r])||nI(r,n)||(e[r]=t[r])}function PI(e,t,n){const r={};return RI(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,s.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return TI(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function DI(e,t,n){const r={},i=PI(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const _I=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function LI(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||_I.has(e)}let BI=e=>!LI(e);try{(OI=require("@emotion/is-prop-valid").default)&&(BI=e=>e.startsWith("on")?!LI(e):OI(e))}catch(hA){}var OI;function MI(e,t,n){return"string"===typeof e?e:EI.transform(t+n*e)}const VI={offset:"stroke-dashoffset",array:"stroke-dasharray"},UI={offset:"strokeDashoffset",array:"strokeDasharray"};function FI(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:u,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(TI(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==u||m.transform)&&(m.transformOrigin=function(e,t,n){return`${MI(t,e.x,e.width)} ${MI(n,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==u?u:.5)),void 0!==s&&(p.x=s),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?VI:UI;e[s.offset]=EI.transform(-r);const o=EI.transform(t),a=EI.transform(n);e[s.array]=`${o} ${a}`}(p,c,h,d,!1)}const jI=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),QI=e=>"string"===typeof e&&"svg"===e.toLowerCase();function zI(e,t,n,r){const i=(0,s.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return FI(n,t,{enableHardwareAcceleration:!1},QI(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};RI(t,e.style,e),i.style={...t,...i.style}}return i}function qI(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,o)=>{let{latestValues:a}=i;const l=(ZE(t)?zI:DI)(n,a,o,t),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(BI(i)||!0===n&&LI(i)||!t&&!LI(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c={...u,...l,ref:r},{children:h}=n,d=(0,s.useMemo)((()=>rI(h)?h.get():h),[h]);return(0,s.createElement)(t,{...c,children:d})}}const HI=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function WI(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const GI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KI(e,t,n,r){WI(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(GI.has(i)?i:HI(i),t.attrs[i])}function XI(e,t){const{style:n}=e,r={};for(const i in n)(rI(n[i])||t.style&&rI(t.style[i])||nI(i,e))&&(r[i]=n[i]);return r}function YI(e,t){const n=XI(e,t);for(const r in e)if(rI(e[r])||rI(t[r])){n[-1!==eI.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function JI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const ZI=e=>Array.isArray(e),$I=e=>ZI(e)?e[e.length-1]||0:e;function eC(e){const t=rI(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const tC=e=>(t,n)=>{const r=(0,s.useContext)(NE),i=(0,s.useContext)(RE),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:nC(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,r,i);return n?o():function(e){const t=(0,s.useRef)(null);return null===t.current&&(t.current=e()),t.current}(o)};function nC(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=eC(s[d]);let{initial:o,animate:a}=e;const l=UE(e),u=FE(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?a:o;if(h&&"boolean"!==typeof h&&!OE(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=JI(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const rC={useVisualState:tC({scrapeMotionValuesFromProps:YI,createRenderState:jI,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(s){r.dimensions={x:0,y:0,width:0,height:0}}FI(r,i,{enableHardwareAcceleration:!1},QI(t.tagName),e.transformTemplate),KI(t,r)}})},iC={useVisualState:tC({scrapeMotionValuesFromProps:XI,createRenderState:NI})};function sC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const oC=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function aC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function lC(e,t,n,r){return sC(e,t,(e=>t=>oC(t)&&e(t,aC(t)))(n),r)}const uC=(e,t)=>n=>t(e(n)),cC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(uC)};function hC(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const dC=hC("dragHorizontal"),fC=hC("dragVertical");function pC(e){let t=!1;if("y"===e)t=fC();else if("x"===e)t=dC();else{const e=dC(),n=fC();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function mC(){const e=pC(!0);return!e||(e(),!1)}class gC{constructor(e){this.isMounted=!1,this.node=e}update(){}}const yC={delta:0,timestamp:0,isProcessing:!1};let vC=!0,AC=!1;const bC=["read","update","preRender","render","postRender"],wC=bC.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===a.indexOf(e)&&(a.push(e),s&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}((()=>AC=!0)),e)),{}),EC=e=>wC[e].process(yC),IC=e=>{AC=!1,yC.delta=vC?1e3/60:Math.max(Math.min(e-yC.timestamp,40),1),yC.timestamp=e,yC.isProcessing=!0,bC.forEach(EC),yC.isProcessing=!1,AC&&(vC=!1,requestAnimationFrame(IC))},CC=bC.reduce(((e,t)=>{const n=wC[t];return e[t]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return AC||(AC=!0,vC=!0,yC.isProcessing||requestAnimationFrame(IC)),n.schedule(e,t,r)},e}),{});function SC(e){bC.forEach((t=>wC[t].cancel(e)))}function xC(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return lC(e.current,n,((n,i)=>{if("touch"===n.type||mC())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&CC.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const kC=(e,t)=>!!t&&(e===t||kC(e,t.parentElement)),TC=e=>e;function NC(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,aC(n))}const RC=new WeakMap,PC=new WeakMap,DC=e=>{const t=RC.get(e.target);t&&t(e)},_C=e=>{e.forEach(DC)};function LC(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;PC.has(r)||PC.set(r,{});const i=PC.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(_C,{root:t,...n})),i[s]}(t);return RC.set(e,n),r.observe(e),()=>{RC.delete(e),r.unobserve(e)}}const BC={some:0,all:1};const OC={inView:{Feature:class extends gC{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:BC[r]};return LC(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends gC{constructor(){super(...arguments),this.removeStartListeners=TC,this.removeEndListeners=TC,this.removeAccessibleListeners=TC,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=lC(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();CC.update((()=>{kC(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=lC(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=cC(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=sC(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=sC(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&NC("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&CC.update((()=>n(e,t)))}))})),NC("down",((e,t)=>{this.startPress(e,t)}))})),t=sC(this.node.current,"blur",(()=>{this.isPressing&&NC("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=cC(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&CC.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mC()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&CC.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=lC(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=sC(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cC(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends gC{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cC(sC(this.node.current,"focus",(()=>this.onFocus())),sC(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends gC{mount(){this.unmount=cC(xC(this.node,!0),xC(this.node,!1))}unmount(){}}}};function MC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function VC(e,t,n){const r=e.getProps();return JI(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}const UC="data-"+HI("framerAppearId");let FC=TC,jC=TC;const QC=e=>1e3*e,zC=e=>e/1e3,qC=!1,HC=e=>Array.isArray(e)&&"number"===typeof e[0];function WC(e){return Boolean(!e||"string"===typeof e&&KC[e]||HC(e)||Array.isArray(e)&&e.every(WC))}const GC=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},KC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:GC([0,.65,.55,1]),circOut:GC([.55,0,1,.45]),backIn:GC([.31,.01,.66,-.59]),backOut:GC([.33,1.53,.69,.99])};function XC(e){if(e)return HC(e)?GC(e):Array.isArray(e)?e.map(XC):KC[e]}const YC={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},JC={},ZC={};for(const CR in YC)ZC[CR]=()=>(void 0===JC[CR]&&(JC[CR]=YC[CR]()),JC[CR]);const $C=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function eS(e,t,n,r){if(e===t&&n===r)return TC;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=$C(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:$C(i(e),t,r)}const tS=eS(.42,0,1,1),nS=eS(0,0,.58,1),rS=eS(.42,0,.58,1),iS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sS=e=>t=>1-e(1-t),oS=e=>1-Math.sin(Math.acos(e)),aS=sS(oS),lS=iS(aS),uS=eS(.33,1.53,.69,.99),cS=sS(uS),hS=iS(cS),dS={linear:TC,easeIn:tS,easeInOut:rS,easeOut:nS,circIn:oS,circInOut:lS,circOut:aS,backIn:cS,backInOut:hS,backOut:uS,anticipate:e=>(e*=2)<1?.5*cS(e):.5*(2-Math.pow(2,-10*(e-1)))},fS=e=>{if(Array.isArray(e)){jC(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return eS(t,n,r,i)}return"string"===typeof e?(jC(void 0!==dS[e],`Invalid easing type '${e}'`),dS[e]):e},pS=(e,t)=>n=>Boolean(vI(n)&&yI.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),mS=(e,t,n)=>r=>{if(!vI(r))return r;const[i,s,o,a]=r.match(mI);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},gS={...hI,transform:e=>Math.round((e=>cI(0,255,e))(e))},yS={test:pS("rgb","red"),parse:mS("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+gS.transform(t)+", "+gS.transform(n)+", "+gS.transform(r)+", "+pI(dI.transform(i))+")"}};const vS={test:pS("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:yS.transform},AS={test:pS("hsl","hue"),parse:mS("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+wI.transform(pI(n))+", "+wI.transform(pI(r))+", "+pI(dI.transform(i))+")"}},bS={test:e=>yS.test(e)||vS.test(e)||AS.test(e),parse:e=>yS.test(e)?yS.parse(e):AS.test(e)?AS.parse(e):vS.parse(e),transform:e=>vI(e)?e:e.hasOwnProperty("red")?yS.transform(e):AS.transform(e)},wS=(e,t,n)=>-n*e+n*t+e;function ES(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const IS=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},CS=[vS,yS,AS];function SS(e){const t=(e=>CS.find((t=>t.test(e))))(e);jC(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===AS&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=ES(i,e,t+1/3),o=ES(i,e,t),a=ES(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const xS=(e,t)=>{const n=SS(e),r=SS(t),i={...n};return e=>(i.red=IS(n.red,r.red,e),i.green=IS(n.green,r.green,e),i.blue=IS(n.blue,r.blue,e),i.alpha=wS(n.alpha,r.alpha,e),yS.transform(i))};const kS={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:TC},TS={regex:gI,countKey:"Colors",token:"${c}",parse:bS.parse},NS={regex:mI,countKey:"Numbers",token:"${n}",parse:hI.parse};function RS(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(s)))}function PS(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&RS(n,kS),RS(n,TS),RS(n,NS),n}function DS(e){return PS(e).values}function _S(e){const{values:t,numColors:n,numVars:r,tokenised:i}=PS(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(kS.token,e[i]):i<r+n?t.replace(TS.token,bS.transform(e[i])):t.replace(NS.token,pI(e[i]));return t}}const LS=e=>"number"===typeof e?0:e;const BS={test:function(e){var t,n;return isNaN(e)&&vI(e)&&((null===(t=e.match(mI))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(gI))||void 0===n?void 0:n.length)||0)>0},parse:DS,createTransformer:_S,getAnimatableNone:function(e){const t=DS(e);return _S(e)(t.map(LS))}},OS=(e,t)=>n=>`${n>0?t:e}`;function MS(e,t){return"number"===typeof e?n=>wS(e,t,n):bS.test(e)?xS(e,t):e.startsWith("var(")?OS(e,t):FS(e,t)}const VS=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>MS(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},US=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=MS(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},FS=(e,t)=>{const n=BS.createTransformer(t),r=PS(e),i=PS(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?cC(VS(r.values,i.values),n):(FC(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),OS(e,t))},jS=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},QS=(e,t)=>n=>wS(e,t,n);function zS(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?QS:"string"===typeof e?bS.test(e)?xS:FS:Array.isArray(e)?VS:"object"===typeof e?US:QS}(e[0]),s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||TC:t;n=cC(e,n)}r.push(n)}return r}function qS(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(jC(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=zS(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=jS(e[n],e[n+1],t);return o[n](r)};return n?t=>l(cI(e[0],e[s-1],t)):l}function HS(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=jS(0,t,r);e.push(wS(n,1,i))}}(t,e.length-1),t}function WS(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(fS):fS(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:HS(n),t),l=qS(a,n,{ease:Array.isArray(s)?s:(u=n,c=s,u.map((()=>c||rS)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}function GS(e,t){return t?e*(1e3/t):0}function KS(e,t,n){const r=Math.max(t-5,0);return GS(n-e(r),t-r)}const XS=.001;function YS(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;FC(r<=QC(10),"Spring duration must be 10 seconds or less");let a=1-i;a=cI(.05,1,a),r=cI(.01,10,zC(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=ZS(e,a),l=Math.exp(-n);return XS-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=ZS(Math.pow(e,2),a);return(-t(e)+XS>0?-1:1)*((i-o)*l)/u}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<JS;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=QC(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const JS=12;function ZS(e,t){return e*Math.sqrt(1-t*t)}const $S=["duration","bounce"],ex=["stiffness","damping","mass"];function tx(e,t){return t.some((t=>void 0!==e[t]))}function nx(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,velocity:h,duration:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!tx(e,ex)&&tx(e,$S)){const n=YS(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(i),p=h?-zC(h):0,m=u/(2*Math.sqrt(l*c)),g=o-s,y=zC(Math.sqrt(l/c)),v=Math.abs(g)<5;let A;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=ZS(y,m);A=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)A=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);A=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=A(e);if(f)a.done=e>=d;else{let i=p;0!==e&&(i=m<1?KS(A,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function rx(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),A=e=>y+v(e),b=e=>{const t=v(e),n=A(e);f.done=Math.abs(t)<=c,f.value=f.done?y:n};let w,E;const I=e=>{(e=>void 0!==l&&e<l||void 0!==u&&e>u)(f.value)&&(w=e,E=nx({keyframes:[f.value,p(f.value)],velocity:KS(A,e,f.value),damping:s,stiffness:o,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==w||(t=!0,b(e),I(e)),void 0!==w&&e>w?E.next(e-w):(!t&&b(e),f)}}}const ix=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>CC.update(t,!0),stop:()=>SC(t),now:()=>yC.isProcessing?yC.timestamp:performance.now()}};function sx(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const ox={decay:rx,inertia:rx,tween:WS,keyframes:WS,spring:nx};function ax(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=ix,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{t&&t(),n=new Promise((e=>{t=e}))};let A;v();const b=ox[a]||WS;let w;b!==WS&&"number"!==typeof o[0]&&(w=qS([0,100],o,{clamp:!1}),o=[0,100]);const E=b({...m,keyframes:o});let I;"mirror"===c&&(I=b({...m,keyframes:[...o].reverse(),velocity:-(m.velocity||0)}));let C="idle",S=null,x=null,k=null;null===E.calculatedDuration&&l&&(E.calculatedDuration=sx(E));const{calculatedDuration:T}=E;let N=1/0,R=1/0;null!==T&&(N=T+u,R=N*(l+1)-u);let P=0;const D=e=>{if(null===x)return;g>0&&(x=Math.min(x,e)),P=null!==S?S:(e-x)*g;const t=P-i,n=t<0;P=Math.max(t,0),"finished"===C&&null===S&&(P=R);let r=P,s=E;if(l){const e=P/N;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);const i=Boolean(t%2);i&&("reverse"===c?(n=1-n,u&&(n-=u/N)):"mirror"===c&&(s=I));let o=cI(0,1,n);P>R&&(o="reverse"===c&&i?1:0),r=o*N}const a=n?{done:!1,value:o[0]}:s.next(r);w&&(a.value=w(a.value));let{done:h}=a;n||null===T||(h=P>=R);const d=null===S&&("finished"===C||"running"===C&&h||g<0&&P<=0);return p&&p(a.value),d&&B(),a},_=()=>{A&&A.stop(),A=void 0},L=()=>{C="idle",_(),v(),x=k=null},B=()=>{C="finished",f&&f(),_(),v()},O=()=>{if(y)return;A||(A=s(D));const e=A.now();h&&h(),null!==S?x=e-S:x&&"finished"!==C||(x=e),k=x,S=null,C="running",A.start()};r&&O();const M={then:(e,t)=>n.then(e,t),get time(){return zC(P)},set time(e){e=QC(e),P=e,null===S&&A&&0!==g?x=A.now()-e/g:S=e},get duration(){const e=null===E.calculatedDuration?sx(E):E.calculatedDuration;return zC(e)},get speed(){return g},set speed(e){e!==g&&A&&(g=e,M.time=zC(P))},get state(){return C},play:O,pause:()=>{C="paused",S=P},stop:()=>{y=!0,"idle"!==C&&(C="idle",d&&d(),L())},cancel:()=>{null!==k&&D(k),L()},complete:()=>{C="finished"},sample:e=>(x=0,D(e))};return M}const lx=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function ux(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(ZC.waapi()&&lx.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1;const u=()=>{a=new Promise((e=>{o=e}))};u();let{keyframes:c,duration:h=300,ease:d,times:f}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!WC(t.ease))(t,s)){const e=ax({...s,repeat:0,delay:0});let t={done:!1,value:c[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,c=n,h=r-10,d="linear"}const p=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=XC(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,c,{...s,duration:h,ease:d,times:f}),m=()=>p.cancel(),g=()=>{CC.update(m),o(),u()};return p.onfinish=()=>{e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(c,s)),i&&i(),g()},{then:(e,t)=>a.then(e,t),get time(){return zC(p.currentTime||0)},set time(e){p.currentTime=QC(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return zC(h)},play:()=>{l||(p.play(),SC(m))},pause:()=>p.pause(),stop:()=>{if(l=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=ax({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}g()},complete:()=>p.finish(),cancel:g}}const cx={type:"spring",stiffness:500,damping:25,restSpeed:10},hx={type:"keyframes",duration:.8},dx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fx=(e,t)=>{let{keyframes:n}=t;return n.length>2?hx:tI.has(e)?e.startsWith("scale")?(e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}))(n[1]):cx:dx},px=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!BS.test(t)&&"0"!==t||t.startsWith("url("))),mx=new Set(["brightness","contrast","saturate","opacity"]);function gx(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(mI)||[];if(!r)return e;const i=n.replace(r,"");let s=mx.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const yx=/([a-z-]*)\(.*?\)/g,vx={...BS,getAnimatableNone:e=>{const t=e.match(yx);return t?t.map(gx).join(" "):e}},Ax={...kI,color:bS,backgroundColor:bS,outlineColor:bS,fill:bS,stroke:bS,borderColor:bS,borderTopColor:bS,borderRightColor:bS,borderBottomColor:bS,borderLeftColor:bS,filter:vx,WebkitFilter:vx},bx=e=>Ax[e];function wx(e,t){let n=bx(e);return n!==vx&&(n=BS),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ex=e=>/^0[^.\s]+$/.test(e);function Ix(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Ex(e):void 0}function Cx(e,t){return e[t]||e.default||e}const Sx=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=Cx(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=QC(o);const l=function(e,t,n,r){const i=px(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)null===s[u]&&(s[u]=0===u?o:s[u-1]),Ix(s[u])&&l.push(u),"string"===typeof s[u]&&"none"!==s[u]&&"0"!==s[u]&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++)s[l[u]]=wx(t,a);return s}(t,e,n,s),u=l[0],c=l[l.length-1],h=px(e,u),d=px(e,c);FC(h===d,`You are trying to animate ${e} from "${u}" to "${c}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${c} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:u,elapsed:c,...h}=e;return!!Object.keys(h).length}(s)||(f={...f,...fx(e,f)}),f.duration&&(f.duration=QC(f.duration)),f.repeatDelay&&(f.repeatDelay=QC(f.repeatDelay)),!h||!d||qC||!1===s.type)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:TC,pause:TC,stop:TC,then:e=>(e(),Promise.resolve()),cancel:TC,complete:TC});return n?ax({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=ux(t,e,f);if(n)return n}return ax(f)}};function xx(e){return Boolean(rI(e)&&e.add)}const kx=e=>/^\-?\d*\.?\d+$/.test(e);function Tx(e,t){-1===e.indexOf(t)&&e.push(t)}function Nx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Rx{constructor(){this.subscriptions=[]}add(e){return Tx(this.subscriptions,e),()=>Nx(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class Px{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=yC;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,CC.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>CC.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Rx);const n=this.events[e].add(t);return"change"===e?()=>{n(),CC.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?GS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dx(e,t){return new Px(e,t)}const _x=e=>t=>t.test(e),Lx=[hI,EI,wI,bI,CI,II,{test:e=>"auto"===e,parse:e=>e}],Bx=e=>Lx.find(_x(e)),Ox=[...Lx,bS,BS],Mx=e=>Ox.find(_x(e));function Vx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Dx(n))}function Ux(e,t){const n=VC(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){Vx(e,o,$I(s[o]))}}function Fx(e,t){if(!t)return;return(t[e]||t.default||t).from}function jx(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Qx(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const t=e.getValue(h),r=a[h];if(!t||void 0===r||c&&jx(c,h))continue;const i={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!t.hasAnimated){const n=e.getProps()[UC];n&&(i.elapsed=window.HandoffAppearAnimations(n,h,t,CC))}t.start(Sx(h,t,r,e.shouldReduceMotion&&tI.has(h)?{type:!1}:i));const o=t.animation;xx(l)&&(l.add(h),o.then((()=>l.remove(h)))),u.push(o)}return o&&Promise.all(u).then((()=>{o&&Ux(e,o)})),u}function zx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=VC(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Qx(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(qx).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(zx(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function qx(e,t){return e.sortNodePosition(t)}const Hx=[...ME].reverse(),Wx=ME.length;function Gx(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>zx(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=zx(e,t,r);else{const i="function"===typeof t?VC(e,t,r.custom):t;n=Promise.all(Qx(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Kx(e){let t=Gx(e);const n={animate:Yx(!0),whileInView:Yx(),whileHover:Yx(),whileTap:Yx(),whileDrag:Yx(),whileFocus:Yx(),exit:Yx()};let r=!0;const i=(t,n)=>{const r=VC(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let h={},d=1/0;for(let t=0;t<Wx;t++){const f=Hx[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=BE(m),y=f===o?p.isActive:null;!1===y&&(d=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...h},!p.isActive&&null===y||!m&&!p.prevProp||OE(m)||"boolean"===typeof m)continue;const A=Xx(p.prevProp,m);let b=A||f===o&&p.isActive&&!v&&g||t>d&&g;const w=Array.isArray(m)?m:[m];let E=w.reduce(i,{});!1===y&&(E={});const{prevResolvedValues:I={}}=p,C={...I,...E},S=e=>{b=!0,c.delete(e),p.needsAnimating[e]=!0};for(const e in C){const t=E[e],n=I[e];h.hasOwnProperty(e)||(t!==n?ZI(t)&&ZI(n)?!MC(t,n)||A?S(e):p.protectedKeys[e]=!0:void 0!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0)}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(h={...h,...E}),r&&e.blockInitialAnimation&&(b=!1),b&&!v&&u.push(...w.map((e=>({animation:e,options:{type:f,...s}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let f=Boolean(u.length);return r&&!1===a.initial&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(u):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Xx(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!MC(t,e)}function Yx(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Jx=0;const Zx={animation:{Feature:class extends gC{constructor(e){super(e),e.animationState||(e.animationState=Kx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),OE(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends gC{constructor(){super(...arguments),this.id=Jx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},$x=(e,t)=>Math.abs(e-t);class ek{constructor(e,t){let{transformPagePoint:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=rk(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=$x(e.x,t.x),r=$x(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=yC;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=tk(t,this.transformPagePoint),CC.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=rk("pointercancel"===e.type?this.lastMoveEventInfo:tk(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!oC(e))return;this.handlers=t,this.transformPagePoint=n;const r=tk(aC(e),this.transformPagePoint),{point:i}=r,{timestamp:s}=yC;this.history=[{...i,timestamp:s}];const{onSessionStart:o}=t;o&&o(e,rk(r,this.history)),this.removeListeners=cC(lC(window,"pointermove",this.handlePointerMove),lC(window,"pointerup",this.handlePointerUp),lC(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),SC(this.updatePoint)}}function tk(e,t){return t?{point:t(e.point)}:e}function nk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rk(e,t){let{point:n}=e;return{point:n,delta:nk(n,sk(t)),offset:nk(n,ik(t)),velocity:ok(t,.1)}}function ik(e){return e[0]}function sk(e){return e[e.length-1]}function ok(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=sk(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>QC(t)));)n--;if(!r)return{x:0,y:0};const s=zC(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ak(e){return e.max-e.min}function lk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function uk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=wS(t.min,t.max,e.origin),e.scale=ak(n)/ak(t),(lk(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wS(n.min,n.max,e.origin)-e.originPoint,(lk(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ck(e,t,n,r){uk(e.x,t.x,n.x,r?r.originX:void 0),uk(e.y,t.y,n.y,r?r.originY:void 0)}function hk(e,t,n){e.min=n.min+t.min,e.max=e.min+ak(t)}function dk(e,t,n){e.min=t.min-n.min,e.max=e.min+ak(t)}function fk(e,t,n){dk(e.x,t.x,n.x),dk(e.y,t.y,n.y)}function pk(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mk(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const gk=.35;function yk(e,t,n){return{min:vk(e,t),max:vk(e,n)}}function vk(e,t){return"number"===typeof e?e:e[t]||0}function Ak(e){return[e("x"),e("y")]}function bk(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function wk(e){return void 0===e||1===e}function Ek(e){let{scale:t,scaleX:n,scaleY:r}=e;return!wk(t)||!wk(n)||!wk(r)}function Ik(e){return Ek(e)||Ck(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ck(e){return Sk(e.x)||Sk(e.y)}function Sk(e){return e&&"0%"!==e}function xk(e,t,n){return n+t*(e-n)}function kk(e,t,n,r,i){return void 0!==i&&(e=xk(e,i,r)),xk(e,n,r)+t}function Tk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=kk(e.min,t,n,r,i),e.max=kk(e.max,t,n,r,i)}function Nk(e,t){let{x:n,y:r}=t;Tk(e.x,n.translate,n.scale,n.originPoint),Tk(e.y,r.translate,r.scale,r.originPoint)}function Rk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Pk(e,t){e.min=e.min+t,e.max=e.max+t}function Dk(e,t,n){let[r,i,s]=n;const o=void 0!==t[s]?t[s]:.5,a=wS(e.min,e.max,o);Tk(e,t[r],t[i],a,t.scale)}const _k=["x","scaleX","originX"],Lk=["y","scaleY","originY"];function Bk(e,t){Dk(e.x,t,_k),Dk(e.y,t,Lk)}function Ok(e,t){return bk(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Mk=new WeakMap;class Vk{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new ek(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(aC(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pC(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ak((e=>{let t=this.getAxisMotionValue(e).get()||0;if(wI.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ak(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&CC.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&CC.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Uk(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?wS(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?wS(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&LE(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:pk(e.x,r,s),y:pk(e.y,n,i)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gk;return!1===e?e=0:!0===e&&(e=gk),{x:yk(e,"left","right"),y:yk(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ak((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!LE(e))return!1;const n=e.current;jC(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Ok(e,n),{scroll:i}=t;return i&&(Pk(r.x,i.offset.x),Pk(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:mk(e.x,t.x),y:mk(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=bk(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Ak((o=>{if(!Uk(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Sx(e,n,0,t))}stopAnimation(){Ak((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ak((t=>{const{drag:n}=this.getProps();if(!Uk(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-wS(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!LE(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ak((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=ak(e),i=ak(t);return i>r?n=jS(t.min,t.max-r,e.min):r>i&&(n=jS(e.min,e.max-i,t.min)),cI(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ak((t=>{if(!Uk(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(wS(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Mk.set(this.visualElement,this);const e=lC(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();LE(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=sC(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ak((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=gk,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function Uk(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Fk=e=>(t,n)=>{e&&CC.update((()=>e(t,n)))};const jk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zk={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!EI.test(e))return e;e=parseFloat(e)}return`${Qk(e,t.target.x)}% ${Qk(e,t.target.y)}%`}},qk={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=BS.parse(e);if(s.length>5)return i;const o=BS.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=u;const c=wS(l,u,.5);return"number"===typeof s[2+a]&&(s[2+a]/=c),"number"===typeof s[3+a]&&(s[3+a]/=c),o(s)}};class Hk extends s.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Gk,Object.assign($E,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||CC.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wk(e){const[t,n]=function(){const e=(0,s.useContext)(RE);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=(0,s.useId)();return(0,s.useEffect)((()=>r(i)),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}(),r=(0,s.useContext)(HE);return s.createElement(Hk,{...e,layoutGroup:r,switchLayoutGroup:(0,s.useContext)(WE),isPresent:t,safeToRemove:n})}const Gk={borderRadius:{...zk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zk,borderTopRightRadius:zk,borderBottomLeftRadius:zk,borderBottomRightRadius:zk,boxShadow:qk},Kk=["TopLeft","TopRight","BottomLeft","BottomRight"],Xk=Kk.length,Yk=e=>"string"===typeof e?parseFloat(e):e,Jk=e=>"number"===typeof e||EI.test(e);function Zk(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const $k=tT(0,.5,aS),eT=tT(.5,.95,TC);function tT(e,t,n){return r=>r<e?0:r>t?1:n(jS(e,t,r))}function nT(e,t){e.min=t.min,e.max=t.max}function rT(e,t){nT(e.x,t.x),nT(e.y,t.y)}function iT(e,t,n,r,i){return e=xk(e-=t,1/n,r),void 0!==i&&(e=xk(e,1/i,r)),e}function sT(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;wI.test(t)&&(t=parseFloat(t),t=wS(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=wS(s.min,s.max,r);e===s&&(a-=t),e.min=iT(e.min,t,n,a,i),e.max=iT(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const oT=["x","scaleX","originX"],aT=["y","scaleY","originY"];function lT(e,t,n,r){sT(e.x,t,oT,n?n.x:void 0,r?r.x:void 0),sT(e.y,t,aT,n?n.y:void 0,r?r.y:void 0)}function uT(e){return 0===e.translate&&1===e.scale}function cT(e){return uT(e.x)&&uT(e.y)}function hT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function dT(e){return ak(e.x)/ak(e.y)}class fT{constructor(){this.members=[]}add(e){Tx(this.members,e),e.scheduleRender()}remove(e){if(Nx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pT(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+=`scale(${o}, ${a})`),r||"none"}const mT=(e,t)=>e.depth-t.depth;class gT{constructor(){this.children=[],this.isDirty=!1}add(e){Tx(this.children,e),this.isDirty=!0}remove(e){Nx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mT),this.isDirty=!1,this.children.forEach(e)}}const yT=["","X","Y","Z"];let vT=0;const AT={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function bT(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=vT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;AT.totalNodes=AT.resolvedTargetDeltas=AT.recalculatedProjection=0,this.nodes.forEach(IT),this.nodes.forEach(RT),this.nodes.forEach(PT),this.nodes.forEach(CT),e=AT,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new gT)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Rx),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(SC(r),e(o-t))};return CC.read(r,!0),()=>SC(r)}(r,250),jk.hasAnimatedSinceResize&&(jk.hasAnimatedSinceResize=!1,this.nodes.forEach(NT))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||MT,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!hT(this.targetLayout,i)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...Cx(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||NT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,SC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DT),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(xT);this.isUpdating||this.nodes.forEach(kT),this.isUpdating=!1,this.nodes.forEach(TT),this.nodes.forEach(wT),this.nodes.forEach(ET),this.clearAllSnapshots();const e=performance.now();yC.delta=cI(0,1e3/60,e-yC.timestamp),yC.timestamp=e,yC.isProcessing=!0,wC.update.process(yC),wC.preRender.process(yC),wC.render.process(yC),yC.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(ST),this.sharedNodes.forEach(_T)}scheduleUpdateProjection(){CC.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){CC.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!cT(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Ik(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),VT((r=n).x),VT(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Pk(t.x,n.offset.x),Pk(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};rT(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){rT(t,e);const{scroll:n}=this.root;n&&(Pk(t.x,-n.offset.x),Pk(t.y,-n.offset.y))}Pk(t.x,i.offset.x),Pk(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};rT(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Bk(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ik(e.latestValues)&&Bk(n,e.latestValues)}return Ik(this.latestValues)&&Bk(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};rT(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ik(e.latestValues))continue;Ek(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};rT(r,e.measurePageBox()),lT(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ik(this.latestValues)&&lT(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yC.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=yC.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fk(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),rT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),function(e,t,n){hk(e.x,t.x,n.x),hk(e.y,t.y,n.y)}(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):rT(this.target,this.layout.layoutBox),Nk(this.target,this.targetDelta)):rT(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fk(this.relativeTargetOrigin,this.target,e.target),rT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}AT.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ek(this.parent.latestValues)&&!Ck(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===yC.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;rT(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bk(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Nk(e,o)),r&&Ik(s.latestValues)&&Bk(e,s.latestValues))}t.x=Rk(t.x),t.y=Rk(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.projectionTransform;ck(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=pT(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),AT.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(OT));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;LT(s.x,e.x,n),LT(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fk(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){BT(e.x,t.x,n.x,r),BT(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&hT(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),rT(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=wS(0,void 0!==n.opacity?n.opacity:1,$k(r)),e.opacityExit=wS(void 0!==t.opacity?t.opacity:1,0,eT(r))):s&&(e.opacity=wS(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<Xk;o++){const i=`border${Kk[o]}Radius`;let s=Zk(t,i),a=Zk(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Jk(s)===Jk(a)?(e[i]=Math.max(wS(Yk(s),Yk(a),r),0),(wI.test(a)||wI.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=wS(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(SC(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=CC.update((()=>{jk.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=rI(e)?e:Dx(e);return r.start(Sx("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&UT(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ak(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ak(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}rT(t,n),Bk(t,i),ck(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new fT);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<yT.length;i++){const t="rotate"+yT[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=eC(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=eC(e.pointerEvents)||""),this.hasProjected&&!Ik(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=pT(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in $E){if(void 0===o[u])continue;const{correct:e,applyTo:t}=$E[u],n="none"===r.transform?o[u]:e(o[u],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?eC(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(xT),this.root.sharedNodes.clear()}}}function wT(e){e.updateLayout()}function ET(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Ak((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=ak(r);r.min=t[e].min,r.max=r.min+i})):UT(i,n.layoutBox,t)&&Ak((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=ak(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ck(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?ck(a,e.applyTransform(r,!0),n.measuredBox):ck(a,t,n.layoutBox);const l=!cT(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};fk(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};fk(a,t,s.layoutBox),hT(o,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function IT(e){AT.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function CT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ST(e){e.clearSnapshot()}function xT(e){e.clearMeasurements()}function kT(e){e.isLayoutDirty=!1}function TT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RT(e){e.resolveTargetDelta()}function PT(e){e.calcProjection()}function DT(e){e.resetRotation()}function _T(e){e.removeLeadSnapshot()}function LT(e,t,n){e.translate=wS(t.translate,0,n),e.scale=wS(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function BT(e,t,n,r){e.min=wS(t.min,n.min,r),e.max=wS(t.max,n.max,r)}function OT(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const MT={duration:.45,ease:[.4,0,.1,1]};function VT(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function UT(e,t,n){return"position"===e||"preserve-aspect"===e&&!lk(dT(t),dT(n),.2)}const FT=bT({attachResizeListener:(e,t)=>sC(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jT={current:void 0},QT=bT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jT.current){const e=new FT({});e.mount(window),e.setOptions({layoutScroll:!0}),jT.current=e}return jT.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),zT={pan:{Feature:class extends gC{constructor(){super(...arguments),this.removePointerDownListener=TC}onPointerDown(e){this.session=new ek(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Fk(e),onStart:Fk(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&CC.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=lC(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends gC{constructor(e){super(e),this.removeGroupControls=TC,this.removeListeners=TC,this.controls=new Vk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||TC}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:QT,MeasureLayout:Wk}},qT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function HT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;jC(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=qT.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():lI(i)?HT(i,t,n+1):i}const WT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),GT=e=>WT.has(e),KT=e=>e===hI||e===EI,XT=(e,t)=>parseFloat(e.split(", ")[t]),YT=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return XT(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?XT(t[1],e):0}},JT=new Set(["x","y","z"]),ZT=eI.filter((e=>!JT.has(e)));const $T={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:YT(4,13),y:YT(5,14)},eN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(GT);let s=[],o=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=Bx(u);const h=t[i];let d;if(ZI(h)){const e=h.length,t=null===h[0]?1:0;u=h[t],c=Bx(u);for(let n=t;n<e&&null!==h[n];n++)d?jC(Bx(h[n])===d,"All keyframes must be of the same type"):(d=Bx(h[n]),jC(d===c||KT(c)&&KT(d),"Keyframes must be of the same dimension as the current value"))}else d=Bx(h);if(c!==d)if(KT(c)&&KT(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===EI&&(t[i]=h.map(parseFloat))}else(null===c||void 0===c?void 0:c.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===u||0===h)?0===u?l.set(d.transform(u)):t[i]=c.transform(h):(o||(s=function(e){const t=[];return ZT.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=$T[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=$T[n](l,s)})),e})(t,e,a);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),PE&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function tN(e,t,n,r){return(e=>Object.keys(e).some(GT))(t)?eN(e,t,n,r):{target:t,transitionEnd:r}}const nN=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!lI(t))return;const n=HT(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!lI(e))continue;const t=HT(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return tN(e,t=i.target,n,r=i.transitionEnd)},rN={current:null},iN={current:!1};const sN=new WeakMap,oN=Object.keys(qE),aN=oN.length,lN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uN=VE.length;class cN{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>CC.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=UE(n),this.isVariantNode=FE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const e=c[h];void 0!==a[h]&&rI(e)&&(e.set(a[h],!1),xx(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,sN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),iN.current||function(){if(iN.current=!0,PE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rN.current=e.matches;e.addListener(t),t()}else rN.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||rN.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sN.delete(this.current),this.projection&&this.projection.unmount(),SC(this.notifyUpdate),SC(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=tI.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&CC.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:o,...a}=e;for(let l=0;l<aN;l++){const e=oN[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=qE[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(s=o))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&LE(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<lN.length;n++){const t=lN[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(rI(s))e.addValue(i,s),xx(r)&&r.add(i);else if(rI(o))e.addValue(i,Dx(s,{owner:e})),xx(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Dx(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<uN;t++){const n=VE[t],r=this.props[n];(BE(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Dx(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=JI(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||rI(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Rx),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class hN extends cN{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:o}=t,a=function(e,t,n){const r={};for(const i in e){const e=Fx(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(o&&(i&&(i=o(i)),s&&(s=o(s)),a&&(a=o(a))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=t[o];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==u&&null!==u&&("string"===typeof u&&(kx(u)||Ex(u))?u=parseFloat(u):!Mx(u)&&BS.test(l)&&(u=wx(o,l)),e.addValue(o,Dx(u,{owner:e})),void 0===n[o]&&(n[o]=u),null!==u&&e.setBaseTarget(o,u))}}(this,s,a);const e=nN(this,s,a,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class dN extends hN{readValueFromInstance(e,t){if(tI.has(t)){const e=bx(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(aI(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Ok(e,n)}build(e,t,n,r){TI(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return XI(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rI(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){WI(e,t,n,r)}}class fN extends hN{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tI.has(t)){const e=bx(t);return e&&e.default||0}return t=GI.has(t)?t:HI(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return YI(e,t)}build(e,t,n,r){FI(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){KI(e,t,0,r)}mount(e){this.isSVGTag=QI(e.tagName),super.mount(e)}}const pN=(e,t)=>ZE(e)?new fN(t,{enableHardwareAcceleration:!1}):new dN(t,{enableHardwareAcceleration:!0}),mN={...Zx,...OC,...zT,...{layout:{ProjectionNode:QT,MeasureLayout:Wk}}},gN=YE(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...ZE(e)?rC:iC,preloadedFeatures:n,useRender:qI(i),createVisualElement:r,Component:e}}(e,t,mN,pN)));const yN=n.p+"static/media/loading.87d061fe8de3462e96c1.png";const vN=function(e){const[t,n]=(0,s.useState)(""),[r,i]=(0,s.useState)(0),[o,a]=(0,s.useState)(0),[l,u]=(0,s.useState)(),[c,h]=(0,s.useState)("");function d(){let e="/Pet_Sprites/";return"egg"===t?e+t+".png":null===t?e+"loading.png":e+t+"/"+t+r%3+"/"+t+r%3+"_"+o+l+".png"}function f(e){return"Blue Cap"===e?1:"Red Cap"===e?2:"Orange Cap"===e?3:"Cowboy Hat"===e?4:"Pink Party Hat"===e?5:"Green Party Hat"===e?6:"Blue Party Hat"===e?7:"Red Bandana"===e?1:"Blue Bandana"===e?2:0}function p(){return""===c?(0,jw.jsx)("img",{className:"pet",src:`/NeuroPets/${yN}`,alt:"loading pet"}):(0,jw.jsx)("img",{className:"pet",src:`/NeuroPets/${c}`,alt:"retrieved pet"})}return(0,s.useEffect)((()=>{if(null!==e.currGoal){let t=e.currGoal.progressCounter,r=e.currGoal.pet,s=0;""!==e.currGoal.wearingAccessories.headgear&&(s=e.currGoal.wearingAccessories.headgear);let o=0;""!==e.currGoal.wearingAccessories.neckwear&&(o=e.currGoal.wearingAccessories.neckwear);let l=f(s);a(l);let c=f(o);u(c);let p=function(e,t){if(t<=7)return"egg";t<=28?i(e):t<=49?i(e+1):t<=60&&i(e+2);if(e<3)return"bunny";if(e<6)return"penguin";if(e<9)return"frog";if(null===e)return"loading"}(r,t);n(p);let m=d();h(m)}})),(0,jw.jsx)(p,{})};class AN{constructor(e,t){this._delegate=e,this.firebase=t,Yt(e,new qe("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),un(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Yt(this._delegate,e)}_addOrOverwriteComponent(e){Jt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const bN=new De("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const wN=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=on(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Le(t,i.name))return t[i.name];const s=new e(i,n);return t[i.name]=s,s},app:i,registerVersion:cn,setLogLevel:dn,onLog:hn,apps:null,SDK_VERSION:sn,INTERNAL:{registerComponent:function(t){const r=t.name,s=r.replace("-compat","");if(Zt(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw bN.create("invalid-app-argument",{appName:r});return e[s]()};void 0!==t.serviceProps&&we(o,t.serviceProps),n[s]=o,e.prototype[s]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!Le(t,e=e||Wt))throw bN.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(AN);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){we(t,e)},createSubscribe:Fe,ErrorFactory:De,deepExtend:we}),t}(),EN=new et("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){EN.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&EN.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const IN=wN;!function(e){cn("@firebase/app-compat","0.2.13",e)}();IN.registerVersion("firebase","9.23.0","app-compat");function CN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sc("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function SN(){if("undefined"===typeof Uint8Array)throw new sc("unimplemented","Uint8Arrays are not available in this environment.")}function xN(){if("undefined"==typeof atob)throw new sc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kN{constructor(e){this._delegate=e}static fromBase64String(e){return xN(),new kN(Ab.fromBase64String(e))}static fromUint8Array(e){return SN(),new kN(Ab.fromUint8Array(e))}toBase64(){return xN(),this._delegate.toBase64()}toUint8Array(){return SN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class NN{enableIndexedDbPersistence(e,t){return function(e,t){vb(e=KA(e,ub));const n=hb(e);if(n._uninitializedComponentsProvider)throw new sc(ic.FAILED_PRECONDITION,"SDK cache is already specified.");$u("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new bA;return fb(n,i,new vA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){vb(e=KA(e,ub));const t=hb(e);if(t._uninitializedComponentsProvider)throw new sc(ic.FAILED_PRECONDITION,"SDK cache is already specified.");$u("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new bA;return fb(t,r,new AA(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new sc(ic.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new oc;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!jc.D())return Promise.resolve();const t=e+"main";await jc.delete(t)}(ny(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class RN{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||$u("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZA(this._delegate,e,t,n)}enableNetwork(){return mb(this._delegate)}disableNetwork(){return gb(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,qA("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pb(this._delegate)}onSnapshotsInSync(e){return Nw(this._delegate,e)}get app(){if(!this._appCompat)throw new sc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qN(this,nb(this._delegate,e))}catch(t){throw ON(t,"collection()","Firestore.collection()")}}doc(e){try{return new BN(this,rb(this._delegate,e))}catch(t){throw ON(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jN(this,function(e,t){if(e=KA(e,JA),zA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sc(ic.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eb(e,null,function(e){return new $d(Ic.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw ON(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=KA(e,ub);const r=Object.assign(Object.assign({},Dw),n);return function(e){if(e.maxAttempts<1)throw new sc(ic.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new oc;return e.asyncQueue.enqueueAndForget((async()=>{const i=await OA(e);new SA(e.asyncQueue,i,n,t,r).run()})),r.promise}(hb(e),(n=>t(new Bw(e,n))),r)}(this._delegate,(t=>e(new DN(this,t))))}batch(){return hb(this._delegate),new _N(new _w(this._delegate,(e=>Rw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=hb(e=KA(e,ub)),r=new lb;return FA(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return yb(this._delegate,e).then((e=>e?new jN(this,e):null))}}class PN extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new kN(new Ab(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return BN.forKey(t,this.firestore,null)}}class DN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}get(e){const t=HN(e);return this._delegate.get(t).then((e=>new UN(this._firestore,new yw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=HN(e);return n?(CN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=HN(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=HN(e);return this._delegate.delete(t),this}}class _N{constructor(e){this._delegate=e}set(e,t,n){const r=HN(e);return n?(CN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=HN(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=HN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class LN{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=LN.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new LN(e,new PN(e),t),r.set(t,i)),i}}LN.INSTANCES=new WeakMap;class BN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}static forPath(e,t,n){if(e.length%2!==0)throw new sc("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new BN(t,new $A(t._delegate,n,new xc(e)))}static forKey(e,t,n){return new BN(t,new $A(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qN(this.firestore,nb(this._delegate,e))}catch(t){throw ON(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ze(e))instanceof $A&&ib(this._delegate,e)}set(e,t){t=CN("DocumentReference.set",t);try{return t?xw(this._delegate,e,t):xw(this._delegate,e)}catch(n){throw ON(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kw(this._delegate,e):kw(this._delegate,e,t,...r)}catch(s){throw ON(s,"updateDoc()","DocumentReference.update()")}}delete(){return Rw(KA((e=this._delegate).firestore,ub),[new lp(e._key,Xf.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=MN(t),i=VN(t,(e=>new UN(this.firestore,new yw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Tw(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Cw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KA(e,$A);const t=KA(e.firestore,ub);return VA(hb(t),e._key,{source:"server"}).then((n=>Pw(t,e,n)))}(this._delegate):Ew(this._delegate),t.then((e=>new UN(this.firestore,new yw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new BN(this.firestore,e?this._delegate.withConverter(LN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ON(e,t,n){return e.message=e.message.replace(t,n),e}function MN(e){for(const t of e)if("object"===typeof t&&!TN(t))return t;return{}}function VN(e,t){var n,r;let i;return i=TN(e[0])?e[0]:TN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class UN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new BN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ww(this._delegate,e._delegate)}}class FN extends UN{data(e){const t=this._delegate.data(e);return void 0!==t||tc(),t}}class jN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}where(e,t,n){try{return new jN(this.firestore,tw(this._delegate,function(e,t,n){const r=t,i=Jb("where",e);return nw._create(i,r,n)}(e,t,n)))}catch(r){throw ON(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jN(this.firestore,tw(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Jb("orderBy",e);return iw._create(n,t)}(e,t)))}catch(n){throw ON(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jN(this.firestore,tw(this._delegate,(XA("limit",t=e),sw._create("limit",t,"F"))))}catch(n){throw ON(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new jN(this.firestore,tw(this._delegate,(XA("limitToLast",t=e),sw._create("limitToLast",t,"L"))))}catch(n){throw ON(n,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new jN(this.firestore,tw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ow._create("startAt",t,!0)}(...arguments)))}catch(e){throw ON(e,"startAt()","Query.startAt()")}}startAfter(){try{return new jN(this.firestore,tw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ow._create("startAfter",t,!1)}(...arguments)))}catch(e){throw ON(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new jN(this.firestore,tw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aw._create("endBefore",t,!1)}(...arguments)))}catch(e){throw ON(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new jN(this.firestore,tw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aw._create("endAt",t,!0)}(...arguments)))}catch(e){throw ON(e,"endAt()","Query.endAt()")}}isEqual(e){return sb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Sw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KA(e,eb);const t=KA(e.firestore,ub),n=hb(t),r=new Iw(t);return UA(n,e._query,{source:"server"}).then((n=>new Aw(t,r,e,n)))}(this._delegate):function(e){e=KA(e,eb);const t=KA(e.firestore,ub),n=hb(t),r=new Iw(t);return Zb(e._query),UA(n,e._query).then((n=>new Aw(t,r,e,n)))}(this._delegate),t.then((e=>new zN(this.firestore,new Aw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=MN(t),i=VN(t,(e=>new zN(this.firestore,new Aw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Tw(this._delegate,r,i)}withConverter(e){return new jN(this.firestore,e?this._delegate.withConverter(LN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class QN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new FN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new FN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new QN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new FN(this._firestore,n))}))}isEqual(e){return ww(this._delegate,e._delegate)}}class qN extends jN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new BN(this.firestore,e):null}doc(e){try{return new BN(this.firestore,void 0===e?rb(this._delegate):rb(this._delegate,e))}catch(t){throw ON(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=KA(e.firestore,ub),r=rb(e),i=pw(e.converter,t);return Rw(n,[Rb(Nb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xf.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new BN(this.firestore,e)))}isEqual(e){return ib(this._delegate,e._delegate)}withConverter(e){return new qN(this.firestore,e?this._delegate.withConverter(LN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function HN(e){return KA(e,$A)}class WN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new bb(...t)}static documentId(){return new WN(Sc.keyField().canonicalString())}isEqual(e){return(e=ze(e))instanceof bb&&this._delegate._internalPath.isEqual(e._internalPath)}}class GN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new _b("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new GN(e)}static delete(){const e=new Pb("deleteField");return e._methodName="FieldValue.delete",new GN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lb("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new GN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bb("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new GN(e)}static increment(e){const t=new Ob("increment",e);return t._methodName="FieldValue.increment",new GN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const KN={Firestore:RN,GeoPoint:Eb,Timestamp:bc,Blob:kN,Transaction:DN,WriteBatch:_N,DocumentReference:BN,DocumentSnapshot:UN,Query:jN,QueryDocumentSnapshot:FN,QuerySnapshot:zN,CollectionReference:qN,FieldPath:WN,FieldValue:GN,setLogLevel:function(e){var t;t=e,Xu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var XN;function YN(e){let t=e.user,n=e.isDeleteGoalOpen;const[r,i]=(0,s.useState)(!0),o=Z();(async()=>{const e=rb(Uw,"all_data",t.uid);let n=await Ew(e);i(!!n.data().activeGoal)})();const a=()=>{e.setIsDeleteGoalOpen(!1)};return(0,jw.jsx)(jw.Fragment,{children:n&&(0,jw.jsx)("div",{className:"Popup",children:(0,jw.jsx)("div",{className:"DeleteGoal",children:(0,jw.jsxs)("div",{className:"DeleteGoalInputBubble",children:[r&&(0,jw.jsxs)("div",{className:"ActiveGoalExists",children:[(0,jw.jsxs)("div",{className:"bubbleHeader",children:[(0,jw.jsx)("p",{children:"Would you like to delete your current goal and create a new one?"}),(0,jw.jsx)("p",{children:"This action will delete your current progress!"})]}),(0,jw.jsxs)("div",{className:"BinaryBubbleButtons",children:[(0,jw.jsx)("button",{onClick:()=>{(async()=>{if(t){const e=rb(Uw,"all_data",t.uid),n=await Ew(e);let r=n.data().goalArray,i=r[r.length-1],s=n.data().lastProgressMade;await kw(e,{goalArray:IN.firestore.FieldValue.arrayRemove(i),lastProgressMade:IN.firestore.FieldValue.delete(s),activeGoal:0})}})(),o("../CreateGoal")},className:"BinaryBubbleButton",children:" Yes "}),(0,jw.jsx)("button",{onClick:a,className:"BinaryBubbleButton",children:" No "})]})]}),!r&&(0,jw.jsx)("div",{className:"NoActiveGoalExists",children:(0,jw.jsxs)("div",{className:"bubbleHeader",children:[(0,jw.jsx)("p",{children:"You have no active goals so you can't delete any goals!"}),(0,jw.jsx)("div",{children:(0,jw.jsx)("button",{onClick:a,className:"bubbleButton",children:" Okay "})})]})})]})})})})}(function(e,t){e.INTERNAL.registerComponent(new qe("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KN)))})(XN=IN,((e,t)=>new RN(e,t,new NN))),XN.registerVersion("@firebase/firestore-compat","0.3.12");const JN=function(e){const t=Vw.currentUser,n=Z(),[r,i]=(0,s.useState)(!1),[o,a]=(0,s.useState)(!1);function l(){(function(e){return ze(e).signOut()})(Vw).then((()=>{n("../")})).catch((e=>{console.log(e)}))}function u(){i(!1)}function c(){return(0,jw.jsx)(jw.Fragment,{children:r&&(0,jw.jsx)("div",{className:"Popup",children:(0,jw.jsx)("div",{className:"SignOutPopup1",children:(0,jw.jsxs)("div",{className:"SignOutPopup2",children:[(0,jw.jsx)("p",{className:"ConfirmSignOutText",children:"Would you like to sign out?"}),(0,jw.jsx)("button",{className:"bubbleButton",onClick:l,children:"Okay"}),(0,jw.jsx)("button",{className:"bubbleButton",onClick:u,children:"Cancel"})]})})})})}return(0,jw.jsxs)("div",{className:"Footer",children:[(0,jw.jsx)("nav",{className:"navbar",children:(0,jw.jsxs)("ul",{className:"navlist",children:[(0,jw.jsx)("li",{onClick:function(){a(!0)},className:"editGoalIcon"}),(0,jw.jsx)("li",{className:"petHabitatIcon",onClick:()=>{n("../PetGallery",{state:{goalArray:e.goalArray,petPoints:e.petPoints}})}}),(0,jw.jsx)("li",{className:"homeIcon",onClick:()=>{n("../Home")}}),(0,jw.jsx)("li",{className:"shopIcon",onClick:()=>{n("../PetStore",{state:{goalArray:e.goalArray,petPoints:e.petPoints}})}}),(0,jw.jsx)("li",{className:"settingsIcon",onClick:function(){i(!0)}})]})}),(0,jw.jsx)(c,{}),(0,jw.jsx)(YN,{user:t,isDeleteGoalOpen:o,setIsDeleteGoalOpen:a})]})};const ZN=n.p+"static/media/Close.0633f3500ea3285d7373d0852c3022d2.svg";const $N=function(e){const t=Z(),n=Vw.currentUser,[r,i]=(0,s.useState)(""),[o,a]=(0,s.useState)(!1),l=()=>{e.setPopupDisplay(!1);if(60===e.progressCounter){let n=e.currGoal;t("/goalCompleted",{state:{currGoal:n}})}};return(0,jw.jsx)("div",{className:"Popup",children:(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsx)("button",{className:"close-btn",onClick:l,children:(0,jw.jsx)("img",{src:ZN,alt:"close popup button"})}),(0,jw.jsx)("p",{className:"BubbleHeader",children:"Journal Entry?"}),(0,jw.jsx)("textarea",{className:"bubbleField",rows:"5",cols:"33",placeholder:"Example: I read 5 pages of \u201cThe Four Agreements\u201d, I jogged with my friend for 30 minutes...",value:r,onChange:e=>i(e.target.value)}),(0,jw.jsx)("button",{className:"bubbleButton",onClick:async()=>{try{if(n){let t=(await qw(n.uid)).goalArray;t.length>0&&t[e.currGoalId].logs.pop(),t[e.currGoalId].logs.push({date:e.progressTimestamp,log:r}),Hw(n.uid,{goalArray:t}),e.setGoalArray(t),l()}}catch(t){a(!0)}},children:"Log in Journal"}),o&&(0,jw.jsx)("p",{style:{margin:0},children:" Error logging progress"})]})})};const eR=function(){const e=Z();return(0,jw.jsx)("div",{className:"NoActiveGoal",children:(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsx)("p",{className:"bubbleHeader",children:" You currently have no active goals "}),(0,jw.jsx)("button",{onClick:()=>{e("../createGoal")},className:"bubbleButton",children:"Create Goal"})]})})};const tR=n.p+"static/media/ProfTextB.38280d12177771cefcb3f8d9a6bfe7f4.svg";const nR=n.p+"static/media/GreenCheckmark.f8f8eaad5871da5d7bb8fe4b16fd92de.svg";const rR=function(){const[e]=kE(),[t,n]=(0,s.useState)(!1),r={y:[0,-10,0],transition:{duration:1.5,repeat:1/0,y:{type:"spring",stiffness:20,damping:2}}},i=t?{x:[0,10,-10,10,-10,0],transition:{duration:1}}:{},[o,a]=(0,s.useState)([]),[l,u]=(0,s.useState)(null),[c,h]=(0,s.useState)(null),[d,f]=(0,s.useState)(!0),[p,m]=(0,s.useState)(0),[g,y]=(0,s.useState)(0),[v,A]=(0,s.useState)(!1),[b,w]=(0,s.useState)(0),[E,I]=(0,s.useState)(null),[C,S]=(0,s.useState)(!1),x=e=>{for(let t=0;t<Xw.length;t++)if(Xw[t]===e)return t;return!1},k=()=>{const e=new Date;I(e);const t=Vw.currentUser;A(!0),y(g+1),w(b+5);var r=o;r[p].logs.push({date:e,log:""}),r[p].progressCounter+=1,Hw(t.uid,{lastProgressMade:e,goalArray:r,petPoints:b+5}),a(r),setTimeout((function(){S(!0)}),900),n(!0)};function T(){return v?(0,jw.jsx)("div",{children:(0,jw.jsx)("img",{className:"GreenCheck",src:nR,alt:"green checkmark"})}):(0,jw.jsxs)("button",{className:"GoalButton",onClick:k,children:[(0,jw.jsxs)("p",{className:"G1Text",children:[g,"/60 Days"]}),(0,jw.jsx)("p",{className:"G2Text",children:"Complete...?"})]})}return(0,s.useEffect)((()=>{const e=e=>{void 0===e?A(!1):(e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()})(e.toDate())&&A(!0)};(async()=>{try{const t=Vw.currentUser;if(t){const n=await qw(t.uid);if(null!==n){f(!!n.activeGoal),e(n.lastProgressMade);let t=n.goalArray.length-1,r=n.goalArray[t].goal;m(t),u(n.goalArray[t]),a(n.goalArray),!1===x(r)?h(r):h(Yw[x(r)][3*(new Date).getDate()%10]),y(n.goalArray[t].progressCounter),w(n.petPoints)}}}catch(t){console.log(t),console.log("ERROR GETTING ALL DATA")}})()}),[]),(0,jw.jsxs)("div",{className:"Home",children:[d&&(0,jw.jsxs)("div",{className:"ActiveGoal",ref:e,children:[(0,jw.jsx)("div",{className:"GoalBubble",children:(0,jw.jsx)("p",{className:"BubbleText",children:c})}),(0,jw.jsxs)("div",{className:"PetEnvironmentHeader",children:[(0,jw.jsx)("div",{className:"PetHeader",children:(0,jw.jsx)(gN.div,{animate:{...i,...r},children:(0,jw.jsx)(vN,{currGoal:l})})}),(0,jw.jsxs)("div",{className:"WindowTextBox1",children:[(0,jw.jsx)("p",{className:"WindowText",children:"Day"}),(0,jw.jsx)("p",{className:"WindowText",children:g})]}),(0,jw.jsx)("div",{className:"WindowTextBox2",children:(0,jw.jsx)("p",{className:"WindowText",children:"Points"})}),(0,jw.jsx)("div",{className:"WindowTextBox3",children:(0,jw.jsx)("p",{className:"WindowText",children:b})})]}),(0,jw.jsx)(T,{onClick:k}),!v&&(0,jw.jsx)("img",{className:"ProfessorText",src:tR,alt:"Professor speech bubble"}),C&&(0,jw.jsx)($N,{ref:e,currGoal:l,currGoalId:p,setPopupDisplay:S,progressCounter:g,progressTimestamp:E,setGoalArray:a})]}),!d&&(0,jw.jsx)(eR,{}),(0,jw.jsx)(JN,{goalArray:o,petPoints:b})]})};const iR=function(e){return(0,jw.jsxs)("div",{className:"buttonArea",children:[e.displayedRange[0]>=e.backLimit?(0,jw.jsx)("button",{className:"backArrow",onClick:e.backFunc,children:(0,jw.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABQCAYAAAByBNlnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOiSURBVHgB7Zw/TxtBEMUnyALEX1MgCkCyKKnS0ZFLATURNFSBT0AaSgSpqfgEIRUNKOkpQjroqCgJEiCXji0XLiwnN8aY3Q3eu3XsuT37/aQp5nZN8Wze7c7sHREAAABfeEN+kg3jG7nxNYxj8pAM+QmLHJAbP8lTBgh0HYgsgC92EYTxUcmz5oS9vT2amJho5qenp3R1dUVpwBeRc2Fs2SasrKzQ3NxcM7+8vEyNyLALASCyAEnZxdtGPPNOHWTvZXswr6WVpEReC2O/1SALenh4SL0C7EIAiCyAlF3kjHxSTcbHx2ly8uXS7Ows9RJSIn8hSy1idXW1pzzYBHYhAEQWACIL0C1P/mMb3NnZqUcrMpkMzc/Pa9fu7++pWq2ShX2yrL0FeR/GhXoBv2QBILIAEFmATnhyZNOTC+6Li4vN3NxsDA8P09TUVDMfGIj+7re3t2ljY4OSZnNzM3JOp0QObBNY4KWlpZbjfKNjoV1QvzTfgV0IAJEFaMcuuNi+puT/ND3NNfBrHqzaw9DQEEXBNeZarUZJwuv0crlMrrQrsnXRb9toMOaNLg5qlS4pKpVKWyLDLgSAyALEsYuA9KJ7ZNPTZGRkRFv7xvHgXiKOyFukn+7RiNP0ZD91XQf3ErALASCyAM5LuDhNT94mgxec1YjT9DQL7v0O7EIAiCwARBbA2ZPPz89peXm5mfON7+TkRJvDTU+VmZkZGhwcpH7FWeRSqVQPG2ZXOenqWdLALgSAyALEsYtj0g9rBKTUMtg6dnd3tQ+Y6+hCoaBtUEZHR+tFo36hncd+t+jplGZLbm9vbcOUzWadi/Y+wEX7fD6vXVtYWDCn4QRREkBkAdqp5FyH8VnJuZGqNfWOjo60D6yvr2sPOvK/Hfv0M1zEj/LoYrHoRSO1HTrxKoZcGL9sE3izYjvcMjY2RtPT07Y/EedUZyLAkz0BIgvQqer6hZEHanJzc6MNcr1D9Wj2WvZplaie4MPDAz0+PlIa6Nbrcbp+0p43QGdnZ+Qh8OQkgMgCQGQBpF5Z9oMsB8V5s+L6ROornswbpAPyEPySBYDIAkBkAaSO+nwg/UT+J1KKSnGas2lGSuTfjVDzJnGas2kGdiEARBYgqeOX38O4U/KAIpqz5msk00RSIl83QkUT2Sz+cEEprSLDLgSAyAL4ciT+jvRXpfOaWn3qtb6WVu2Ci/bg/8jRU+HfJQ7IU2AXAkBkAXx+TOmC3LgjAAAAIIK/jxLrTDtTJ6wAAAAASUVORK5CYII="})}):(0,jw.jsx)("div",{className:"backArrow"}),e.middleComponent,e.displayedRange[1]<e.frwdLimit?(0,jw.jsx)("button",{className:"frwdArrow",onClick:e.frwdFunc,children:(0,jw.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABQCAYAAAByBNlnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO0SURBVHgB7Zw9T9tQFIbfVhGITwUJBiSkumwwdWOlC2sHWJja/IJOjEiR+APlFySdWEBVVxhKmWCDBTbqChADID6FBEJQn6hY1ydObmLwsROfRzrDcW6c+FX0+t5zrgMoiqIoaeEN0kneix9oju9elJFCckgnJPIkmuM3UspbKLGjIguQVruoYn5+Hv39/X6+vLyMra0tc8gnL94Z+Y4X36DUxPHiyYyNjY2n/f19P6anp5/4GBa/kBLULgRQkQVoGU/mTExMBPLd3V3s7e2ZhxwvvrC3lZEAaV2MOF78MQ94noyRkZGab1hcXKyEhUSuV+1CABVZgJb1ZA7NoU07uby8xPX1NR/msNyFAG3jyRxaqMzOztqGOV78RcyoXQigIgugIgsQ5sm05p9EyuCePDg4iL6+Pj8/Pz/HxcVF3XOMjo7CQgExLFj0lyyAiiyAiiyAdTFSKBQwNTWFpLHNkcmfu7q6/Pz+/h5nZ2eBMUtLS4F8bm4Oh4eH5qGvXnw2cuobFvFCrCKPj49XVbzSSC6Xq0Q9GriODyx38QqoXQigIgvQdIGoo6MD3d3dSJrOzs66r5N15PP5wDE+j6b7zdXVlZ+vrq7ywj/ZR9HIXUSYR0cSeWBgAGmHRObfM0xkE7oJhohs+vQ6IoisdiGAiixA2xTtG6G3tzeQ397e4vHx0c/5FI/sg22gcRChOZspkYeGhgL5wcFBQOSZmZlKPLOyshImcomdtgwLahcCqMgCZMouOHwZTtZh2gfVQxpozto/BxlmeHg4kJ+cnODm5sbPqTBmFscabM5WoXYhgIosgIosQKY9+fj4GA8PD35u3vSItbU1LCws4KVkWmQS2BSZQxU61jmJhNqFACqyAJmyC5oHm3APplrF5uamnx8dHfFTbHth3WnOyZTI5kIjDBKYhK4DVf3LaBK1CwFUZAGatgvaNEKb+5Kmp6en0m+sBU3NbMWcUqkUaKTSE1QM8uCfRu4iApFEpkgaqqDZRLbt8iSRLfNgErmIF6J2IYCKLIDVLkKaiYkwNjYW+JcADl8i393dVY3h10FFeIaLoO/u4BXQnfZBdKd9q6IiC6AiCxB24/uI5HHAnkjlnJ6eVqIW+kRqxlCRBVCRBWibejLVISgsvGd57H5MtI3IDTY9XSSA2oUAKrIALWsXvOnJHqghIjU946BlRY6r6RkHahcCqMgCtIxd0OY/s2gfMl3b/h/PuFDq4qD+3/aGRREpRe1CABVZgDR78jqaw4WiKIqiWPgHiDRe78NGfkgAAAAASUVORK5CYII="})}):(0,jw.jsx)("div",{className:"frwdArrow"})]})};const sR=function(){const e=Z(),[t]=kE(),n=Y(),[r]=(0,s.useState)(n.state?n.state.goalArray:[]),[i]=(0,s.useState)(n.state.petPoints),[o,a]=(0,s.useState)([]),[l,u]=(0,s.useState)([]),[c,h]=(0,s.useState)([0,4]);return(0,s.useEffect)((()=>{(async()=>{try{if(void 0!==r&&null!==r&&r.length>0){let e=[];r.forEach((t=>e.push(t.logs))),a(r),u(e)}else(async()=>{const e=Vw.currentUser;if(e){let t=[];const n=await qw(e.uid);if(n&&n.goalArray.length>0){let e=n.goalArray,r=[];e.forEach((e=>t.push({goal:e.goal,pet:e.pet,logs:e.logs,progressCounter:e.progressCounter}))),t.forEach((e=>r.push(e.logs))),a(e),u(r)}}})()}catch(e){console.log("error trying to get pets")}})()}),[r]),(0,jw.jsxs)("div",{className:"CardDisplay",children:[(0,jw.jsx)("p",{className:"HeaderBubble",children:"My Pets"}),(0,jw.jsx)("div",{className:"Gallery",ref:t,children:(0,jw.jsx)("div",{className:"galleryContents",children:o.length>0?o.slice(c[0],c[1]).map(((t,n)=>(0,jw.jsxs)("div",{className:"ItemCard",children:[(0,jw.jsx)("p",{className:"ItemName",children:t.petName}),(0,jw.jsx)("p",{className:"ItemTextDesc",children:t.goal}),(0,jw.jsx)(vN,{currGoal:t,style:{height:100}}),l[n+c[0]].length>0?(0,jw.jsx)("button",{className:"newBubbleButton",id:n+c[0],onClick:t=>{return n=t.target.id,void(l[n].length>0?e("/ViewProgress",{state:{goal:o[n].goal,goalArray:o,goalId:n,petPoints:i}}):console.log("No logs yet"));var n},children:"Progress Logs"}):(0,jw.jsx)("button",{className:"disabledBubbleButton",style:{disabled:!0},id:n+c[0],children:"Progress Logs"})]},n+c[0]))):null})}),(0,jw.jsx)(iR,{displayedRange:c,backLimit:4,frwdLimit:o.length>0?o.length:0,backFunc:()=>{h([c[0]-4,c[1]-4])},frwdFunc:()=>{h([c[0]+4,c[1]+4])},middleComponent:null}),(0,jw.jsx)(JN,{goalArray:o,petPoints:i})]})},oR=n.p+"static/media/Doc1.6dff829f6c6fb94c36d8.png",aR=n.p+"static/media/Doc2.d7a2317e264a2cc4b992.png",lR=n.p+"static/media/Doc3.fc8826bd715a8e934900.png";const uR=function(){const e=Z(),[t,n]=(0,s.useState)(0),r=[oR,aR,lR];return(0,jw.jsxs)("div",{className:"DocIntro",children:[(0,jw.jsx)("img",{className:"Images",src:r[t],alt:"top speech bubble"}),(0,jw.jsx)("button",{className:"NextBubble",onClick:function(){t===r.length-1?e("../CreateGoal"):n(t+1)}})]})};const cR=function(){const e=Y(),[t]=(0,s.useState)(e.state.goalArray),[n]=(0,s.useState)(e.state.goalArray[e.state.goalId].logs),[r]=(0,s.useState)(e.state.goal),[i]=(0,s.useState)(e.state.petPoints),[o]=(0,s.useState)(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),[a,l]=(0,s.useState)(["",""]),[u,c]=(0,s.useState)(["",""]),[h,d]=(0,s.useState)([]),[f,p]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(()=>{if(n.length>0){let e=new Date(1e3*n[0].date.seconds),t=new Date(1e3*n[n.length-1].date.seconds);isNaN(e)&&(e=n[0].date),isNaN(t)&&(t=n[n.length-1].date);let r=e.getMonth(),i=e.getYear(),s=t.getMonth(),a=t.getFullYear();l([o[r],o[s]]),c([i%100,a%100])}})()}),[e,n,o]),(0,jw.jsxs)("div",{className:"ViewProgress",children:[(0,jw.jsx)("div",{className:"GoalBubble",children:(0,jw.jsxs)("p",{className:"BubbleText",children:[a[0]," ",u[0]," - ",a[1]," ",u[1]]})}),(0,jw.jsx)("div",{className:"InputBubble",children:(0,jw.jsx)("div",{className:"gridContents",children:n.length>0?n.map(((e,t)=>e.log.length>0?(0,jw.jsx)("img",{id:t,src:"data:image/png;base64,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",style:{width:40,margin:"8px 3px"},alt:"Journal Entry available",onClick:()=>(e=>{let t=new Date(1e3*n[e].date.seconds);isNaN(t)&&(t=n[e].date);let r=t.getMonth()+1,i=t.getDate(),s=t.getFullYear()%100;d([r+"."+i+"."+s,n[e].log]),p(!0)})(t)},t):(0,jw.jsx)("img",{id:t,src:"data:image/png;base64,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",style:{width:40,margin:"8px 3px"},alt:"No journal entry available"},t))):null})}),f&&(0,jw.jsx)("div",{className:"Popup",children:(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsx)("button",{className:"close-btn",onClick:()=>{p(!1)},children:(0,jw.jsx)("img",{src:ZN,alt:"close popup button"})}),(0,jw.jsx)("p",{className:"Bubble-Header",children:r}),(0,jw.jsx)("p",{className:"ViewDatePopup",children:h[0]}),(0,jw.jsx)("p",{className:"ViewGoalTextPopup",children:h[1]})]})}),(0,jw.jsx)(JN,{goalArray:t,petPoints:i})]})};const hR=function(e){let t=e.user,n=e.unlockItemPopup,r=e.itemData,i=r[0],s=r[1],o=r[2],a=r[4];return(0,jw.jsx)(jw.Fragment,{children:n&&(0,jw.jsx)("div",{className:"Popup",children:(0,jw.jsx)("div",{className:"UnlockItem",children:(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsxs)("p",{className:"UnlockItemText",children:["Are you sure you want to unlock the\xa0",(0,jw.jsx)("span",{className:"BoldedItemData",children:o})," for",(0,jw.jsxs)("span",{className:"BoldedItemData",children:["\xa0",s,"\xa0"]}),"points?"]}),(0,jw.jsx)("img",{src:i,style:{height:100},alt:"anItem"}),(0,jw.jsxs)("div",{className:"BinaryBubbleButtons",children:[(0,jw.jsx)("button",{onClick:async()=>{const n=rb(Uw,"all_data",t.uid),r=await Ew(n);let i=e.userPetPoints-s,o=r.data().unlockedAccessories;o[a]=!0,await kw(n,{unlockedAccessories:o,petPoints:i}),e.setIsUnlocked(o),e.setUserPetPoints(i),e.setUnlockItemPopup(!1)},className:"BinaryBubbleButton",children:" Yes "}),(0,jw.jsx)("button",{onClick:()=>{e.setUnlockItemPopup(!1)},className:"BinaryBubbleButton",children:" No "})]})]})})})})};const dR=function(e){const t=Vw.currentUser,[n]=(0,s.useState)(e.goalArray.slice().reverse()),[r,i]=(0,s.useState)([0,5]),[o,a]=(0,s.useState)(null),[l,u]=(0,s.useState)(e.selectedAccessory),c=[["Blue Cap","Orange Cap","Red Cap","Cowboy Hat","Blue Party Hat","Green Party Hat","Pink Party Hat"],["Blue Bandana","Red Bandana"]],[h,d]=(0,s.useState)(!1),f=()=>{e.setPopupDisplay(!1),d(!1)};return(0,s.useEffect)((()=>{u(e.selectedAccessory);(e=>{if(null!==e){for(var t=document.getElementsByClassName("petOption"),n=0;n<t.length;n++)parseInt(t[n].id)===e?t[n].style.backgroundColor="#A6A6A6":t[n].style.backgroundColor="#D9D9D9";a(e)}})(o)}),[o,r,e.popupDisplay,e.selectedAccessory]),(0,jw.jsx)("div",{className:"DressUp",children:(0,jw.jsx)("div",{className:"Popup",children:(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsx)("button",{className:"close-btn",onClick:f,children:(0,jw.jsx)("img",{src:ZN,alt:"close popup button"})}),h?(0,jw.jsxs)(jw.Fragment,{children:[(0,jw.jsxs)("p",{className:"BubbleHeader",children:["Your pet is already wearing the\xa0",(0,jw.jsx)("span",{style:{"font-weight":"bold"},children:void 0!==l?l[2]:""}),".",(0,jw.jsx)("br",{}),"Do you want to remove it?"]}),(0,jw.jsx)("div",{className:"spotlightPet",children:(0,jw.jsx)(vN,{currGoal:n[o]})}),(0,jw.jsxs)("div",{className:"rowOfButtons",children:[(0,jw.jsx)("button",{className:"newBubbleButton",onClick:()=>{let e=n;const r=e[o],i=l[2];for(let n=0;n<c.length;n++)c[n].includes(i)&&(0===n?r.wearingAccessories.headgear="":1===n&&(r.wearingAccessories.neckwear=""),e[o]=r,e.reverse(),Hw(t.uid,{goalArray:e}));f(),d(!1)},children:"Yes"}),(0,jw.jsx)("button",{className:"newBubbleButton",onClick:f,children:"No"})]})]}):(0,jw.jsxs)(jw.Fragment,{children:[(0,jw.jsxs)("p",{className:"BubbleHeader",children:["Who to dress up in the",(0,jw.jsx)("br",{}),(0,jw.jsx)("span",{style:{"font-weight":"bold"},children:void 0!==l?l[2]:""}),"?"]}),(0,jw.jsx)("div",{className:"gridContents",children:n.length>0?n.slice(r[0],r[1]).map(((e,t)=>(0,jw.jsxs)("div",{className:"petOption",id:t+r[0],onClick:()=>a(t+r[0]),children:[(0,jw.jsx)(vN,{currGoal:e}),(0,jw.jsx)("p",{className:"petsName",children:e.petName}),t+r[0]===0?(0,jw.jsx)("img",{className:"activeIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgBrZQxUsJAFIa/3VhQxgtIPIGUNmAuoGBpBzPqGewcTyD2MHAExEY7kAuktDOxs/MAmvVtQDGCMpD9qs3L5pvdt9lfsYxe6PP+0URxAKoilWD2JgITk3LL+aS/7FO1UOlUG1Luycjnf0Rsrn6LvdyUbu1aZG0ZlViNj1IN6mUYJuNFYbd2ieGC9QlF6ov0wT5Mt9ytNjHZNgtgjjmdDKbCTu2ZeeM35Q1P73rZ6lBNilMiTV81Rtdxhgq17D3AFZo9EVLBFYZA4xgRqhh3RHaFEa4wJHLK6RhXGDPQbHl97E9ZnNgGhaY1EplpURSbPHyFw/DliaPytoz22QSDjbH2XJhJk3sOy0riImQ9bjh7/E6pfB7eJSPqO8kspVcFrG3ViSRM+2dR/Tk9izTknquA+W2KRRJJfZwdZtb/PJ8Iw181eyUucgAAAABJRU5ErkJggg==",alt:"active pet"}):null,(0,jw.jsxs)("p",{className:"daysOld",children:[e.progressCounter,"/60d"]})]},t+r[0]))):null}),(0,jw.jsx)(iR,{displayedRange:r,backLimit:5,frwdLimit:n.length-1,backFunc:()=>{i([r[0]-5,r[1]-5])},frwdFunc:()=>{i([r[0]+5,r[1]+5])},middleComponent:null===o?(0,jw.jsx)("button",{className:"disabledBubbleButton",children:"Confirm"}):(0,jw.jsx)("button",{className:"newBubbleButton",onClick:()=>{let e=n;const r=e[o],i=l[2];for(let n=0;n<c.length;n++)if(c[n].includes(i)){if(0===n){if(r.wearingAccessories.headgear===i)return d(!0),0;r.wearingAccessories.headgear=i}else if(1===n){if(r.wearingAccessories.neckwear===i)return d(!0),0;r.wearingAccessories.neckwear=i}e[o]=r,e.reverse(),Hw(t.uid,{goalArray:e})}f(),d(!1)},children:"Confirm"})})]})]})})})},fR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEUSURBVHgB7ZVNCsIwEIUnIrr0B/EirnWjHkT0CLpVL+MRpN14AcED1BvYLjxAhXFCI4QgaSeNrYt+8BjSSeYxaZoCNPw7iNgj7UghKSGlKobq+RB8Q0XXysRGLOeBL6jYHnnsoSxUZINuuHdOiwdo396ItCB1VIy0nNz2AbiA2YGxMTfmL4z8FlzA7LTa6Brzu0Y+0PMtKM4kJz81xjPm+u9g9p3akO90qTqV8W7kU72eYBgnFEbgTiKEGH8GnK2+Qjlu+oBj/IRyXIALbfMRy/Eg9as2lazqMOXd1R5M4192eiKdlclLxYC0Re7/mGF6AF/kmYJHhGFsLU43T+GbLg/OBeKVdt4En13q1NZxbcYNlfEGKfVYzBgTSAwAAAAASUVORK5CYII=";const pR=function(){const e=Y(),[t]=(0,s.useState)(e.state?e.state.goalArray:[]),n=[["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAINJREFUWIVjYBjpgJFMff+pZR45Dvif3ord/pnVjCSbSaoDcFpOriNIcQCm5VVnIXSbMdmOINYBuC2HAQocQawD/jNAEh9BjKSWICA6BBgYGBgcQ5cSpXj/6miizSfGAf+JtRiHQ/DaQZQDyLKdNDtGwSgYBaNgFIyCUTAKRsEoGDgAADoML9Hx7D5uAAAAAElFTkSuQmCC",25,"Blue Cap","Your pet will feel fly in this!",0],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAIhJREFUWIXtksEJgDAQBNeHoB1Yk4WIWJCIhViTHSjkER8iKBpzdwo+3IF8ksvuEAL8ncR4z7+VZxHwU5VeHuS9U2dqBYLlVgmNwKk8qx0AYO6O+xoJqUCwfOOJhFTAY/180bWbjSJ+AQBoy0I03AyjOF8i4KXFAZHbDpGAqV3XQQghhBBCyHcsysIwv2Q0dNIAAAAASUVORK5CYII=",25,"Orange Cap","Your pet will feel fly in this!",1],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAIlJREFUWIVjYBjpgJFMff+pZR45Dvh/08Ycq4T6kZMkm0mqA3BaTq4jSHEAhuUSZcoMDAwMDC+67pLtCGIdgNNyGKDEEcQ64D8DJPERxEhqCQKiQ4CBgYFhpaoiUYrDb98n2nxiHPCfWItxOASvHUQ5gCzbSbNjFIyCUTAKRsEoGAWjYBSMgoEDAImIMJN/CZavAAAAAElFTkSuQmCC",25,"Red Cap","Your pet will feel fly in this!",2],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAIpJREFUWIXtlMkRgCAMRYNjQfZiQzREL3YUL4yyxgyYg+N/J5ZPEkKIIz2cjN2EJkMlIiL2+3ZNfDhaZzWaoQAywx0HGk2TZcS5lniWJc1TAOYMB5DcbipL0vtMGU6RauG7T/AWazFvVmxMYb1e//vuPnWalNhMLCjroQrA1PuNtgMDAAAAAIAfcAICcyscUPDGXgAAAABJRU5ErkJggg==",50,"Cowboy Hat","Your pet will feel fly in this!",3],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAIhJREFUWIXtk0sKgDAQQ1PxRnqn3qGu9Q7eqZ5p3FRU/MCk4MY8KHTTTBKmgKjDyqFpaoZHy4ijbUY+NWDRMjB1AIBomTbBN1CGIy37nSAQb6wkvhiZQ+/WbAkD18QVLXgbOKe/MTQPwaXrb+AtaVqAwSdXvwMHmB1gDADPX47VE0IIIYQQP2YFC8InNPi6JooAAAAASUVORK5CYII=",35,"Blue Party Hat","Your pet will feel fly in this!",4],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAH5JREFUWIXt08ENgCAQBMDTKuhB2qAma7AmevCFPVwX+BFj4hnDnj93EhJewG4OEfKpx4KNnsunJUhdz4dABs/lV9us0HlwAyWpue+FNHBL3yAteGbAlbzpbeAxfUkqMYfuFqAGrOQx2w97456BllwEmwH4G358HhERERH92A5LVSamxip4IwAAAABJRU5ErkJggg==",35,"Green Party Hat","Your pet will feel fly in this!",5],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAIFJREFUWIXt1DESgCAMBMDTD2jLH/0N/pEWXhALgZHCgkth4e0MhYUk3GQCiI/VQ1s8xXOtvd/XUHetbHFLsX/URqgk2AYAAFs6Pb/TDQyvb9gUXAmUcADwJTE7OH3wmmfxEo7pgXQl8BXLsOFYipZh1E5g98BbIc9eEREREZGfugBl+zF+axIpCgAAAABJRU5ErkJggg==",35,"Pink Party Hat","Your pet will feel fly in this!",6],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAGVJREFUWIVjYBgFo2AUjIJRMApGwSgYBUMBOIYu/V9f/58JixQjMsc1dhE3sh5izGYkrIQ0A2Fg/+pooswm2gHEOoRYi8l2AD5HkGo52Q7A5ghyLKcYOIYu/U9q2hgFo2AUDDoAAJZoHDzAGjL3AAAAAElFTkSuQmCC",20,"Blue Bandana","Your pet will feel fly in this!",7],["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYmlDQ1BpY2MAACiRdZC9S8NQFMVPq1LQOogOHRwyiUPU0gp2cWgrFEUwVAWrU5p+CW18JClScRNXKfgfWMFZcLCIVHBxcBBEBxHdnDopuGh43pdU2iLex+X9OJxzuVzAG1AZK/YCKOmWkUzEpLXUuuR7g4eeU6pmsqiiLAr+/bvr89H13k+IWU27dhDZT1yXzi6Xdp4CU3/9XdWfyZoa/d/UQY0ZFuCRiZVtiwneJR4xaCniquC8y8eC0y6fO56VZJz4lljSCmqGuEkspzv0fAeXimWttYPY3p/VV5fFHOpRzGETJhiKUFGBBAXhf/zTjj+OLXJXYFAujwIsykRJEROyxPPQoWESMnEIQeqQuHPrfg+t+8ltbe8VmG1wzi/a2kIDOJ2hk9Xb2ngEGBoAbupMNVRH6qH25nLA+wkwmAKG7yizYebCIXd7fwzoe+H8YwzwHQJ2lfOvI87tGoWfgSv9BxcparzsG/VjAAAABHNCSVQICAgIfAhkiAAAAGVJREFUWIVjYBgFo2AUjIJRMApGwSgYBUMBrFRV/F9f/58JixQjMsc1dhE3sh5izGYkrIQ0A2Eg/PZ9oswm2gHEOoRYi8l2AD5HkGo52Q7A5ghyLKcYrFRV/E9q2hgFo2AUDDoAAHmmGwzIUVf0AAAAAElFTkSuQmCC",20,"Red Bandana","Your pet will feel fly in this!",8]],[r,i]=(0,s.useState)([0,4]),[o,a]=(0,s.useState)(e.state.petPoints),[l,u]=(0,s.useState)(0),[c,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)([]),v=Vw.currentUser;return(0,s.useEffect)((()=>{(async()=>{const e=rb(Uw,"all_data",v.uid);let t=(await Ew(e)).data().unlockedAccessories;y(t)})()}),[v.uid]),(0,jw.jsxs)("div",{className:"CardDisplay",children:[(0,jw.jsx)("p",{className:"HeaderBubble",children:"Pet Store"}),(0,jw.jsx)("div",{className:"Gallery",children:(0,jw.jsx)("div",{className:"galleryContents",children:n.slice(r[0],r[1]).map(((e,t)=>(0,jw.jsxs)("div",{className:"ItemCard",children:[(0,jw.jsx)("p",{className:"ItemName",children:e[2]}),(0,jw.jsx)("p",{className:"ItemTextDesc",children:e[3]}),(0,jw.jsx)("img",{src:e[0],style:{height:100},alt:"anItem"}),g[e[4]]&&(0,jw.jsxs)("button",{className:"newBubbleButton",id:Number(t+r[0]),onClick:e=>{return t=e.target.id,u(n[Number(t)]),void h(!0);var t},children:[(0,jw.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgB7ZRBDgExFIZfBRdg5wJzBTs34BacRcK4ghVxAZYkMi7gCmwkVvb1N3kjYzSj1akY6Zf8M036Xv/X17REVUFK2YSm0JU1gxrkG5jE8pUx+YZ3qehCPR5fyJI62XNUHyHEgQtRvzZ9m7TXZEmN3LlxAR0qEywYQSNoAZ15g7vM/DI9Z45RsRHZwkZDaA6dpJ6scQvaamJUISujQhCQyPf0NXkDg7ykyNiEtSZvY5LoaqyYQG1WbJqU9RJ5Y/II7v7Dr4zr9BF54z3542ltURTp2vpsa/P8TKuDcTAOxv9n7PKE+nx+AxXgDqnQzhrk+NH4AAAAAElFTkSuQmCC",id:Number(t+r[0]),alt:"acc"}),"Dress a pet"]}),!g[e[4]]&&(e[1]<=o?(0,jw.jsxs)("button",{onClick:()=>(e=>{let t=e[1];o>=t&&(m(e),f(!0))})(e),className:"newBubbleButton",id:t,children:[(0,jw.jsx)("img",{src:fR,alt:"key"}),(0,jw.jsxs)("span",{className:"priceTag",children:[e[1]," pts"]})]}):(0,jw.jsxs)("button",{className:"disabledBubbleButton",id:t,children:[(0,jw.jsx)("img",{src:fR,alt:"key"}),(0,jw.jsxs)("span",{className:"priceTag",children:[e[1]," pts"]})]})),(0,jw.jsx)(hR,{unlockItemPopup:d,setUnlockItemPopup:f,setIsUnlocked:y,itemData:p,user:v,userPetPoints:o,setUserPetPoints:a})]},t+r[0])))})}),(0,jw.jsx)(iR,{displayedRange:r,backLimit:4,frwdLimit:9,backFunc:()=>{i([r[0]-4,r[1]-4])},frwdFunc:()=>{i([r[0]+4,r[1]+4])},middleComponent:(0,jw.jsxs)("p",{className:"petPointsDisplay",children:[o," pts"]})}),c&&(0,jw.jsx)(dR,{goalArray:t,selectedAccessory:l,popupDisplay:c,setPopupDisplay:h}),(0,jw.jsx)(JN,{goalArray:t,petPoints:o})]})};const mR=function(e){const[t,n]=(0,s.useState)(10),[r]=(0,s.useState)(["data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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","data:image/png;base64,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",yN]);function i(){return(0,jw.jsx)("img",{className:"pet",src:`/NeuroPets/${r[t]}`,alt:"pet stage"})}return(0,s.useEffect)((()=>{if(null!==e.currGoal){let t=e.currGoal.pet,r=e.currGoal.progressCounter;r<=7?n(9):r<=28?n(t):r<=49?n(t+1):r<=60&&n(t+2)}}),[n,e.currGoal]),(0,jw.jsx)(jw.Fragment,{children:(0,jw.jsx)(i,{})})};const gR=function(){const e=Z(),t=Y().state;return(0,jw.jsxs)("div",{className:"GoalComplete",children:[(0,jw.jsx)("div",{className:"GoalCompleteInputBubble",children:(0,jw.jsxs)("div",{className:"GoalCompleteBubbleHeader",children:[(0,jw.jsx)("h1",{children:"Congratulations!"}),(0,jw.jsx)("p",{children:"You\u2019ve worked towards your goal for 60 days. That\u2019s an incredible accomplishment!"})]})}),(0,jw.jsx)(mR,{currGoal:t.currGoal}),(0,jw.jsx)("button",{onClick:()=>{const t=Vw.currentUser;let n=qw(t.uid).lastProgressMade;Hw(t.uid,{activeGoal:0,lastProgressMade:IN.firestore.FieldValue.delete(n)}),e("../Home")},className:"GoalCompleteBubbleButton",children:"Continue"})]})};const yR=function(e){let{isSignedIn:t,children:n}=e;return t?n:(0,jw.jsx)(ce,{to:"/",replace:!0})};const vR=function(){const e=Z(),t=Y(),n=Vw.currentUser,{goalText:r}=t.state||{},i=(new Date).toLocaleDateString(),[o,a]=(0,s.useState)(""),[l,u]=(0,s.useState)(""),[c,h]=(0,s.useState)("");return(0,jw.jsxs)("div",{className:"PetContract",children:[(0,jw.jsx)("div",{className:"bubbleHeader",children:"NeuroPet Adoption Form & Contract to Myself "}),(0,jw.jsxs)("div",{className:"InputBubble",children:[(0,jw.jsxs)("div",{className:"contractText",children:[(0,jw.jsxs)("p",{children:["I  ",(0,jw.jsx)("input",{placeholder:"Name",className:"bubbleField",value:c,onChange:e=>h(e.target.value)}),"vow to look after my NeuroPet",(0,jw.jsx)("input",{placeholder:"Enter Pet Name",className:"bubbleField",value:l,onChange:e=>u(e.target.value)}),"by working towards  everyday for 60 days."]}),(0,jw.jsx)("p",{children:"I understand that my pet\u2019s growth depends on my dedication to my goal."}),(0,jw.jsx)("p",{children:"I will change, and achieve my goal, by signing up for it one day at a time, in a row."})]}),(0,jw.jsxs)("div",{className:"contractFooter",children:[(0,jw.jsxs)("div",{className:"TextBox1",children:[" ",i," ",(0,jw.jsx)("br",{})," Date "]}),(0,jw.jsxs)("div",{className:"TextBox2",children:[" ",l," ",(0,jw.jsx)("br",{})," Witness   "]})]})]}),(0,jw.jsx)("button",{onClick:i=>{i.preventDefault(),console.log(t.state),0===l.length?a("Please enter in petname"):0===c.length?a("Please enter in your name"):(!async function(e,t,n){const r=[0,3,6],i={goal:t,pet:r[Math.floor(Math.random()*r.length)],petName:n,currDate:new Date,progressCounter:0,logs:[],wearingAccessories:{headgear:"",neckwear:"",bodypaint:""}};try{let t=await qw(e);Hw(e,{activeGoal:1});let n=t.goalArray;n.push(i),Hw(e,{goalArray:n})}catch(s){console.log(s)}}(n.uid,r,l),setTimeout((function(){e("../Home")}),800))},className:"bubbleButton",children:"Submit Contract Here"}),o&&(0,jw.jsxs)("p",{children:[" Error: ",o]})]})};const AR=function(){const[e,t]=(0,s.useState)(!1);return(0,jw.jsxs)(fe,{children:[(0,jw.jsx)(he,{path:"/petContract",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(vR,{})})}),(0,jw.jsx)(he,{path:"",element:(0,jw.jsx)(Qw,{setIsSignedIn:t})}),(0,jw.jsx)(he,{path:"/",element:(0,jw.jsx)(Qw,{setIsSignedIn:t})}),(0,jw.jsx)(he,{path:"/regPage",element:(0,jw.jsx)(Kw,{setIsSignedIn:t})}),(0,jw.jsx)(he,{path:"/createGoal",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(Zw,{})})}),(0,jw.jsx)(he,{path:"/home",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(rR,{})})}),(0,jw.jsx)(he,{path:"/doctorIntro",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(uR,{})})}),(0,jw.jsx)(he,{path:"/petGallery",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(sR,{})})}),(0,jw.jsx)(he,{path:"/viewProgress",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(cR,{})})}),(0,jw.jsx)(he,{path:"/petStore",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(pR,{})})}),(0,jw.jsx)(he,{path:"/goalCompleted",element:(0,jw.jsx)(yR,{isSignedIn:e,children:(0,jw.jsx)(gR,{})})})]})},bR=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};function wR(e){let{basename:t,children:n,window:r}=e,i=s.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=p(e.location.hash.substr(1));return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))}),(function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:r,v5Compat:!0}));let o=i.current,[a,l]=s.useState({action:o.action,location:o.location});return s.useLayoutEffect((()=>o.listen(l)),[o]),s.createElement(de,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ER,IR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ER||(ER={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(IR||(IR={}));o.createRoot(document.getElementById("root")).render((0,jw.jsx)(wR,{children:(0,jw.jsx)(AR,{})})),bR()})();
//# sourceMappingURL=main.96e26607.js.map